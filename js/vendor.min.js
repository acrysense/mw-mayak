!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AOS=e():t.AOS=e()}(this,(function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="dist/",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=(n(i(1)),i(6)),s=n(a),o=n(i(7)),l=n(i(8)),c=n(i(9)),d=n(i(10)),h=n(i(11)),u=n(i(14)),f=[],p=!1,g={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},m=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(p=!0),p)return f=(0,h.default)(f,g),(0,d.default)(f,g.once),f},_=function(){f=(0,u.default)(),m()};t.exports={init:function(t){g=r(g,t),f=(0,u.default)();var e=document.all&&!window.atob;return function(t){return!0===t||"mobile"===t&&c.default.mobile()||"phone"===t&&c.default.phone()||"tablet"===t&&c.default.tablet()||"function"==typeof t&&!0===t()}(g.disable)||e?void f.forEach((function(t,e){t.node.removeAttribute("data-aos"),t.node.removeAttribute("data-aos-easing"),t.node.removeAttribute("data-aos-duration"),t.node.removeAttribute("data-aos-delay")})):(g.disableMutationObserver||l.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),g.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",g.easing),document.querySelector("body").setAttribute("data-aos-duration",g.duration),document.querySelector("body").setAttribute("data-aos-delay",g.delay),"DOMContentLoaded"===g.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?m(!0):"load"===g.startEvent?window.addEventListener(g.startEvent,(function(){m(!0)})):document.addEventListener(g.startEvent,(function(){m(!0)})),window.addEventListener("resize",(0,o.default)(m,g.debounceDelay,!0)),window.addEventListener("orientationchange",(0,o.default)(m,g.debounceDelay,!0)),window.addEventListener("scroll",(0,s.default)((function(){(0,d.default)(f,g.once)}),g.throttleDelay)),g.disableMutationObserver||l.default.ready("[data-aos]",_),f)},refresh:m,refreshHard:_}},function(t,e){},,,,,function(t,e){(function(e){"use strict";function i(t,e,i){function r(e){var i=h,n=u;return h=u=void 0,_=e,p=t.apply(n,i)}function s(t){var i=t-m;return void 0===m||i>=e||i<0||x&&t-_>=f}function l(){var t=k();return s(t)?c(t):void(g=setTimeout(l,function(t){var i=e-(t-m);return x?b(i,f-(t-_)):i}(t)))}function c(t){return g=void 0,w&&h?r(t):(h=u=void 0,p)}function d(){var t=k(),i=s(t);if(h=arguments,u=this,m=t,i){if(void 0===g)return function(t){return _=t,g=setTimeout(l,e),v?r(t):p}(m);if(x)return g=setTimeout(l,e),r(m)}return void 0===g&&(g=setTimeout(l,e)),p}var h,u,f,p,g,m,_=0,v=!1,x=!1,w=!0;if("function"!=typeof t)throw new TypeError(o);return e=a(e)||0,n(i)&&(v=!!i.leading,f=(x="maxWait"in i)?y(a(i.maxWait)||0,e):f,w="trailing"in i?!!i.trailing:w),d.cancel=function(){void 0!==g&&clearTimeout(g),_=0,h=m=u=g=void 0},d.flush=function(){return void 0===g?p:c(k())},d}function n(t){var e=void 0===t?"undefined":s(t);return!!t&&("object"==e||"function"==e)}function r(t){return"symbol"==(void 0===t?"undefined":s(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":s(t))}(t)&&v.call(t)==c}function a(t){if("number"==typeof t)return t;if(r(t))return l;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(d,"");var i=u.test(t);return i||f.test(t)?p(t.slice(2),i?2:8):h.test(t)?l:+t}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="Expected a function",l=NaN,c="[object Symbol]",d=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,g="object"==(void 0===e?"undefined":s(e))&&e&&e.Object===Object&&e,m="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,_=g||m||Function("return this")(),v=Object.prototype.toString,y=Math.max,b=Math.min,k=function(){return _.Date.now()};t.exports=function(t,e,r){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return n(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),i(t,e,{leading:a,maxWait:e,trailing:s})}}).call(e,function(){return this}())},function(t,e){(function(e){"use strict";function i(t){var e=void 0===t?"undefined":a(t);return!!t&&("object"==e||"function"==e)}function n(t){return"symbol"==(void 0===t?"undefined":a(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":a(t))}(t)&&_.call(t)==l}function r(t){if("number"==typeof t)return t;if(n(t))return o;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var r=h.test(t);return r||u.test(t)?f(t.slice(2),r?2:8):d.test(t)?o:+t}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s="Expected a function",o=NaN,l="[object Symbol]",c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt,p="object"==(void 0===e?"undefined":a(e))&&e&&e.Object===Object&&e,g="object"==("undefined"==typeof self?"undefined":a(self))&&self&&self.Object===Object&&self,m=p||g||Function("return this")(),_=Object.prototype.toString,v=Math.max,y=Math.min,b=function(){return m.Date.now()};t.exports=function(t,e,n){function a(e){var i=h,n=u;return h=u=void 0,_=e,p=t.apply(n,i)}function o(t){var i=t-m;return void 0===m||i>=e||i<0||x&&t-_>=f}function l(){var t=b();return o(t)?c(t):void(g=setTimeout(l,function(t){var i=e-(t-m);return x?y(i,f-(t-_)):i}(t)))}function c(t){return g=void 0,w&&h?a(t):(h=u=void 0,p)}function d(){var t=b(),i=o(t);if(h=arguments,u=this,m=t,i){if(void 0===g)return function(t){return _=t,g=setTimeout(l,e),k?a(t):p}(m);if(x)return g=setTimeout(l,e),a(m)}return void 0===g&&(g=setTimeout(l,e)),p}var h,u,f,p,g,m,_=0,k=!1,x=!1,w=!0;if("function"!=typeof t)throw new TypeError(s);return e=r(e)||0,i(n)&&(k=!!n.leading,f=(x="maxWait"in n)?v(r(n.maxWait)||0,e):f,w="trailing"in n?!!n.trailing:w),d.cancel=function(){void 0!==g&&clearTimeout(g),_=0,h=m=u=g=void 0},d.flush=function(){return void 0===g?p:c(b())},d}}).call(e,function(){return this}())},function(t,e){"use strict";function i(t){var e=void 0,n=void 0;for(e=0;e<t.length;e+=1){if((n=t[e]).dataset&&n.dataset.aos)return!0;if(n.children&&i(n.children))return!0}return!1}function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(t){t&&t.forEach((function(t){var e=Array.prototype.slice.call(t.addedNodes),n=Array.prototype.slice.call(t.removedNodes);if(i(e.concat(n)))return a()}))}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){};e.default={isSupported:function(){return!!n()},ready:function(t,e){var i=window.document,s=new(n())(r);a=e,s.observe(i.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(t,e){"use strict";function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"phone",value:function(){var t=i();return!(!r.test(t)&&!a.test(t.substr(0,4)))}},{key:"mobile",value:function(){var t=i();return!(!s.test(t)&&!o.test(t.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),t}();e.default=new l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){var i=window.pageYOffset,n=window.innerHeight;t.forEach((function(t,r){!function(t,e,i){var n=t.node.getAttribute("data-aos-once");e>t.position?t.node.classList.add("aos-animate"):void 0!==n&&("false"===n||!i&&"true"!==n)&&t.node.classList.remove("aos-animate")}(t,n+i,e)}))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(12));e.default=function(t,e){return t.forEach((function(t,i){t.node.classList.add("aos-init"),t.position=(0,n.default)(t.node,e.offset)})),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(13));e.default=function(t,e){var i=0,r=0,a=window.innerHeight,s={offset:t.getAttribute("data-aos-offset"),anchor:t.getAttribute("data-aos-anchor"),anchorPlacement:t.getAttribute("data-aos-anchor-placement")};switch(s.offset&&!isNaN(s.offset)&&(r=parseInt(s.offset)),s.anchor&&document.querySelectorAll(s.anchor)&&(t=document.querySelectorAll(s.anchor)[0]),i=(0,n.default)(t).top,s.anchorPlacement){case"top-bottom":break;case"center-bottom":i+=t.offsetHeight/2;break;case"bottom-bottom":i+=t.offsetHeight;break;case"top-center":i+=a/2;break;case"bottom-center":i+=a/2+t.offsetHeight;break;case"center-center":i+=a/2+t.offsetHeight/2;break;case"top-top":i+=a;break;case"bottom-top":i+=t.offsetHeight+a;break;case"center-top":i+=t.offsetHeight/2+a}return s.anchorPlacement||s.offset||isNaN(e)||(r=e),i+r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){for(var e=0,i=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-("BODY"!=t.tagName?t.scrollLeft:0),i+=t.offsetTop-("BODY"!=t.tagName?t.scrollTop:0),t=t.offsetParent;return{top:i,left:e}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return t=t||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(t,(function(t){return{node:t}}))}}])})),"undefined"!=typeof navigator&&function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).lottie=e()}(this,(function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var i,n,r=t.length;for(i=0;i<r;i+=1)for(var a in n=t[i].prototype)Object.prototype.hasOwnProperty.call(n,a)&&(e.prototype[a]=n[a])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,i=this.audios.length;for(e=0;e<i;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(t,e){var i,n=0,r=[];switch(t){case"int16":case"uint8c":i=1;break;default:i=1.1}for(n=0;n<e;n+=1)r.push(i);return r}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,i){return"float32"===e?new Float32Array(i):"int16"===e?new Int16Array(i):"uint8c"===e?new Uint8ClampedArray(i):t(e,i)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i=e.length;for(t=0;t<i;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===_typeof$6(t)&&t.length){var e,i=createSizedArray(t.length),n=t.length;for(e=0;e<n;e+=1)i[e]=Math.abs(t[e]);return i}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){_shouldRoundValues=!!t}function bmRnd(t){return _shouldRoundValues?Math.round(t):t}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,i,n){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=n<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,i,n){this.type=t,this.currentLoop=i,this.totalLoops=e,this.direction=n<0?-1:1}function BMSegmentStartEvent(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,i){var n,r,a,s,o,l,c,d;switch(l=i*(1-e),c=i*(1-(o=6*t-(s=Math.floor(6*t)))*e),d=i*(1-(1-o)*e),s%6){case 0:n=i,r=d,a=l;break;case 1:n=c,r=i,a=l;break;case 2:n=l,r=i,a=d;break;case 3:n=l,r=c,a=i;break;case 4:n=d,r=l,a=i;break;case 5:n=i,r=l,a=c}return[n,r,a]}function RGBtoHSV(t,e,i){var n,r=Math.max(t,e,i),a=Math.min(t,e,i),s=r-a,o=0===r?0:s/r,l=r/255;switch(r){case a:n=0;break;case t:n=e-i+s*(e<i?6:0),n/=6*s;break;case e:n=i-t+2*s,n/=6*s;break;case i:n=t-e+4*s,n/=6*s}return[n,o,l]}function addSaturationToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[1]+=e,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[2]+=e,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[0]+=e/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}var rgbToHex=function(){var t,e,i=[];for(t=0;t<256;t+=1)e=t.toString(16),i[t]=1===e.length?"0"+e:e;return function(t,e,n){return t<0&&(t=0),e<0&&(e=0),n<0&&(n=0),"#"+i[t]+i[e]+i[n]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t},getIdPrefix=function(){return idPrefix$1};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$5(t)}var dataManager=function(){var t,e,i=1,n=[],r={onmessage:function(){},postMessage:function(e){t({data:e})}},a={postMessage:function(t){r.onmessage({data:t})}};function s(){e||(e=function(e){if(window.Worker&&window.Blob&&getWebWorker()){var i=new Blob(["var _workerSelf = self; self.onmessage = ",e.toString()],{type:"text/javascript"}),n=URL.createObjectURL(i);return new Worker(n)}return t=e,r}((function(t){if(a.dataManager||(a.dataManager=function(){function t(r,a){var s,o,l,c,d,u,f=r.length;for(o=0;o<f;o+=1)if("ks"in(s=r[o])&&!s.completed){if(s.completed=!0,s.hasMask){var p=s.masksProperties;for(c=p.length,l=0;l<c;l+=1)if(p[l].pt.k.i)n(p[l].pt.k);else for(u=p[l].pt.k.length,d=0;d<u;d+=1)p[l].pt.k[d].s&&n(p[l].pt.k[d].s[0]),p[l].pt.k[d].e&&n(p[l].pt.k[d].e[0])}0===s.ty?(s.layers=e(s.refId,a),t(s.layers,a)):4===s.ty?i(s.shapes):5===s.ty&&h(s)}}function e(t,e){var i=function(t,e){for(var i=0,n=e.length;i<n;){if(e[i].id===t)return e[i];i+=1}return null}(t,e);return i?i.layers.__used?JSON.parse(JSON.stringify(i.layers)):(i.layers.__used=!0,i.layers):null}function i(t){var e,r,a;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)n(t[e].ks.k);else for(a=t[e].ks.k.length,r=0;r<a;r+=1)t[e].ks.k[r].s&&n(t[e].ks.k[r].s[0]),t[e].ks.k[r].e&&n(t[e].ks.k[r].e[0]);else"gr"===t[e].ty&&i(t[e].it)}function n(t){var e,i=t.i.length;for(e=0;e<i;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function r(t,e){var i=e?e.split("."):[100,100,100];return t[0]>i[0]||!(i[0]>t[0])&&(t[1]>i[1]||!(i[1]>t[1])&&(t[2]>i[2]||!(i[2]>t[2])&&null))}var a,s=function(){var t=[4,4,14];function e(t){var e,i,n,r=t.length;for(e=0;e<r;e+=1)5===t[e].ty&&(void 0,n=(i=t[e]).t.d,i.t.d={k:[{s:n,t:0}]})}return function(i){if(r(t,i.v)&&(e(i.layers),i.assets)){var n,a=i.assets.length;for(n=0;n<a;n+=1)i.assets[n].layers&&e(i.assets[n].layers)}}}(),o=(a=[4,7,99],function(t){if(t.chars&&!r(a,t.v)){var e,n=t.chars.length;for(e=0;e<n;e+=1){var s=t.chars[e];s.data&&s.data.shapes&&(i(s.data.shapes),s.data.ip=0,s.data.op=99999,s.data.st=0,s.data.sr=1,s.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},t.chars[e].t||(s.data.shapes.push({ty:"no"}),s.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var t=[5,7,15];function e(t){var e,i,n=t.length;for(e=0;e<n;e+=1)5===t[e].ty&&(i=void 0,"number"==typeof(i=t[e].t.p).a&&(i.a={a:0,k:i.a}),"number"==typeof i.p&&(i.p={a:0,k:i.p}),"number"==typeof i.r&&(i.r={a:0,k:i.r}))}return function(i){if(r(t,i.v)&&(e(i.layers),i.assets)){var n,a=i.assets.length;for(n=0;n<a;n+=1)i.assets[n].layers&&e(i.assets[n].layers)}}}(),c=function(){var t=[4,1,9];function e(t){var i,n,r,a=t.length;for(i=0;i<a;i+=1)if("gr"===t[i].ty)e(t[i].it);else if("fl"===t[i].ty||"st"===t[i].ty)if(t[i].c.k&&t[i].c.k[0].i)for(r=t[i].c.k.length,n=0;n<r;n+=1)t[i].c.k[n].s&&(t[i].c.k[n].s[0]/=255,t[i].c.k[n].s[1]/=255,t[i].c.k[n].s[2]/=255,t[i].c.k[n].s[3]/=255),t[i].c.k[n].e&&(t[i].c.k[n].e[0]/=255,t[i].c.k[n].e[1]/=255,t[i].c.k[n].e[2]/=255,t[i].c.k[n].e[3]/=255);else t[i].c.k[0]/=255,t[i].c.k[1]/=255,t[i].c.k[2]/=255,t[i].c.k[3]/=255}function i(t){var i,n=t.length;for(i=0;i<n;i+=1)4===t[i].ty&&e(t[i].shapes)}return function(e){if(r(t,e.v)&&(i(e.layers),e.assets)){var n,a=e.assets.length;for(n=0;n<a;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}(),d=function(){var t=[4,4,18];function e(t){var i,n,r;for(i=t.length-1;i>=0;i-=1)if("sh"===t[i].ty)if(t[i].ks.k.i)t[i].ks.k.c=t[i].closed;else for(r=t[i].ks.k.length,n=0;n<r;n+=1)t[i].ks.k[n].s&&(t[i].ks.k[n].s[0].c=t[i].closed),t[i].ks.k[n].e&&(t[i].ks.k[n].e[0].c=t[i].closed);else"gr"===t[i].ty&&e(t[i].it)}function i(t){var i,n,r,a,s,o,l=t.length;for(n=0;n<l;n+=1){if((i=t[n]).hasMask){var c=i.masksProperties;for(a=c.length,r=0;r<a;r+=1)if(c[r].pt.k.i)c[r].pt.k.c=c[r].cl;else for(o=c[r].pt.k.length,s=0;s<o;s+=1)c[r].pt.k[s].s&&(c[r].pt.k[s].s[0].c=c[r].cl),c[r].pt.k[s].e&&(c[r].pt.k[s].e[0].c=c[r].cl)}4===i.ty&&e(i.shapes)}}return function(e){if(r(t,e.v)&&(i(e.layers),e.assets)){var n,a=e.assets.length;for(n=0;n<a;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}();function h(t){0===t.t.a.length&&t.t.p}var u={completeData:function(i){i.__complete||(c(i),s(i),o(i),l(i),d(i),t(i.layers,i.assets),function(i,n){if(i){var r=0,a=i.length;for(r=0;r<a;r+=1)1===i[r].t&&(i[r].data.layers=e(i[r].data.refId,n),t(i[r].data.layers,n))}}(i.chars,i.assets),i.__complete=!0)}};return u.checkColors=c,u.checkChars=o,u.checkPathProperties=l,u.checkShapes=d,u.completeLayers=t,u}()),a.assetLoader||(a.assetLoader=function(){function t(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"===_typeof$5(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,i,n,r){var a,s=new XMLHttpRequest;try{s.responseType="json"}catch(t){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)a=t(s),n(a);else try{a=t(s),n(a)}catch(t){r&&r(t)}};try{s.open(["G","E","T"].join(""),e,!0)}catch(t){s.open(["G","E","T"].join(""),i+"/"+e,!0)}s.send()}}}()),"loadAnimation"===t.data.type)a.assetLoader.load(t.data.path,t.data.fullPath,(function(e){a.dataManager.completeData(e),a.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){a.postMessage({id:t.data.id,status:"error"})}));else if("complete"===t.data.type){var e=t.data.animation;a.dataManager.completeData(e),a.postMessage({id:t.data.id,payload:e,status:"success"})}else"loadData"===t.data.type&&a.assetLoader.load(t.data.path,t.data.fullPath,(function(e){a.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){a.postMessage({id:t.data.id,status:"error"})}))})),e.onmessage=function(t){var e=t.data,i=e.id,r=n[i];n[i]=null,"success"===e.status?r.onComplete(e.payload):r.onError&&r.onError()})}function o(t,e){var r="processId_"+(i+=1);return n[r]={onComplete:t,onError:e},r}return{loadAnimation:function(t,i,n){s();var r=o(i,n);e.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:r})},loadData:function(t,i,n){s();var r=o(i,n);e.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:r})},completeAnimation:function(t,i,n){s();var r=o(i,n);e.postMessage({type:"complete",animation:t,id:r})}}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(t,e,i){var n="";if(t.e)n=t.p;else if(e){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),n=e+r}else n=i,n+=t.u?t.u:"",n+=t.p;return n}function r(t){var e=0,i=setInterval(function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(i)),e+=1}.bind(this),50)}function a(t){var e={assetData:t},i=n(t,this.assetsPath,this.path);return dataManager.loadData(i,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function s(){this._imageLoaded=e.bind(this),this._footageLoaded=i.bind(this),this.testImageLoaded=r.bind(this),this.createFootageData=a.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return s.prototype={loadAssets:function(t,e){var i;this.imagesLoadedCb=e;var n=t.length;for(i=0;i<n;i+=1)t[i].layers||(t[i].t&&"seq"!==t[i].t?3===t[i].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[i]))):(this.totalImages+=1,this.images.push(this._createImageData(t[i]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,i=this.images.length;e<i;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var i=n(e,this.assetsPath,this.path),r=createTag("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",function(){a.img=t,this._imageLoaded()}.bind(this),!1),r.src=i;var a={img:r,assetData:e};return a},createImageData:function(e){var i=n(e,this.assetsPath,this.path),r=createNS("image");isSafari?this.testImageLoaded(r):r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",function(){a.img=t,this._imageLoaded()}.bind(this),!1),r.setAttributeNS("http://www.w3.org/1999/xlink","href",i),this._elementHelper.append?this._elementHelper.append(r):this._elementHelper.appendChild(r);var a={img:r,assetData:e};return a},imageLoaded:e,footageLoaded:i,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},s}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var i=this._cbs[t],n=0;n<i.length;n+=1)i[n](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var i=0,n=this._cbs[t].length;i<n;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),i-=1,n-=1),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(t){for(var e,i=t.split("\r\n"),n={},r=0,a=0;a<i.length;a+=1)2===(e=i[a].split(":")).length&&(n[e[0]]=e[1].trim(),r+=1);if(0===r)throw new Error;return n}return function(e){for(var i=[],n=0;n<e.length;n+=1){var r=e[n],a={time:r.tm,duration:r.dr};try{a.payload=JSON.parse(e[n].cm)}catch(i){try{a.payload=t(e[n].cm)}catch(t){a.payload={name:e[n].cm}}}i.push(a)}return i}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,i=this.compositions.length;e<i;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var i=getRenderer(e);this.renderer=new i(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&"object"!==_typeof$4(e)&&(e=JSON.parse(e));var i={wrapper:t,animationData:e},n=t.attributes;i.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",i.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var r=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===r?i.loop=!1:"true"===r?i.loop=!0:""!==r&&(i.loop=parseInt(r,10));var a=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;i.autoplay="false"!==a,i.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),i.path?this.setParams(i):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,i,n=this.animationData.layers,r=n.length,a=t.layers,s=a.length;for(i=0;i<s;i+=1)for(e=0;e<r;){if(n[e].id===a[i].id){n[e]=a[i];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(r=t.assets.length,e=0;e<r;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var i="number"==typeof t?t:void 0,n="number"==typeof e?e:void 0;this.renderer.updateContainerSize(i,n)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,i=0;i<this.markers.length;i+=1)if((e=this.markers[i]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,i){if(!i||this.name===i){var n=Number(t);if(isNaN(n)){var r=this.getMarkerData(t);r&&this.goToAndStop(r.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,i){if(!i||this.name===i){var n=Number(t);if(isNaN(n)){var r=this.getMarkerData(t);r&&(r.duration?this.playSegments([r.time,r.time+r.duration],!0):this.goToAndStop(r.time,!0))}else this.goToAndStop(n,e,i);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,i=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(i=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(i=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),i&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==i&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"===_typeof$4(t[0])){var i,n=t.length;for(i=0;i<n;i+=1)this.segments.push(t[i])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,i){try{this.renderer.getElementByPath(t).updateDocumentData(e,i)}catch(t){}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],i=0,n=0,r=0,a=!0,s=!1;function o(t){for(var i=0,r=t.target;i<n;)e[i].animation===r&&(e.splice(i,1),i-=1,n-=1,r.isPaused||d()),i+=1}function l(t,i){if(!t)return null;for(var r=0;r<n;){if(e[r].elem===t&&null!==e[r].elem)return e[r].animation;r+=1}var a=new AnimationItem;return h(a,t),a.setData(t,i),a}function c(){r+=1,p()}function d(){r-=1}function h(t,i){t.addEventListener("destroy",o),t.addEventListener("_active",c),t.addEventListener("_idle",d),e.push({elem:i,animation:t}),n+=1}function u(t){var o,l=t-i;for(o=0;o<n;o+=1)e[o].animation.advanceTime(l);i=t,r&&!s?window.requestAnimationFrame(u):a=!0}function f(t){i=t,window.requestAnimationFrame(u)}function p(){!s&&r&&a&&(window.requestAnimationFrame(f),a=!1)}return t.registerAnimation=l,t.loadAnimation=function(t){var e=new AnimationItem;return h(e,null),e.setParams(t),e},t.setSpeed=function(t,i){var r;for(r=0;r<n;r+=1)e[r].animation.setSpeed(t,i)},t.setDirection=function(t,i){var r;for(r=0;r<n;r+=1)e[r].animation.setDirection(t,i)},t.play=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.play(t)},t.pause=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.pause(t)},t.stop=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.stop(t)},t.togglePause=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.togglePause(t)},t.searchAnimations=function(t,e,i){var n,r=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),a=r.length;for(n=0;n<a;n+=1)i&&r[n].setAttribute("data-bm-type",i),l(r[n],t);if(e&&0===a){i||(i="svg");var s=document.getElementsByTagName("body")[0];s.innerText="";var o=createTag("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",i),s.appendChild(o),l(o,t)}},t.resize=function(){var t;for(t=0;t<n;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,i,r){var a;for(a=0;a<n;a+=1)e[a].animation.goToAndStop(t,i,r)},t.destroy=function(t){var i;for(i=n-1;i>=0;i-=1)e[i].animation.destroy(t)},t.freeze=function(){s=!0},t.unfreeze=function(){s=!1,p()},t.setVolume=function(t,i){var r;for(r=0;r<n;r+=1)e[r].animation.setVolume(t,i)},t.mute=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.mute(t)},t.unmute=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,i=e.length,n=[];for(t=0;t<i;t+=1)n.push(e[t].animation);return n},t}(),BezierFactory=function(){var t={getBezierEasing:function(t,i,n,r,a){var s=a||("bez_"+t+"_"+i+"_"+n+"_"+r).replace(/\./g,"p");if(e[s])return e[s];var o=new c([t,i,n,r]);return e[s]=o,o}},e={},i=.1,n="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function a(t,e){return 3*e-6*t}function s(t){return 3*t}function o(t,e,i){return((r(e,i)*t+a(e,i))*t+s(e))*t}function l(t,e,i){return 3*r(e,i)*t*t+2*a(e,i)*t+s(e)}function c(t){this._p=t,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(t){var e=this._p[0],i=this._p[1],n=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),e===i&&n===r?t:0===t?0:1===t?1:o(this._getTForX(t),i,r)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&i===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],n=0;n<11;++n)this._mSampleValues[n]=o(n*i,t,e)},_getTForX:function(t){for(var e=this._p[0],n=this._p[2],r=this._mSampleValues,a=0,s=1;10!==s&&r[s]<=t;++s)a+=i;var c=a+(t-r[--s])/(r[s+1]-r[s])*i,d=l(c,e,n);return d>=.001?function(t,e,i,n){for(var r=0;r<4;++r){var a=l(e,i,n);if(0===a)return e;e-=(o(e,i,n)-t)/a}return e}(t,c,e,n):0===d?c:function(t,e,i,n,r){var a,s,l=0;do{(a=o(s=e+(i-e)/2,n,r)-t)>0?i=s:e=s}while(Math.abs(a)>1e-7&&++l<10);return s}(t,a,a+i,e,n)}},t}(),pooling={double:function(t){return t.concat(createSizedArray(t.length))}},poolFactory=function(t,e,i){var n=0,r=t,a=createSizedArray(r);return{newElement:function(){return n?a[n-=1]:e()},release:function(t){n===r&&(a=pooling.double(a),r*=2),i&&i(t),a[n]=t,n+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,i=t.lengths.length;for(e=0;e<i;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0}));function bezFunction(){var t=Math;function e(t,e,i,n,r,a){var s=t*n+e*r+i*a-r*n-a*t-i*e;return s>-.001&&s<.001}var i=function(t,e,i,n){var r,a,s,o,l,c,d=getDefaultCurveSegments(),h=0,u=[],f=[],p=bezierLengthPool.newElement();for(s=i.length,r=0;r<d;r+=1){for(l=r/(d-1),c=0,a=0;a<s;a+=1)o=bmPow(1-l,3)*t[a]+3*bmPow(1-l,2)*l*i[a]+3*(1-l)*bmPow(l,2)*n[a]+bmPow(l,3)*e[a],u[a]=o,null!==f[a]&&(c+=bmPow(u[a]-f[a],2)),f[a]=u[a];c&&(h+=c=bmSqrt(c)),p.percents[r]=l,p.lengths[r]=h}return p.addedLength=h,p};function n(t){this.segmentLength=0,this.points=new Array(t)}function r(t,e){this.partialLength=t,this.point=e}var a,s=(a={},function(t,i,s,o){var l=(t[0]+"_"+t[1]+"_"+i[0]+"_"+i[1]+"_"+s[0]+"_"+s[1]+"_"+o[0]+"_"+o[1]).replace(/\./g,"p");if(!a[l]){var c,d,h,u,f,p,g,m=getDefaultCurveSegments(),_=0,v=null;2===t.length&&(t[0]!==i[0]||t[1]!==i[1])&&e(t[0],t[1],i[0],i[1],t[0]+s[0],t[1]+s[1])&&e(t[0],t[1],i[0],i[1],i[0]+o[0],i[1]+o[1])&&(m=2);var y=new n(m);for(h=s.length,c=0;c<m;c+=1){for(g=createSizedArray(h),f=c/(m-1),p=0,d=0;d<h;d+=1)u=bmPow(1-f,3)*t[d]+3*bmPow(1-f,2)*f*(t[d]+s[d])+3*(1-f)*bmPow(f,2)*(i[d]+o[d])+bmPow(f,3)*i[d],g[d]=u,null!==v&&(p+=bmPow(g[d]-v[d],2));_+=p=bmSqrt(p),y.points[c]=new r(p,g),v=g}y.segmentLength=_,a[l]=y}return a[l]});function o(t,e){var i=e.percents,n=e.lengths,r=i.length,a=bmFloor((r-1)*t),s=t*e.addedLength,o=0;if(a===r-1||0===a||s===n[a])return i[a];for(var l=n[a]>s?-1:1,c=!0;c;)if(n[a]<=s&&n[a+1]>s?(o=(s-n[a])/(n[a+1]-n[a]),c=!1):a+=l,a<0||a>=r-1){if(a===r-1)return i[a];c=!1}return i[a]+(i[a+1]-i[a])*o}var l=createTypedArray("float32",8);return{getSegmentsLength:function(t){var e,n=segmentsLengthPool.newElement(),r=t.c,a=t.v,s=t.o,o=t.i,l=t._length,c=n.lengths,d=0;for(e=0;e<l-1;e+=1)c[e]=i(a[e],a[e+1],s[e],o[e+1]),d+=c[e].addedLength;return r&&l&&(c[e]=i(a[e],a[0],s[e],o[0]),d+=c[e].addedLength),n.totalLength=d,n},getNewSegment:function(e,i,n,r,a,s,c){a<0?a=0:a>1&&(a=1);var d,h=o(a,c),u=o(s=s>1?1:s,c),f=e.length,p=1-h,g=1-u,m=p*p*p,_=h*p*p*3,v=h*h*p*3,y=h*h*h,b=p*p*g,k=h*p*g+p*h*g+p*p*u,x=h*h*g+p*h*u+h*p*u,w=h*h*u,S=p*g*g,T=h*g*g+p*u*g+p*g*u,E=h*u*g+p*u*u+h*g*u,C=h*u*u,M=g*g*g,P=u*g*g+g*u*g+g*g*u,A=u*u*g+g*u*u+u*g*u,$=u*u*u;for(d=0;d<f;d+=1)l[4*d]=t.round(1e3*(m*e[d]+_*n[d]+v*r[d]+y*i[d]))/1e3,l[4*d+1]=t.round(1e3*(b*e[d]+k*n[d]+x*r[d]+w*i[d]))/1e3,l[4*d+2]=t.round(1e3*(S*e[d]+T*n[d]+E*r[d]+C*i[d]))/1e3,l[4*d+3]=t.round(1e3*(M*e[d]+P*n[d]+A*r[d]+$*i[d]))/1e3;return l},getPointInSegment:function(e,i,n,r,a,s){var l=o(a,s),c=1-l;return[t.round(1e3*(c*c*c*e[0]+(l*c*c+c*l*c+c*c*l)*n[0]+(l*l*c+c*l*l+l*c*l)*r[0]+l*l*l*i[0]))/1e3,t.round(1e3*(c*c*c*e[1]+(l*c*c+c*l*c+c*c*l)*n[1]+(l*l*c+c*l*l+l*c*l)*r[1]+l*l*l*i[1]))/1e3]},buildBezierData:s,pointOnLine2D:e,pointOnLine3D:function(i,n,r,a,s,o,l,c,d){if(0===r&&0===o&&0===d)return e(i,n,a,s,l,c);var h,u=t.sqrt(t.pow(a-i,2)+t.pow(s-n,2)+t.pow(o-r,2)),f=t.sqrt(t.pow(l-i,2)+t.pow(c-n,2)+t.pow(d-r,2)),p=t.sqrt(t.pow(l-a,2)+t.pow(c-s,2)+t.pow(d-o,2));return(h=u>f?u>p?u-f-p:p-f-u:p>f?p-f-u:f-u-p)>-1e-4&&h<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var i,n=this.offsetTime;"multidimensional"===this.propType&&(i=createTypedArray("float32",this.pv.length));for(var r,a,s,o,l,c,d,h,u,f=e.lastIndex,p=f,g=this.keyframes.length-1,m=!0;m;){if(r=this.keyframes[p],a=this.keyframes[p+1],p===g-1&&t>=a.t-n){r.h&&(r=a),f=0;break}if(a.t-n>t){f=p;break}p<g-1?p+=1:(f=0,m=!1)}s=this.keyframesMetadata[p]||{};var _,v=a.t-n,y=r.t-n;if(r.to){s.bezierData||(s.bezierData=bez.buildBezierData(r.s,a.s||r.e,r.to,r.ti));var b=s.bezierData;if(t>=v||t<y){var k=t>=v?b.points.length-1:0;for(l=b.points[k].point.length,o=0;o<l;o+=1)i[o]=b.points[k].point[o]}else{s.__fnct?u=s.__fnct:(u=BezierFactory.getBezierEasing(r.o.x,r.o.y,r.i.x,r.i.y,r.n).get,s.__fnct=u),c=u((t-y)/(v-y));var x,w=b.segmentLength*c,S=e.lastFrame<t&&e._lastKeyframeIndex===p?e._lastAddedLength:0;for(h=e.lastFrame<t&&e._lastKeyframeIndex===p?e._lastPoint:0,m=!0,d=b.points.length;m;){if(S+=b.points[h].partialLength,0===w||0===c||h===b.points.length-1){for(l=b.points[h].point.length,o=0;o<l;o+=1)i[o]=b.points[h].point[o];break}if(w>=S&&w<S+b.points[h+1].partialLength){for(x=(w-S)/b.points[h+1].partialLength,l=b.points[h].point.length,o=0;o<l;o+=1)i[o]=b.points[h].point[o]+(b.points[h+1].point[o]-b.points[h].point[o])*x;break}h<d-1?h+=1:m=!1}e._lastPoint=h,e._lastAddedLength=S-b.points[h].partialLength,e._lastKeyframeIndex=p}}else{var T,E,C,M,P;if(g=r.s.length,_=a.s||r.e,this.sh&&1!==r.h)t>=v?(i[0]=_[0],i[1]=_[1],i[2]=_[2]):t<=y?(i[0]=r.s[0],i[1]=r.s[1],i[2]=r.s[2]):quaternionToEuler(i,slerp(createQuaternion(r.s),createQuaternion(_),(t-y)/(v-y)));else for(p=0;p<g;p+=1)1!==r.h&&(t>=v?c=1:t<y?c=0:(r.o.x.constructor===Array?(s.__fnct||(s.__fnct=[]),s.__fnct[p]?u=s.__fnct[p]:(T=void 0===r.o.x[p]?r.o.x[0]:r.o.x[p],E=void 0===r.o.y[p]?r.o.y[0]:r.o.y[p],C=void 0===r.i.x[p]?r.i.x[0]:r.i.x[p],M=void 0===r.i.y[p]?r.i.y[0]:r.i.y[p],u=BezierFactory.getBezierEasing(T,E,C,M).get,s.__fnct[p]=u)):s.__fnct?u=s.__fnct:(T=r.o.x,E=r.o.y,C=r.i.x,M=r.i.y,u=BezierFactory.getBezierEasing(T,E,C,M).get,r.keyframeMetadata=u),c=u((t-y)/(v-y)))),_=a.s||r.e,P=1===r.h?r.s[p]:r.s[p]+(_[p]-r.s[p])*c,"multidimensional"===this.propType?i[p]=P:i=P}return e.lastIndex=f,i}function slerp(t,e,i){var n,r,a,s,o,l=[],c=t[0],d=t[1],h=t[2],u=t[3],f=e[0],p=e[1],g=e[2],m=e[3];return(r=c*f+d*p+h*g+u*m)<0&&(r=-r,f=-f,p=-p,g=-g,m=-m),1-r>1e-6?(n=Math.acos(r),a=Math.sin(n),s=Math.sin((1-i)*n)/a,o=Math.sin(i*n)/a):(s=1-i,o=i),l[0]=s*c+o*f,l[1]=s*d+o*p,l[2]=s*h+o*g,l[3]=s*u+o*m,l}function quaternionToEuler(t,e){var i=e[0],n=e[1],r=e[2],a=e[3],s=Math.atan2(2*n*a-2*i*r,1-2*n*n-2*r*r),o=Math.asin(2*i*n+2*r*a),l=Math.atan2(2*i*a-2*n*r,1-2*i*i-2*r*r);t[0]=s/degToRads,t[1]=o/degToRads,t[2]=l/degToRads}function createQuaternion(t){var e=t[0]*degToRads,i=t[1]*degToRads,n=t[2]*degToRads,r=Math.cos(e/2),a=Math.cos(i/2),s=Math.cos(n/2),o=Math.sin(e/2),l=Math.sin(i/2),c=Math.sin(n/2);return[o*l*s+r*a*c,o*a*s+r*l*c,r*l*s-o*a*c,r*a*s-o*l*c]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=i&&t>=i||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(t,this._caching);this.pv=n}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if("unidimensional"===this.propType)e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)e=t[i]*this.mult,mathAbs(this.v[i]-e)>1e-5&&(this.v[i]=e,this._mdf=!0),i+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)i=this.effectsSequence[t](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,i,n){this.propType="unidimensional",this.mult=i||1,this.data=e,this.v=i?e.k*i:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,i,n){var r;this.propType="multidimensional",this.mult=i||1,this.data=e,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var a=e.k.length;for(this.v=createTypedArray("float32",a),this.pv=createTypedArray("float32",a),this.vel=createTypedArray("float32",a),r=0;r<a;r+=1)this.v[r]=e.k[r]*this.mult,this.pv[r]=e.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,i,n){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=i||1,this.elem=t,this.container=n,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,i,n){var r;this.propType="multidimensional";var a,s,o,l,c=e.k.length;for(r=0;r<c-1;r+=1)e.k[r].to&&e.k[r].s&&e.k[r+1]&&e.k[r+1].s&&(a=e.k[r].s,s=e.k[r+1].s,o=e.k[r].to,l=e.k[r].ti,(2===a.length&&(a[0]!==s[0]||a[1]!==s[1])&&bez.pointOnLine2D(a[0],a[1],s[0],s[1],a[0]+o[0],a[1]+o[1])&&bez.pointOnLine2D(a[0],a[1],s[0],s[1],s[0]+l[0],s[1]+l[1])||3===a.length&&(a[0]!==s[0]||a[1]!==s[1]||a[2]!==s[2])&&bez.pointOnLine3D(a[0],a[1],a[2],s[0],s[1],s[2],a[0]+o[0],a[1]+o[1],a[2]+o[2])&&bez.pointOnLine3D(a[0],a[1],a[2],s[0],s[1],s[2],s[0]+l[0],s[1]+l[1],s[2]+l[2]))&&(e.k[r].to=null,e.k[r].ti=null),a[0]===s[0]&&a[1]===s[1]&&0===o[0]&&0===o[1]&&0===l[0]&&0===l[1]&&(2===a.length||a[2]===s[2]&&0===o[2]&&0===l[2])&&(e.k[r].to=null,e.k[r].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=t,this.container=n,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var d=e.k[0].s.length;for(this.v=createTypedArray("float32",d),this.pv=createTypedArray("float32",d),r=0;r<d;r+=1)this.v[r]=initFrame,this.pv[r]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",d)},this.addEffect=addEffect}var PropertyFactory={getProp:function(t,e,i,n,r){var a;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if("number"==typeof e.k[0])a=new MultiDimensionalProperty(t,e,n,r);else switch(i){case 0:a=new KeyframedValueProperty(t,e,n,r);break;case 1:a=new KeyframedMultidimensionalProperty(t,e,n,r)}else a=new ValueProperty(t,e,n,r);return a.effectsSequence.length&&r.addDynamicProperty(a),a}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=pointPool.newElement(),this.o[i]=pointPool.newElement(),this.i[i]=pointPool.newElement(),i+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,i,n,r){var a;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o;break;default:a=[]}(!a[n]||a[n]&&!r)&&(a[n]=pointPool.newElement()),a[n][0]=t,a[n][1]=e},ShapePath.prototype.setTripleAt=function(t,e,i,n,r,a,s,o){this.setXYAt(t,e,"v",s,o),this.setXYAt(i,n,"o",s,o),this.setXYAt(r,a,"i",s,o)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,i=this.o,n=this.i,r=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],i[0][0],i[0][1],0,!1),r=1);var a,s=this._length-1,o=this._length;for(a=r;a<o;a+=1)t.setTripleAt(e[s][0],e[s][1],n[s][0],n[s][1],i[s][0],i[s][1],a,!1),s-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(t){var e,i=t._length;for(e=0;e<i;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,i=factory.newElement(),n=void 0===t._length?t.v.length:t._length;for(i.setLength(n),i.c=t.c,e=0;e<n;e+=1)i.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return i},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(t){var e,i=t._length;for(e=0;e<i;e+=1)shapePool.release(t.shapes[e]);t._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=t,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var t=-999999;function e(t,e,i){var n,r,a,s,o,l,c,d,h,u=i.lastIndex,f=this.keyframes;if(t<f[0].t-this.offsetTime)n=f[0].s[0],a=!0,u=0;else if(t>=f[f.length-1].t-this.offsetTime)n=f[f.length-1].s?f[f.length-1].s[0]:f[f.length-2].e[0],a=!0;else{for(var p,g,m,_=u,v=f.length-1,y=!0;y&&(p=f[_],!((g=f[_+1]).t-this.offsetTime>t));)_<v-1?_+=1:y=!1;if(m=this.keyframesMetadata[_]||{},u=_,!(a=1===p.h)){if(t>=g.t-this.offsetTime)d=1;else if(t<p.t-this.offsetTime)d=0;else{var b;m.__fnct?b=m.__fnct:(b=BezierFactory.getBezierEasing(p.o.x,p.o.y,p.i.x,p.i.y).get,m.__fnct=b),d=b((t-(p.t-this.offsetTime))/(g.t-this.offsetTime-(p.t-this.offsetTime)))}r=g.s?g.s[0]:p.e[0]}n=p.s[0]}for(l=e._length,c=n.i[0].length,i.lastIndex=u,s=0;s<l;s+=1)for(o=0;o<c;o+=1)h=a?n.i[s][o]:n.i[s][o]+(r.i[s][o]-n.i[s][o])*d,e.i[s][o]=h,h=a?n.o[s][o]:n.o[s][o]+(r.o[s][o]-n.o[s][o])*d,e.o[s][o]=h,h=a?n.v[s][o]:n.v[s][o]+(r.v[s][o]-n.v[s][o])*d,e.v[s][o]=h}function i(){var e=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return r!==t&&(r<i&&e<i||r>n&&e>n)||(this._caching.lastIndex=r<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function n(){this.paths=this.localShapeCollection}function r(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var i,n=t._length;for(i=0;i<n;i+=1)if(t.v[i][0]!==e.v[i][0]||t.v[i][1]!==e.v[i][1]||t.o[i][0]!==e.o[i][0]||t.o[i][1]!==e.o[i][1]||t.i[i][0]!==e.i[i][0]||t.i[i][1]!==e.i[i][1])return!1;return!0})(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function a(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var i=this.effectsSequence.length;for(e=0;e<i;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(t,e,i){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var r=3===i?e.pt.k:e.ks.k;this.v=shapePool.clone(r),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(e,r,a){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===a?r.pt.k:r.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=n,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[i.bind(this)]}s.prototype.interpolateShape=e,s.prototype.getValue=a,s.prototype.setVValue=r,s.prototype.addEffect=o,l.prototype.getValue=a,l.prototype.interpolateShape=e,l.prototype.setVValue=r,l.prototype.addEffect=o;var c=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],i=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,a=3!==this.d,s=this.v;s.v[0][0]=e,s.v[0][1]=i-r,s.v[1][0]=a?e+n:e-n,s.v[1][1]=i,s.v[2][0]=e,s.v[2][1]=i+r,s.v[3][0]=a?e-n:e+n,s.v[3][1]=i,s.i[0][0]=a?e-n*t:e+n*t,s.i[0][1]=i-r,s.i[1][0]=a?e+n:e-n,s.i[1][1]=i-r*t,s.i[2][0]=a?e+n*t:e-n*t,s.i[2][1]=i+r,s.i[3][0]=a?e-n:e+n,s.i[3][1]=i+r*t,s.o[0][0]=a?e+n*t:e-n*t,s.o[0][1]=i-r,s.o[1][0]=a?e+n:e-n,s.o[1][1]=i+r*t,s.o[2][0]=a?e-n*t:e+n*t,s.o[2][1]=i+r,s.o[3][0]=a?e-n:e+n,s.o[3][1]=i-r*t}},extendPrototype([DynamicPropertyContainer],e),e}(),d=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,i,n,r=2*Math.floor(this.pt.v),a=2*Math.PI/r,s=!0,o=this.or.v,l=this.ir.v,c=this.os.v,d=this.is.v,h=2*Math.PI*o/(2*r),u=2*Math.PI*l/(2*r),f=-Math.PI/2;f+=this.r.v;var p=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<r;t+=1){i=s?c:d,n=s?h:u;var g=(e=s?o:l)*Math.cos(f),m=e*Math.sin(f),_=0===g&&0===m?0:m/Math.sqrt(g*g+m*m),v=0===g&&0===m?0:-g/Math.sqrt(g*g+m*m);g+=+this.p.v[0],m+=+this.p.v[1],this.v.setTripleAt(g,m,g-_*n*i*p,m-v*n*i*p,g+_*n*i*p,m+v*n*i*p,t,!0),s=!s,f+=a*p}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),i=2*Math.PI/e,n=this.or.v,r=this.os.v,a=2*Math.PI*n/(4*e),s=.5*-Math.PI,o=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=n*Math.cos(s),c=n*Math.sin(s),d=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),h=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-d*a*r*o,c-h*a*r*o,l+d*a*r*o,c+h*a*r*o,t,!0),s+=i*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),h=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,r=bmMin(i,n,this.r.v),a=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+i,e-n+r,t+i,e-n+r,t+i,e-n+a,0,!0),this.v.setTripleAt(t+i,e+n-r,t+i,e+n-a,t+i,e+n-r,1,!0),0!==r?(this.v.setTripleAt(t+i-r,e+n,t+i-r,e+n,t+i-a,e+n,2,!0),this.v.setTripleAt(t-i+r,e+n,t-i+a,e+n,t-i+r,e+n,3,!0),this.v.setTripleAt(t-i,e+n-r,t-i,e+n-r,t-i,e+n-a,4,!0),this.v.setTripleAt(t-i,e-n+r,t-i,e-n+a,t-i,e-n+r,5,!0),this.v.setTripleAt(t-i+r,e-n,t-i+r,e-n,t-i+a,e-n,6,!0),this.v.setTripleAt(t+i-r,e-n,t+i-a,e-n,t+i-r,e-n,7,!0)):(this.v.setTripleAt(t-i,e+n,t-i+a,e+n,t-i,e+n,2),this.v.setTripleAt(t-i,e-n,t-i,e-n+a,t-i,e-n,3))):(this.v.setTripleAt(t+i,e-n+r,t+i,e-n+a,t+i,e-n+r,0,!0),0!==r?(this.v.setTripleAt(t+i-r,e-n,t+i-r,e-n,t+i-a,e-n,1,!0),this.v.setTripleAt(t-i+r,e-n,t-i+a,e-n,t-i+r,e-n,2,!0),this.v.setTripleAt(t-i,e-n+r,t-i,e-n+r,t-i,e-n+a,3,!0),this.v.setTripleAt(t-i,e+n-r,t-i,e+n-a,t-i,e+n-r,4,!0),this.v.setTripleAt(t-i+r,e+n,t-i+r,e+n,t-i+a,e+n,5,!0),this.v.setTripleAt(t+i-r,e+n,t+i-a,e+n,t+i-r,e+n,6,!0),this.v.setTripleAt(t+i,e+n-r,t+i,e+n-r,t+i,e+n-a,7,!0)):(this.v.setTripleAt(t-i,e-n,t-i+a,e-n,t-i,e-n,1,!0),this.v.setTripleAt(t-i,e+n,t-i,e+n-a,t-i,e+n,2,!0),this.v.setTripleAt(t+i,e+n,t+i-a,e+n,t+i,e+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],t),t}(),u={getShapeProp:function(t,e,i){var n;return 3===i||4===i?n=(3===i?e.pt:e.ks).k.length?new l(t,e,i):new s(t,e,i):5===i?n=new h(t,e):6===i?n=new c(t,e):7===i&&(n=new d(t,e)),n.k&&t.addDynamicProperty(n),n},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return l}};return u}(),Matrix=function(){var t=Math.cos,e=Math.sin,i=Math.tan,n=Math.round;function r(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function a(i){if(0===i)return this;var n=t(i),r=e(i);return this._t(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1)}function s(i){if(0===i)return this;var n=t(i),r=e(i);return this._t(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1)}function o(i){if(0===i)return this;var n=t(i),r=e(i);return this._t(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1)}function l(i){if(0===i)return this;var n=t(i),r=e(i);return this._t(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1)}function c(t,e){return this._t(1,e,t,1,0,0)}function d(t,e){return this.shear(i(t),i(e))}function h(n,r){var a=t(r),s=e(r);return this._t(a,s,0,0,-s,a,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(n),1,0,0,0,0,1,0,0,0,0,1)._t(a,-s,0,0,s,a,0,0,0,0,1,0,0,0,0,1)}function u(t,e,i){return i||0===i||(i=1),1===t&&1===e&&1===i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function f(t,e,i,n,r,a,s,o,l,c,d,h,u,f,p,g){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=n,this.props[4]=r,this.props[5]=a,this.props[6]=s,this.props[7]=o,this.props[8]=l,this.props[9]=c,this.props[10]=d,this.props[11]=h,this.props[12]=u,this.props[13]=f,this.props[14]=p,this.props[15]=g,this}function p(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function g(t,e,i,n,r,a,s,o,l,c,d,h,u,f,p,g){var m=this.props;if(1===t&&0===e&&0===i&&0===n&&0===r&&1===a&&0===s&&0===o&&0===l&&0===c&&1===d&&0===h)return m[12]=m[12]*t+m[15]*u,m[13]=m[13]*a+m[15]*f,m[14]=m[14]*d+m[15]*p,m[15]*=g,this._identityCalculated=!1,this;var _=m[0],v=m[1],y=m[2],b=m[3],k=m[4],x=m[5],w=m[6],S=m[7],T=m[8],E=m[9],C=m[10],M=m[11],P=m[12],A=m[13],$=m[14],D=m[15];return m[0]=_*t+v*r+y*l+b*u,m[1]=_*e+v*a+y*c+b*f,m[2]=_*i+v*s+y*d+b*p,m[3]=_*n+v*o+y*h+b*g,m[4]=k*t+x*r+w*l+S*u,m[5]=k*e+x*a+w*c+S*f,m[6]=k*i+x*s+w*d+S*p,m[7]=k*n+x*o+w*h+S*g,m[8]=T*t+E*r+C*l+M*u,m[9]=T*e+E*a+C*c+M*f,m[10]=T*i+E*s+C*d+M*p,m[11]=T*n+E*o+C*h+M*g,m[12]=P*t+A*r+$*l+D*u,m[13]=P*e+A*a+$*c+D*f,m[14]=P*i+A*s+$*d+D*p,m[15]=P*n+A*o+$*h+D*g,this._identityCalculated=!1,this}function m(t){var e=t.props;return this.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function _(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function y(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function b(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function k(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function x(t,e,i){return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function w(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function S(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function T(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,i=-this.props[1]/t,n=-this.props[4]/t,r=this.props[0]/t,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,o=new Matrix;return o.props[0]=e,o.props[1]=i,o.props[4]=n,o.props[5]=r,o.props[12]=a,o.props[13]=s,o}function E(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function C(t){var e,i=t.length,n=[];for(e=0;e<i;e+=1)n[e]=E(t[e]);return n}function M(t,e,i){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=t[0],n[1]=t[1],n[2]=e[0],n[3]=e[1],n[4]=i[0],n[5]=i[1];else{var r=this.props[0],a=this.props[1],s=this.props[4],o=this.props[5],l=this.props[12],c=this.props[13];n[0]=t[0]*r+t[1]*s+l,n[1]=t[0]*a+t[1]*o+c,n[2]=e[0]*r+e[1]*s+l,n[3]=e[0]*a+e[1]*o+c,n[4]=i[0]*r+i[1]*s+l,n[5]=i[0]*a+i[1]*o+c}return n}function P(t,e,i){return this.isIdentity()?[t,e,i]:[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]]}function A(t,e){if(this.isIdentity())return t+","+e;var i=this.props;return Math.round(100*(t*i[0]+e*i[4]+i[12]))/100+","+Math.round(100*(t*i[1]+e*i[5]+i[13]))/100}function $(){for(var t=0,e=this.props,i="matrix3d(";t<16;)i+=n(1e4*e[t])/1e4,i+=15===t?")":",",t+=1;return i}function D(t){return t<1e-6&&t>0||t>-1e-6&&t<0?n(1e4*t)/1e4:t}function I(){var t=this.props;return"matrix("+D(t[0])+","+D(t[1])+","+D(t[4])+","+D(t[5])+","+D(t[12])+","+D(t[13])+")"}return function(){this.reset=r,this.rotate=a,this.rotateX=s,this.rotateY=o,this.rotateZ=l,this.skew=d,this.skewFromAxis=h,this.shear=c,this.scale=u,this.setTransform=f,this.translate=p,this.transform=g,this.multiply=m,this.applyToPoint=k,this.applyToX=x,this.applyToY=w,this.applyToZ=S,this.applyToPointArray=P,this.applyToTriplePoints=M,this.applyToPointStringified=A,this.toCSS=$,this.to2dCSS=I,this.clone=y,this.cloneFromProps=b,this.equals=v,this.inversePoints=C,this.inversePoint=E,this.getInverseMatrix=T,this._t=this.transform,this.isIdentity=_,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(t)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(t){setLocationHref(t)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),i=0;i<e.length;i+=1){var n=e[i].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"===("undefined"==typeof exports?"undefined":_typeof$3(exports))&&"undefined"!=typeof module||"function"==typeof define&&define.amd||(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=(t={},e={},t.registerModifier=function(t,i){e[t]||(e[t]=i)},t.getModifier=function(t,i,n){return new e[t](i,n)},t),t,e;function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,i,n,r){var a=[];e<=1?a.push({s:t,e:e}):t>=1?a.push({s:t-1,e:e-1}):(a.push({s:t,e:1}),a.push({s:0,e:e-1}));var s,o,l=[],c=a.length;for(s=0;s<c;s+=1){var d,h;(o=a[s]).e*r<n||o.s*r>n+i||(d=o.s*r<=n?0:(o.s*r-n)/i,h=o.e*r>=n+i?1:(o.e*r-n)/i,l.push([d,h]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var e,i=t.length;for(e=0;e<i;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,i,n,r;if(this._mdf||t){var a=this.o.v%360/360;if(a<0&&(a+=1),(e=this.s.v>1?1+a:this.s.v<0?0+a:this.s.v+a)>(i=this.e.v>1?1+a:this.e.v<0?0+a:this.e.v+a)){var s=e;e=i,i=s}e=1e-4*Math.round(1e4*e),i=1e-4*Math.round(1e4*i),this.sValue=e,this.eValue=i}else e=this.sValue,i=this.eValue;var o,l,c,d,h,u=this.shapes.length,f=0;if(i===e)for(r=0;r<u;r+=1)this.shapes[r].localShapeCollection.releaseShapes(),this.shapes[r].shape._mdf=!0,this.shapes[r].shape.paths=this.shapes[r].localShapeCollection,this._mdf&&(this.shapes[r].pathsData.length=0);else if(1===i&&0===e||0===i&&1===e){if(this._mdf)for(r=0;r<u;r+=1)this.shapes[r].pathsData.length=0,this.shapes[r].shape._mdf=!0}else{var p,g,m=[];for(r=0;r<u;r+=1)if((p=this.shapes[r]).shape._mdf||this._mdf||t||2===this.m){if(l=(n=p.shape.paths)._length,h=0,!p.shape._mdf&&p.pathsData.length)h=p.totalShapeLength;else{for(c=this.releasePathsData(p.pathsData),o=0;o<l;o+=1)d=bez.getSegmentsLength(n.shapes[o]),c.push(d),h+=d.totalLength;p.totalShapeLength=h,p.pathsData=c}f+=h,p.shape._mdf=!0}else p.shape.paths=p.localShapeCollection;var _,v=e,y=i,b=0;for(r=u-1;r>=0;r-=1)if((p=this.shapes[r]).shape._mdf){for((g=p.localShapeCollection).releaseShapes(),2===this.m&&u>1?(_=this.calculateShapeEdges(e,i,p.totalShapeLength,b,f),b+=p.totalShapeLength):_=[[v,y]],l=_.length,o=0;o<l;o+=1){v=_[o][0],y=_[o][1],m.length=0,y<=1?m.push({s:p.totalShapeLength*v,e:p.totalShapeLength*y}):v>=1?m.push({s:p.totalShapeLength*(v-1),e:p.totalShapeLength*(y-1)}):(m.push({s:p.totalShapeLength*v,e:p.totalShapeLength}),m.push({s:0,e:p.totalShapeLength*(y-1)}));var k=this.addShapes(p,m[0]);if(m[0].s!==m[0].e){if(m.length>1)if(p.shape.paths.shapes[p.shape.paths._length-1].c){var x=k.pop();this.addPaths(k,g),k=this.addShapes(p,m[1],x)}else this.addPaths(k,g),k=this.addShapes(p,m[1]);this.addPaths(k,g)}}p.shape.paths=g}}},TrimModifier.prototype.addPaths=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)e.addShape(t[i])},TrimModifier.prototype.addSegment=function(t,e,i,n,r,a,s){r.setXYAt(e[0],e[1],"o",a),r.setXYAt(i[0],i[1],"i",a+1),s&&r.setXYAt(t[0],t[1],"v",a),r.setXYAt(n[0],n[1],"v",a+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,i,n){e.setXYAt(t[1],t[5],"o",i),e.setXYAt(t[2],t[6],"i",i+1),n&&e.setXYAt(t[0],t[4],"v",i),e.setXYAt(t[3],t[7],"v",i+1)},TrimModifier.prototype.addShapes=function(t,e,i){var n,r,a,s,o,l,c,d,h=t.pathsData,u=t.shape.paths.shapes,f=t.shape.paths._length,p=0,g=[],m=!0;for(i?(o=i._length,d=i._length):(i=shapePool.newElement(),o=0,d=0),g.push(i),n=0;n<f;n+=1){for(l=h[n].lengths,i.c=u[n].c,a=u[n].c?l.length:l.length+1,r=1;r<a;r+=1)if(p+(s=l[r-1]).addedLength<e.s)p+=s.addedLength,i.c=!1;else{if(p>e.e){i.c=!1;break}e.s<=p&&e.e>=p+s.addedLength?(this.addSegment(u[n].v[r-1],u[n].o[r-1],u[n].i[r],u[n].v[r],i,o,m),m=!1):(c=bez.getNewSegment(u[n].v[r-1],u[n].v[r],u[n].o[r-1],u[n].i[r],(e.s-p)/s.addedLength,(e.e-p)/s.addedLength,l[r-1]),this.addSegmentFromArray(c,i,o,m),m=!1,i.c=!1),p+=s.addedLength,o+=1}if(u[n].c&&l.length){if(s=l[r-1],p<=e.e){var _=l[r-1].addedLength;e.s<=p&&e.e>=p+_?(this.addSegment(u[n].v[r-1],u[n].o[r-1],u[n].i[0],u[n].v[0],i,o,m),m=!1):(c=bez.getNewSegment(u[n].v[r-1],u[n].v[0],u[n].o[r-1],u[n].i[0],(e.s-p)/_,(e.e-p)/_,l[r-1]),this.addSegmentFromArray(c,i,o,m),m=!1,i.c=!1)}else i.c=!1;p+=s.addedLength,o+=1}if(i._length&&(i.setXYAt(i.v[d][0],i.v[d][1],"i",d),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),p>e.e)break;n<f-1&&(i=shapePool.newElement(),m=!0,g.push(i),o=0)}return g},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var i=e/100,n=[0,0],r=t._length,a=0;for(a=0;a<r;a+=1)n[0]+=t.v[a][0],n[1]+=t.v[a][1];n[0]/=r,n[1]/=r;var s,o,l,c,d,h,u=shapePool.newElement();for(u.c=t.c,a=0;a<r;a+=1)s=t.v[a][0]+(n[0]-t.v[a][0])*i,o=t.v[a][1]+(n[1]-t.v[a][1])*i,l=t.o[a][0]+(n[0]-t.o[a][0])*-i,c=t.o[a][1]+(n[1]-t.o[a][1])*-i,d=t.i[a][0]+(n[0]-t.i[a][0])*-i,h=t.i[a][1]+(n[1]-t.i[a][1])*-i,u.setTripleAt(s,o,l,c,d,h,a);return u},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,i,n,r,a,s,o=this.shapes.length,l=this.amount.v;if(0!==l)for(i=0;i<o;i+=1){if(s=(a=this.shapes[i]).localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,r=a.shape.paths._length,n=0;n<r;n+=1)s.addShape(this.processPath(e[n],l));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(t,e,i){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var n,r=e.or.k.length;for(n=0;n<r;n+=1)e.or.k[n].to=null,e.or.k[n].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var i;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,r;if(i=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/i,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/i,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/i,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/i,0)):(n=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/i,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],r=[];var a=this.px,s=this.py;a._caching.lastFrame+a.offsetTime<=a.keyframes[0].t?(n[0]=a.getValueAtTime((a.keyframes[0].t+.01)/i,0),n[1]=s.getValueAtTime((s.keyframes[0].t+.01)/i,0),r[0]=a.getValueAtTime(a.keyframes[0].t/i,0),r[1]=s.getValueAtTime(s.keyframes[0].t/i,0)):a._caching.lastFrame+a.offsetTime>=a.keyframes[a.keyframes.length-1].t?(n[0]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/i,0),n[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/i,0),r[0]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/i,0),r[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/i,0)):(n=[a.pv,s.pv],r[0]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/i,a.offsetTime),r[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/i,s.offsetTime))}else n=r=t;this.v.rotate(-Math.atan2(n[1]-r[1],n[0]-r[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,i,n){return new e(t,i,n)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,i){return t*(1-i)+e*i}function lerpPoint(t,e,i){return[lerp(t[0],e[0],i),lerp(t[1],e[1],i)]}function quadRoots(t,e,i){if(0===t)return[];var n=e*e-4*t*i;if(n<0)return[];var r=-e/(2*t);if(0===n)return[r];var a=Math.sqrt(n)/(2*t);return[r-a,r+a]}function polynomialCoefficients(t,e,i,n){return[3*e-t-3*i+n,3*t-6*e+3*i,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,i,n,r){r&&pointEqual(t,e)&&(e=lerpPoint(t,n,1/3)),r&&pointEqual(i,n)&&(i=lerpPoint(t,n,2/3));var a=polynomialCoefficients(t[0],e[0],i[0],n[0]),s=polynomialCoefficients(t[1],e[1],i[1],n[1]);this.a=[a[0],s[0]],this.b=[a[1],s[1]],this.c=[a[2],s[2]],this.d=[a[3],s[3]],this.points=[t,e,i,n]}function extrema(t,e){var i=t.points[0][e],n=t.points[t.points.length-1][e];if(i>n){var r=n;n=i,i=r}for(var a=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),s=0;s<a.length;s+=1)if(a[s]>0&&a[s]<1){var o=t.point(a[s])[e];o<i?i=o:o>n&&(n=o)}return{min:i,max:n}}function intersectData(t,e,i){var n=t.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:t,t:(e+i)/2,t1:e,t2:i}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,i,n,r,a){if(boxIntersect(t,e))if(i>=a||t.width<=n&&t.height<=n&&e.width<=n&&e.height<=n)r.push([t.t,e.t]);else{var s=splitData(t),o=splitData(e);intersectsImpl(s[0],o[0],i+1,n,r,a),intersectsImpl(s[0],o[1],i+1,n,r,a),intersectsImpl(s[1],o[0],i+1,n,r,a),intersectsImpl(s[1],o[1],i+1,n,r,a)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,i,n){var r=[t[0],t[1],1],a=[e[0],e[1],1],s=[i[0],i[1],1],o=[n[0],n[1],1],l=crossProduct(crossProduct(r,a),crossProduct(s,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(t,e,i){return[t[0]+Math.cos(e)*i,t[1]-Math.sin(e)*i]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,i,n,r,a,s){var o=i-Math.PI/2,l=i+Math.PI/2,c=e[0]+Math.cos(i)*n*r,d=e[1]-Math.sin(i)*n*r;t.setTripleAt(c,d,c+Math.cos(o)*a,d-Math.sin(o)*a,c+Math.cos(l)*s,d-Math.sin(l)*s,t.length())}function getPerpendicularVector(t,e){var i=[e[0]-t[0],e[1]-t[1]],n=.5*-Math.PI;return[Math.cos(n)*i[0]-Math.sin(n)*i[1],Math.sin(n)*i[0]+Math.cos(n)*i[1]]}function getProjectingAngle(t,e){var i=0===e?t.length()-1:e-1,n=(e+1)%t.length(),r=getPerpendicularVector(t.v[i],t.v[n]);return Math.atan2(0,1)-Math.atan2(r[1],r[0])}function zigZagCorner(t,e,i,n,r,a,s){var o=getProjectingAngle(e,i),l=e.v[i%e._length],c=e.v[0===i?e._length-1:i-1],d=e.v[(i+1)%e._length],h=2===a?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,u=2===a?Math.sqrt(Math.pow(l[0]-d[0],2)+Math.pow(l[1]-d[1],2)):0;setPoint(t,e.v[i%e._length],o,s,n,u/(2*(r+1)),h/(2*(r+1)),a)}function zigZagSegment(t,e,i,n,r,a){for(var s=0;s<n;s+=1){var o=(s+1)/(n+1),l=2===r?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,c=e.normalAngle(o);setPoint(t,e.point(o),c,a,i,l/(2*(n+1)),l/(2*(n+1)),r),a=-a}return a}function linearOffset(t,e,i){var n=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,n,i),polarOffset(e,n,i)]}function offsetSegment(t,e){var i,n,r,a,s,o,l;i=(l=linearOffset(t.points[0],t.points[1],e))[0],n=l[1],r=(l=linearOffset(t.points[1],t.points[2],e))[0],a=l[1],s=(l=linearOffset(t.points[2],t.points[3],e))[0],o=l[1];var c=lineIntersection(i,n,r,a);null===c&&(c=n);var d=lineIntersection(s,o,r,a);return null===d&&(d=s),new PolynomialBezier(i,c,d,o)}function joinLines(t,e,i,n,r){var a=e.points[3],s=i.points[0];if(3===n)return a;if(pointEqual(a,s))return a;if(2===n){var o=-e.tangentAngle(1),l=-i.tangentAngle(0)+Math.PI,c=lineIntersection(a,polarOffset(a,o+Math.PI/2,100),s,polarOffset(s,o+Math.PI/2,100)),d=c?pointDistance(c,a):pointDistance(a,s)/2,h=polarOffset(a,o,2*d*roundCorner);return t.setXYAt(h[0],h[1],"o",t.length()-1),h=polarOffset(s,l,2*d*roundCorner),t.setTripleAt(s[0],s[1],s[0],s[1],h[0],h[1],t.length()),s}var u=lineIntersection(pointEqual(a,e.points[2])?e.points[0]:e.points[2],a,s,pointEqual(s,i.points[1])?i.points[3]:i.points[1]);return u&&pointDistance(u,a)<r?(t.setTripleAt(u[0],u[1],u[0],u[1],u[0],u[1],t.length()),u):a}function getIntersection(t,e){var i=t.intersections(e);return i.length&&floatEqual(i[0][0],1)&&i.shift(),i.length?i[0]:null}function pruneSegmentIntersection(t,e){var i=t.slice(),n=e.slice(),r=getIntersection(t[t.length-1],e[0]);return r&&(i[t.length-1]=t[t.length-1].split(r[0])[0],n[0]=e[0].split(r[1])[1]),t.length>1&&e.length>1&&(r=getIntersection(t[0],e[e.length-1]))?[[t[0].split(r[0])[0]],[e[e.length-1].split(r[1])[1]]]:[i,n]}function pruneIntersections(t){for(var e,i=1;i<t.length;i+=1)e=pruneSegmentIntersection(t[i-1],t[i]),t[i-1]=e[0],t[i]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var i,n,r,a,s=t.inflectionPoints();if(0===s.length)return[offsetSegment(t,e)];if(1===s.length||floatEqual(s[1],1))return i=(r=t.split(s[0]))[0],n=r[1],[offsetSegment(i,e),offsetSegment(n,e)];i=(r=t.split(s[0]))[0];var o=(s[1]-s[0])/(1-s[0]);return a=(r=r[1].split(o))[0],n=r[1],[offsetSegment(i,e),offsetSegment(a,e),offsetSegment(n,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],i="normal",n="normal",r=e.length,a=0;a<r;a+=1)switch(e[a].toLowerCase()){case"italic":n="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200"}return{style:n,weight:t.fWeight||i}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,i,n,r,a){var s=a?-1:1,o=n.s.v[0]+(1-n.s.v[0])*(1-r),l=n.s.v[1]+(1-n.s.v[1])*(1-r);t.translate(n.p.v[0]*s*r,n.p.v[1]*s*r,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*s*r),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),i.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),i.scale(a?1/o:o,a?1/l:l),i.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(t,e,i,n){for(this.elem=t,this.arr=e,this.pos=i,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[i]);i>0;)i-=1,this._elements.unshift(e[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)t[i]._render=e,"gr"===t[i].ty&&this.changeGroupRender(t[i].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,i,n,r,a,s=!1;if(this._mdf||t){var o,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}for(a=0,n=0;n<=this._groups.length-1;n+=1){if(o=a<l,this._groups[n]._render=o,this.changeGroupRender(this._groups[n].it,o),!o){var d=this.elemsData[n].it,h=d[d.length-1];0!==h.transform.op.v?(h.transform.op._mdf=!0,h.transform.op.v=0):h.transform.op._mdf=!1}a+=1}this._currentCopies=l;var u=this.o.v,f=u%1,p=u>0?Math.floor(u):Math.ceil(u),g=this.pMatrix.props,m=this.rMatrix.props,_=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var v,y,b=0;if(u>0){for(;b<p;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),b+=1;f&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,f,!1),b+=f)}else if(u<0){for(;b>p;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),b-=1;f&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-f,!0),b-=f)}for(n=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,a=this._currentCopies;a;){if(y=(i=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==b){for((0!==n&&1===r||n!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.matrix.transform(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8],_[9],_[10],_[11],_[12],_[13],_[14],_[15]),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),v=0;v<y;v+=1)i[v]=this.matrix.props[v];this.matrix.reset()}else for(this.matrix.reset(),v=0;v<y;v+=1)i[v]=this.matrix.props[v];b+=1,a-=1,n+=r}}else for(a=this._currentCopies,n=0,r=1;a;)i=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,a-=1,n+=r;return s},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var i,n=shapePool.newElement();n.c=t.c;var r,a,s,o,l,c,d,h,u,f,p,g,m=t._length,_=0;for(i=0;i<m;i+=1)r=t.v[i],s=t.o[i],a=t.i[i],r[0]===s[0]&&r[1]===s[1]&&r[0]===a[0]&&r[1]===a[1]?0!==i&&i!==m-1||t.c?(o=0===i?t.v[m-1]:t.v[i-1],c=(l=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(l/2,e)/l:0,d=p=r[0]+(o[0]-r[0])*c,h=g=r[1]-(r[1]-o[1])*c,u=d-(d-r[0])*roundCorner,f=h-(h-r[1])*roundCorner,n.setTripleAt(d,h,u,f,p,g,_),_+=1,o=i===m-1?t.v[0]:t.v[i+1],c=(l=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(l/2,e)/l:0,d=u=r[0]+(o[0]-r[0])*c,h=f=r[1]+(o[1]-r[1])*c,p=d-(d-r[0])*roundCorner,g=h-(h-r[1])*roundCorner,n.setTripleAt(d,h,u,f,p,g,_),_+=1):(n.setTripleAt(r[0],r[1],s[0],s[1],a[0],a[1],_),_+=1):(n.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],_),_+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var e,i,n,r,a,s,o=this.shapes.length,l=this.rd.v;if(0!==l)for(i=0;i<o;i+=1){if(s=(a=this.shapes[i]).localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,r=a.shape.paths._length,n=0;n<r;n+=1)s.addShape(this.processPath(e[n],l));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,i=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(i<0)return[];var n=Math.sqrt(i);return floatZero(n)?n>0&&n<1?[e]:[]:[e-n,e+n].filter((function(t){return t>0&&t<1}))},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),i=lerpPoint(this.points[1],this.points[2],t),n=lerpPoint(this.points[2],this.points[3],t),r=lerpPoint(e,i,t),a=lerpPoint(i,n,t),s=lerpPoint(r,a,t);return[new PolynomialBezier(this.points[0],e,r,s,!0),new PolynomialBezier(s,a,n,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,i){void 0===e&&(e=2),void 0===i&&(i=7);var n=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,n,i),n},PolynomialBezier.shapeSegment=function(t,e){var i=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[i],t.v[i],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var i=(e+1)%t.length();return new PolynomialBezier(t.v[i],t.i[i],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(t,e,i,n){var r=t._length,a=shapePool.newElement();if(a.c=t.c,t.c||(r-=1),0===r)return a;var s=-1,o=PolynomialBezier.shapeSegment(t,0);zigZagCorner(a,t,0,e,i,n,s);for(var l=0;l<r;l+=1)s=zigZagSegment(a,o,e,i,n,-s),o=l!==r-1||t.c?PolynomialBezier.shapeSegment(t,(l+1)%r):null,zigZagCorner(a,t,l+1,e,i,n,s);return a},ZigZagModifier.prototype.processShapes=function(t){var e,i,n,r,a,s,o=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),d=this.pointsType.v;if(0!==l)for(i=0;i<o;i+=1){if(s=(a=this.shapes[i]).localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,r=a.shape.paths._length,n=0;n<r;n+=1)s.addShape(this.processPath(e[n],l,c,d));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(t,e,i,n){var r=shapePool.newElement();r.c=t.c;var a,s,o,l=t.length();t.c||(l-=1);var c=[];for(a=0;a<l;a+=1)o=PolynomialBezier.shapeSegment(t,a),c.push(offsetSegmentSplit(o,e));if(!t.c)for(a=l-1;a>=0;a-=1)o=PolynomialBezier.shapeSegmentInverted(t,a),c.push(offsetSegmentSplit(o,e));c=pruneIntersections(c);var d=null,h=null;for(a=0;a<c.length;a+=1){var u=c[a];for(h&&(d=joinLines(r,h,u[0],i,n)),h=u[u.length-1],s=0;s<u.length;s+=1)o=u[s],d&&pointEqual(o.points[0],d)?r.setXYAt(o.points[1][0],o.points[1][1],"o",r.length()-1):r.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],r.length()),r.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],r.length()),d=o.points[3]}return c.length&&joinLines(r,h,c[0][0],i,n),r},OffsetPathModifier.prototype.processShapes=function(t){var e,i,n,r,a,s,o=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,d=this.lineJoin;if(0!==l)for(i=0;i<o;i+=1){if(s=(a=this.shapes[i]).localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,r=a.shape.paths._length,n=0;n<r;n+=1)s.addShape(this.processPath(e[n],l,d,c));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t={w:0,size:0,shapes:[],data:{shapes:[]}},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var i=127988,n=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function r(t,e){var i=createTag("span");i.setAttribute("aria-hidden",!0),i.style.fontFamily=e;var n=createTag("span");n.innerText="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(n),document.body.appendChild(i);var r=n.offsetWidth;return n.style.fontFamily=function(t){var e,i=t.split(","),n=i.length,r=[];for(e=0;e<n;e+=1)"sans-serif"!==i[e]&&"monospace"!==i[e]&&r.push(i[e]);return r.join(",")}(t)+", "+e,{node:n,w:r,parent:i}}function a(t,e){var i,n=document.body&&e?"svg":"canvas",r=getFontProperties(t);if("svg"===n){var a=createNS("text");a.style.fontSize="100px",a.setAttribute("font-family",t.fFamily),a.setAttribute("font-style",r.style),a.setAttribute("font-weight",r.weight),a.textContent="1",t.fClass?(a.style.fontFamily="inherit",a.setAttribute("class",t.fClass)):a.style.fontFamily=t.fFamily,e.appendChild(a),i=a}else{var s=new OffscreenCanvas(500,500).getContext("2d");s.font=r.style+" "+r.weight+" 100px "+t.fFamily,i=s}return{measureText:function(t){return"svg"===n?(i.textContent=t,i.getComputedTextLength()):i.measureText(t).width}}}function s(t){var e=0,i=t.charCodeAt(0);if(i>=55296&&i<=56319){var n=t.charCodeAt(1);n>=56320&&n<=57343&&(e=1024*(i-55296)+n-56320+65536)}return e}function o(t){var e=s(t);return e>=127462&&e<=127487}var l=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};l.isModifier=function(t,e){var i=t.toString(16)+e.toString(16);return-1!==n.indexOf(i)},l.isZeroWidthJoiner=function(t){return 8205===t},l.isFlagEmoji=function(t){return o(t.substr(0,2))&&o(t.substr(2,2))},l.isRegionalCode=o,l.isCombinedCharacter=function(t){return-1!==e.indexOf(t)},l.isRegionalFlag=function(t,e){var n=s(t.substr(e,2));if(n!==i)return!1;var r=0;for(e+=2;r<5;){if((n=s(t.substr(e,2)))<917601||n>917626)return!1;r+=1,e+=2}return 917631===s(t.substr(e,2))},l.isVariationSelector=function(t){return 65039===t},l.BLACK_FLAG_CODE_POINT=i;var c={addChars:function(t){if(t){var e;this.chars||(this.chars=[]);var i,n,r=t.length,a=this.chars.length;for(e=0;e<r;e+=1){for(i=0,n=!1;i<a;)this.chars[i].style===t[e].style&&this.chars[i].fFamily===t[e].fFamily&&this.chars[i].ch===t[e].ch&&(n=!0),i+=1;n||(this.chars.push(t[e]),a+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);if(!document.body)return this.isLoaded=!0,t.list.forEach((function(t){t.helper=a(t),t.cache={}})),void(this.fonts=t.list);var i,n=t.list,s=n.length,o=s;for(i=0;i<s;i+=1){var l,c,d=!0;if(n[i].loaded=!1,n[i].monoCase=r(n[i].fFamily,"monospace"),n[i].sansCase=r(n[i].fFamily,"sans-serif"),n[i].fPath){if("p"===n[i].fOrigin||3===n[i].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[i].fFamily+'"], style[f-origin="3"][f-family="'+n[i].fFamily+'"]')).length>0&&(d=!1),d){var h=createTag("style");h.setAttribute("f-forigin",n[i].fOrigin),h.setAttribute("f-origin",n[i].origin),h.setAttribute("f-family",n[i].fFamily),h.type="text/css",h.innerText="@font-face {font-family: "+n[i].fFamily+"; font-style: normal; src: url('"+n[i].fPath+"');}",e.appendChild(h)}}else if("g"===n[i].fOrigin||1===n[i].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(n[i].fPath)&&(d=!1);if(d){var u=createTag("link");u.setAttribute("f-forigin",n[i].fOrigin),u.setAttribute("f-origin",n[i].origin),u.type="text/css",u.rel="stylesheet",u.href=n[i].fPath,document.body.appendChild(u)}}else if("t"===n[i].fOrigin||2===n[i].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)n[i].fPath===l[c].src&&(d=!1);if(d){var f=createTag("link");f.setAttribute("f-forigin",n[i].fOrigin),f.setAttribute("f-origin",n[i].origin),f.setAttribute("rel","stylesheet"),f.setAttribute("href",n[i].fPath),e.appendChild(f)}}}else n[i].loaded=!0,o-=1;n[i].helper=a(n[i],e),n[i].cache={},this.fonts.push(n[i])}0===o?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,i,n){for(var r=0,a=this.chars.length;r<a;){if(this.chars[r].ch===e&&this.chars[r].style===i&&this.chars[r].fFamily===n)return this.chars[r];r+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",e,i,n)),t},getFontByName:function(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,i){var n=this.getFontByName(e),r=t;if(!n.cache[r]){var a=n.helper;if(" "===t){var s=a.measureText("|"+t+"|"),o=a.measureText("||");n.cache[r]=(s-o)/100}else n.cache[r]=a.measureText(t)/100}return n.cache[r]*i},checkLoadedFonts:function(){var t,e,i,n=this.fonts.length,r=n;for(t=0;t<n;t+=1)this.fonts[t].loaded?r-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,i=this.fonts[t].monoCase.w,e.offsetWidth!==i?(r-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,i=this.fonts[t].sansCase.w,e.offsetWidth!==i&&(r-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==r&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return l.prototype=c,l}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums;function SliderEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function AngleEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function ColorEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function PointEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function LayerIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function MaskIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function CheckboxEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var i,n=t.ef||[];this.effectElements=[];var r,a=n.length;for(i=0;i<a;i+=1)r=new GroupEffect(n[i],e),this.effectElements.push(r)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,i)}function AudioElement(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,i),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var i;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,r=this.data.ef.length,a=this.data.ef;for(i=0;i<r;i+=1){switch(n=null,a[i].ty){case 0:n=new SliderEffect(a[i],e,this);break;case 1:n=new AngleEffect(a[i],e,this);break;case 2:n=new ColorEffect(a[i],e,this);break;case 3:n=new PointEffect(a[i],e,this);break;case 4:case 7:n=new CheckboxEffect(a[i],e,this);break;case 10:n=new LayerIndexEffect(a[i],e,this);break;case 11:n=new MaskIndexEffect(a[i],e,this);break;case 5:n=new EffectsManager(a[i],e,this);break;default:n=new NoValueEffect(a[i],e,this)}n&&this.effectElements.push(n)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),i=t("effects"),n=t("shape"),r=t("text"),a=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var s=i.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(s),0===this.data.ty||this.data.xt?this.compInterface=a(this):4===this.data.ty?(this.layerInterface.shapeInterface=n(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=r(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,i){this.globalData=e,this.comp=i,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var i,n=this.dynamicProperties.length;for(i=0;i<n;i+=1)(e||this._isParent&&"transform"===this.dynamicProperties[i].propType)&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var i=this._volume*this._volumeMultiplier;this._previousVolume!==i&&(this._previousVolume=i,this.audio.volume(i))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,i,n=this.layers.length;for(this.completeLayers=!0,e=n-1;e>=0;e-=1)this.elements[e]||(i=this.layers[e]).ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var i,n=t.length,r=this.layers.length;for(e=0;e<n;e+=1)for(i=0;i<r;){if(this.layers[i].id===t[e].id){this.layers[i]=t[e];break}i+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,i){for(var n=this.elements,r=this.layers,a=0,s=r.length;a<s;)r[a].ind==e&&(n[a]&&!0!==n[a]?(i.push(n[a]),n[a].setAsParent(),void 0!==r[a].parent?this.buildElementParenting(t,r[a].parent,i):t.setHierarchy(i)):(this.buildItem(a),this.addPendingElement(t))),a+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length;for(e=0;e<i;e+=1)if(t[e].xt){var n=this.createComp(t[e]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementById=function(t){var e,i=this.elements.length;for(e=0;e<i;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e,i=t.shift();if("number"==typeof i)e=this.elements[i];else{var n,r=this.elements.length;for(n=0;n<r;n+=1)if(this.elements[n].data.nm===i){e=this.elements[n];break}}return 0===t.length?e:e.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,i){this.data=t,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,r,a=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var o,l,c,d,h,u,f=this.masksProperties,p=0,g=[],m=createElementID(),_="clipPath",v="clip-path";for(n=0;n<s;n+=1)if(("a"!==f[n].mode&&"n"!==f[n].mode||f[n].inv||100!==f[n].o.k||f[n].o.x)&&(_="mask",v="mask"),"s"!==f[n].mode&&"i"!==f[n].mode||0!==p?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),g.push(c)),r=createNS("path"),"n"===f[n].mode)this.viewData[n]={op:PropertyFactory.getProp(this.element,f[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[n],3),elem:r,lastPath:""},a.appendChild(r);else{var y;if(p+=1,r.setAttribute("fill","s"===f[n].mode?"#000000":"#ffffff"),r.setAttribute("clip-rule","nonzero"),0!==f[n].x.k?(_="mask",v="mask",u=PropertyFactory.getProp(this.element,f[n].x,0,null,this.element),y=createElementID(),(d=createNS("filter")).setAttribute("id",y),(h=createNS("feMorphology")).setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),d.appendChild(h),a.appendChild(d),r.setAttribute("stroke","s"===f[n].mode?"#000000":"#ffffff")):(h=null,u=null),this.storedData[n]={elem:r,x:u,expan:h,lastPath:"",lastOperator:"",filterId:y,lastRadius:0},"i"===f[n].mode){l=g.length;var b=createNS("g");for(o=0;o<l;o+=1)b.appendChild(g[o]);var k=createNS("mask");k.setAttribute("mask-type","alpha"),k.setAttribute("id",m+"_"+p),k.appendChild(r),a.appendChild(k),b.setAttribute("mask","url("+getLocationHref()+"#"+m+"_"+p+")"),g.length=0,g.push(b)}else g.push(r);f[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:r,lastPath:"",op:PropertyFactory.getProp(this.element,f[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[n],3),invRect:c},this.viewData[n].prop.k||this.drawPath(f[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=createNS(_),s=g.length,n=0;n<s;n+=1)this.maskElement.appendChild(g[n]);p>0&&(this.maskElement.setAttribute("id",m),this.element.maskedElement.setAttribute(v,"url("+getLocationHref()+"#"+m+")"),a.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,i=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<n;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),i=0;i<n;i+=1)e.multiply(this.hierarchy[i].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var i=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(i),t=1;t<e;t+=1){var n=this.localTransforms[t].matrix;i.multiply(n)}i.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var r=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)r*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=r}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,i=t.length;for(e=0;e<i;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var i,n=!0,r=this.comp;n;)r.finalTransform?(r.data.hasMask&&e.splice(0,0,r.finalTransform),r=r.comp):n=!1;var a,s=e.length;for(i=0;i<s;i+=1)a=e[i].mat.applyToPointArray(0,0,0),t=[t[0]-a[0],t[1]-a[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,i=this.element.finalTransform.mat,n=this.masksProperties.length;for(e=0;e<n;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var r=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),r.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,(t+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,i){var n,r,a=" M"+e.v[0][0]+","+e.v[0][1];for(r=e._length,n=1;n<r;n+=1)a+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[n][0]+","+e.i[n][1]+" "+e.v[n][0]+","+e.v[n][1];if(e.c&&r>1&&(a+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==a){var s="";i.elem&&(e.c&&(s=t.inv?this.solidPath+a:a),i.elem.setAttribute("d",s)),i.lastPath=a}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={createFilter:function(t,e){var i=createNS("filter");return i.setAttribute("id",t),!0!==e&&(i.setAttribute("filterUnits","objectBoundingBox"),i.setAttribute("x","0%"),i.setAttribute("y","0%"),i.setAttribute("width","100%"),i.setAttribute("height","100%")),i},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,i,n="SourceGraphic",r=t.data.ef?t.data.ef.length:0,a=createElementID(),s=filtersFactory.createFilter(a,!0),o=0;for(this.filters=[],e=0;e<r;e+=1){i=null;var l=t.data.ef[e].ty;registeredEffects$1[l]&&(i=new(0,registeredEffects$1[l].effect)(s,t.effectsManager.effectElements[e],t,idPrefix+o,n),n=idPrefix+o,registeredEffects$1[l].countsAsEffect&&(o+=1)),i&&this.filters.push(i)}o&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+a+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,i){registeredEffects$1[t]={effect:e,countsAsEffect:i}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,i=this.filters.length,n=[];for(e=0;e<i;e+=1)this.filters[e].type===t&&n.push(this.filters[e]);return n},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var i=createNS("clipPath"),n=createNS("path");n.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var r=createElementID();if(i.setAttribute("id",r),i.appendChild(n),this.globalData.defs.appendChild(i),this.checkMasks()){var a=createNS("g");a.setAttribute("clip-path","url("+getLocationHref()+"#"+r+")"),a.appendChild(this.layerElement),this.transformedElement=a,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+r+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,i,n,r,a=this.layerId+"_"+t;if(1===t||3===t){var s=createNS("mask");s.setAttribute("id",a),s.setAttribute("mask-type",3===t?"luminance":"alpha"),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),s.appendChild(n),this.globalData.defs.appendChild(s),featureSupport.maskType||1!==t||(s.setAttribute("mask-type","luminance"),e=createElementID(),i=filtersFactory.createFilter(e),this.globalData.defs.appendChild(i),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(n),s.appendChild(r),r.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(2===t){var o=createNS("mask");o.setAttribute("id",a),o.setAttribute("mask-type","alpha");var l=createNS("g");o.appendChild(l),e=createElementID(),i=filtersFactory.createFilter(e);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),i.appendChild(c);var d=createNS("feFuncA");d.setAttribute("type","table"),d.setAttribute("tableValues","1.0 0.0"),c.appendChild(d),this.globalData.defs.appendChild(i);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),l.appendChild(h),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(n),featureSupport.maskType||(o.setAttribute("mask-type","luminance"),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),l.appendChild(h),r.appendChild(this.layerElement),l.appendChild(r)),this.globalData.defs.appendChild(o)}this.matteMasks[t]=a}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,i=this.shapeModifiers.length;for(e=0;e<i;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,i=0,n=e.length;i<n;){if(e[i].elem===t)return e[i].pos;i+=1}return 0},addProcessedElement:function(t,e){for(var i=this.processedElements,n=i.length;n;)if(i[n-=1].elem===t)return void(i[n].pos=e);i.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var n=0,r=t.length;n<r;){if(t[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,i,n){var r;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var a,s=e.length||0;for(r=0;r<s;r+=1)a=PropertyFactory.getProp(t,e[r].v,0,0,this),this.k=a.k||this.k,this.dataProps[r]={n:e[r].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i}function SVGNoStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=i}function GradientProperty(t,e,i){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var n=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,i)}function SVGGradientStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,i),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,i){this.transform={mProps:t,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<i;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){for(var i=0,n=this.o.length/2;i<n;){if(Math.abs(t[4*i]-t[4*e+2*i])>.01)return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,i,n,r=4*this.data.p;for(e=0;e<r;e+=1)i=e%4==0?100:255,n=Math.round(this.prop.v[e]*i),this.c[e]!==n&&(this.c[e]=n,this._cmdf=!t);if(this.o.length)for(r=this.prop.v.length,e=4*this.data.p;e<r;e+=1)i=e%2==0?100:1,n=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==n&&(this.o[e-4*this.data.p]=n,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,i){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var i=createElementID(),n=createNS(1===e.t?"linearGradient":"radialGradient");n.setAttribute("id",i),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var r,a,s,o=[];for(s=4*e.g.p,a=0;a<s;a+=4)r=createNS("stop"),n.appendChild(r),o.push(r);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+i+")"),this.gf=n,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var i,n,r,a=createNS("mask"),s=createNS("path");a.appendChild(s);var o=createElementID(),l=createElementID();a.setAttribute("id",l);var c=createNS(1===t.t?"linearGradient":"radialGradient");c.setAttribute("id",o),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),r=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var d=this.stops;for(n=4*t.g.p;n<r;n+=2)(i=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(i),d.push(i);s.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),"gs"===t.ty&&(s.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&s.setAttribute("stroke-miterlimit",t.ml)),this.of=c,this.ms=a,this.ost=d,this.maskId=l,e.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,i,n){if(0===e)return"";var r,a=t.o,s=t.i,o=t.v,l=" M"+n.applyToPointStringified(o[0][0],o[0][1]);for(r=1;r<e;r+=1)l+=" C"+n.applyToPointStringified(a[r-1][0],a[r-1][1])+" "+n.applyToPointStringified(s[r][0],s[r][1])+" "+n.applyToPointStringified(o[r][0],o[r][1]);return i&&e&&(l+=" C"+n.applyToPointStringified(a[r-1][0],a[r-1][1])+" "+n.applyToPointStringified(s[0][0],s[0][1])+" "+n.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function i(t,e,i){(i||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(i||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function n(){}function r(i,n,r){var a,s,o,l,c,d,h,u,f,p,g=n.styles.length,m=n.lvl;for(d=0;d<g;d+=1){if(l=n.sh._mdf||r,n.styles[d].lvl<m){for(u=e.reset(),f=m-n.styles[d].lvl,p=n.transformers.length-1;!l&&f>0;)l=n.transformers[p].mProps._mdf||l,f-=1,p-=1;if(l)for(f=m-n.styles[d].lvl,p=n.transformers.length-1;f>0;)u.multiply(n.transformers[p].mProps.v),f-=1,p-=1}else u=t;if(s=(h=n.sh.paths)._length,l){for(o="",a=0;a<s;a+=1)(c=h.shapes[a])&&c._length&&(o+=buildShapeString(c,c._length,c.c,u));n.caches[d]=o}else o=n.caches[d];n.styles[d].d+=!0===i.hd?"":o,n.styles[d]._mdf=l||n.styles[d]._mdf}}function a(t,e,i){var n=e.style;(e.c._mdf||i)&&n.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i)&&n.pElem.setAttribute("fill-opacity",e.o.v)}function s(t,e,i){o(t,e,i),l(t,e,i)}function o(t,e,i){var n,r,a,s,o,l=e.gf,c=e.g._hasOpacity,d=e.s.v,h=e.e.v;if(e.o._mdf||i){var u="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(u,e.o.v)}if(e.s._mdf||i){var f=1===t.t?"x1":"cx",p="x1"===f?"y1":"cy";l.setAttribute(f,d[0]),l.setAttribute(p,d[1]),c&&!e.g._collapsable&&(e.of.setAttribute(f,d[0]),e.of.setAttribute(p,d[1]))}if(e.g._cmdf||i){n=e.cst;var g=e.g.c;for(a=n.length,r=0;r<a;r+=1)(s=n[r]).setAttribute("offset",g[4*r]+"%"),s.setAttribute("stop-color","rgb("+g[4*r+1]+","+g[4*r+2]+","+g[4*r+3]+")")}if(c&&(e.g._omdf||i)){var m=e.g.o;for(a=(n=e.g._collapsable?e.cst:e.ost).length,r=0;r<a;r+=1)s=n[r],e.g._collapsable||s.setAttribute("offset",m[2*r]+"%"),s.setAttribute("stop-opacity",m[2*r+1])}if(1===t.t)(e.e._mdf||i)&&(l.setAttribute("x2",h[0]),l.setAttribute("y2",h[1]),c&&!e.g._collapsable&&(e.of.setAttribute("x2",h[0]),e.of.setAttribute("y2",h[1])));else if((e.s._mdf||e.e._mdf||i)&&(o=Math.sqrt(Math.pow(d[0]-h[0],2)+Math.pow(d[1]-h[1],2)),l.setAttribute("r",o),c&&!e.g._collapsable&&e.of.setAttribute("r",o)),e.e._mdf||e.h._mdf||e.a._mdf||i){o||(o=Math.sqrt(Math.pow(d[0]-h[0],2)+Math.pow(d[1]-h[1],2)));var _=Math.atan2(h[1]-d[1],h[0]-d[0]),v=e.h.v;v>=1?v=.99:v<=-1&&(v=-.99);var y=o*v,b=Math.cos(_+e.a.v)*y+d[0],k=Math.sin(_+e.a.v)*y+d[1];l.setAttribute("fx",b),l.setAttribute("fy",k),c&&!e.g._collapsable&&(e.of.setAttribute("fx",b),e.of.setAttribute("fy",k))}}function l(t,e,i){var n=e.style,r=e.d;r&&(r._mdf||i)&&r.dashStr&&(n.pElem.setAttribute("stroke-dasharray",r.dashStr),n.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),e.c&&(e.c._mdf||i)&&n.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i)&&n.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||i)&&(n.pElem.setAttribute("stroke-width",e.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return a;case"gf":return o;case"gs":return s;case"st":return l;case"sh":case"el":case"rc":case"sr":return r;case"tr":return i;case"no":return n;default:return null}}}}();function SVGShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}function LetterProps(t,e,i,n,r,a){this.o=t,this.sw=e,this.sc=i,this.fc=n,this.m=r,this.p=a,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!n,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,i,n,r=this.shapes.length,a=this.stylesList.length,s=[],o=!1;for(i=0;i<a;i+=1){for(n=this.stylesList[i],o=!1,s.length=0,t=0;t<r;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(n)&&(s.push(e),o=e._isAnimated||o);s.length>1&&o&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var i,n=new SVGStyleData(t,e),r=n.pElem;return"st"===t.ty?i=new SVGStrokeStyleData(this,t,n):"fl"===t.ty?i=new SVGFillStyleData(this,t,n):"gf"===t.ty||"gs"===t.ty?(i=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,n),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),r.setAttribute("mask","url("+getLocationHref()+"#"+i.maskId+")"))):"no"===t.ty&&(i=new SVGNoStyleData(this,t,n)),"st"!==t.ty&&"gs"!==t.ty||(r.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),r.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),r.setAttribute("fill-opacity","0"),1===t.lj&&r.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&r.setAttribute("fill-rule","evenodd"),t.ln&&r.setAttribute("id",t.ln),t.cl&&r.setAttribute("class",t.cl),t.bm&&(r.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var i=TransformPropertyFactory.getTransformProperty(this,t,this),n=new SVGTransformData(i,i.o,e);return this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createShapeElement=function(t,e,i){var n=4;"rc"===t.ty?n=5:"el"===t.ty?n=6:"sr"===t.ty&&(n=7);var r=new SVGShapeData(e,i,ShapePropertyFactory.getShapeProp(this,t,n,this));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var i=0,n=this.animatedContents.length;i<n;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,i=t.styles,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||i.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,i,n,r,a,s){var o,l,c,d,h,u,f=[].concat(a),p=t.length-1,g=[],m=[];for(o=p;o>=0;o-=1){if((u=this.searchProcessedElement(t[o]))?e[o]=i[u-1]:t[o]._render=s,"fl"===t[o].ty||"st"===t[o].ty||"gf"===t[o].ty||"gs"===t[o].ty||"no"===t[o].ty)u?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],r),t[o]._render&&e[o].style.pElem.parentNode!==n&&n.appendChild(e[o].style.pElem),g.push(e[o].style);else if("gr"===t[o].ty){if(u)for(c=e[o].it.length,l=0;l<c;l+=1)e[o].prevViewData[l]=e[o].it[l];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,e[o].gr,r+1,f,s),t[o]._render&&e[o].gr.parentNode!==n&&n.appendChild(e[o].gr)}else"tr"===t[o].ty?(u||(e[o]=this.createTransformElement(t[o],n)),d=e[o].transform,f.push(d)):"sh"===t[o].ty||"rc"===t[o].ty||"el"===t[o].ty||"sr"===t[o].ty?(u||(e[o]=this.createShapeElement(t[o],f,r)),this.setElementStyles(e[o])):"tm"===t[o].ty||"rd"===t[o].ty||"ms"===t[o].ty||"pb"===t[o].ty||"zz"===t[o].ty||"op"===t[o].ty?(u?(h=e[o]).closed=!1:((h=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=h,this.shapeModifiers.push(h)),m.push(h)):"rp"===t[o].ty&&(u?(h=e[o]).closed=!0:(h=ShapeModifiers.getModifier(t[o].ty),e[o]=h,h.init(this,t,o,e),this.shapeModifiers.push(h),s=!1),m.push(h));this.addProcessedElement(t[o],o+1)}for(p=g.length,o=0;o<p;o+=1)g[o].closed=!0;for(p=m.length,o=0;o<p;o+=1)m[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,i=this.animatedContents.length;for(t=0;t<i;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,i,n,r,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,s=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,s=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,s=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,s=!0),this.m!==r&&(this.m=r,this._mdf.m=!0,s=!0),!a.length||this.p[0]===a[0]&&this.p[1]===a[1]&&this.p[4]===a[4]&&this.p[5]===a[5]&&this.p[12]===a[12]&&this.p[13]===a[13]||(this.p=a,this._mdf.p=!0,s=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,i=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var r=this.effectsSequence.length,a=t||this.data.d.k[this.keysIndex].s;for(n=0;n<r;n+=1)a=i!==this.keysIndex?this.effectsSequence[n](a,a.t):this.effectsSequence[n](this.currentData,a.t);e!==a&&this.setCurrentData(a),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,i=0,n=t.length;i<=n-1&&!(i===n-1||t[i+1].t>e);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,i,n=[],r=0,a=t.length,s=!1,o=!1,l="";r<a;)s=o,o=!1,e=t.charCodeAt(r),l=t.charAt(r),FontManager.isCombinedCharacter(e)?s=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,r)?l=t.substr(r,14):(i=t.charCodeAt(r+1))>=56320&&i<=57343&&(FontManager.isModifier(e,i)?(l=t.substr(r,2),s=!0):l=FontManager.isFlagEmoji(t.substr(r,4))?t.substr(r,4):t.substr(r,2)):e>56319?(i=t.charCodeAt(r+1),FontManager.isVariationSelector(e)&&(s=!0)):FontManager.isZeroWidthJoiner(e)&&(s=!0,o=!0),s?(n[n.length-1]+=l,s=!1):n.push(l),r+=l.length;return n},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,i,n,r,a,s,o,l=this.elem.globalData.fontManager,c=this.data,d=[],h=0,u=c.m.g,f=0,p=0,g=0,m=[],_=0,v=0,y=l.getFontByName(t.f),b=0,k=getFontProperties(y);t.fWeight=k.weight,t.fStyle=k.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),i=t.finalText.length,t.finalLineHeight=t.lh;var x,w=t.tr/1e3*t.finalSize;if(t.sz)for(var S,T,E=!0,C=t.sz[0],M=t.sz[1];E;){S=0,_=0,i=(T=this.buildFinalText(t.t)).length,w=t.tr/1e3*t.finalSize;var P=-1;for(e=0;e<i;e+=1)x=T[e].charCodeAt(0),n=!1," "===T[e]?P=e:13!==x&&3!==x||(_=0,n=!0,S+=t.finalLineHeight||1.2*t.finalSize),l.chars?(o=l.getCharData(T[e],y.fStyle,y.fFamily),b=n?0:o.w*t.finalSize/100):b=l.measureText(T[e],t.f,t.finalSize),_+b>C&&" "!==T[e]?(-1===P?i+=1:e=P,S+=t.finalLineHeight||1.2*t.finalSize,T.splice(e,P===e?1:0,"\r"),P=-1,_=0):(_+=b,_+=w);S+=y.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&M<S?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=T,i=t.finalText.length,E=!1)}_=-w,b=0;var A,$=0;for(e=0;e<i;e+=1)if(n=!1,13===(x=(A=t.finalText[e]).charCodeAt(0))||3===x?($=0,m.push(_),v=_>v?_:v,_=-2*w,r="",n=!0,g+=1):r=A,l.chars?(o=l.getCharData(A,y.fStyle,l.getFontByName(t.f).fFamily),b=n?0:o.w*t.finalSize/100):b=l.measureText(r,t.f,t.finalSize)," "===A?$+=b+w:(_+=b+w+$,$=0),d.push({l:b,an:b,add:f,n:n,anIndexes:[],val:r,line:g,animatorJustifyOffset:0}),2==u){if(f+=b,""===r||" "===r||e===i-1){for(""!==r&&" "!==r||(f-=b);p<=e;)d[p].an=f,d[p].ind=h,d[p].extra=b,p+=1;h+=1,f=0}}else if(3==u){if(f+=b,""===r||e===i-1){for(""===r&&(f-=b);p<=e;)d[p].an=f,d[p].ind=h,d[p].extra=b,p+=1;f=0,h+=1}}else d[h].ind=h,d[h].extra=0,h+=1;if(t.l=d,v=_>v?_:v,m.push(_),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=m;var D,I,L,O,R=c.a;s=R.length;var F=[];for(a=0;a<s;a+=1){for((D=R[a]).a.sc&&(t.strokeColorAnim=!0),D.a.sw&&(t.strokeWidthAnim=!0),(D.a.fc||D.a.fh||D.a.fs||D.a.fb)&&(t.fillColorAnim=!0),O=0,L=D.s.b,e=0;e<i;e+=1)(I=d[e]).anIndexes[a]=O,(1==L&&""!==I.val||2==L&&""!==I.val&&" "!==I.val||3==L&&(I.n||" "==I.val||e==i-1)||4==L&&(I.n||e==i-1))&&(1===D.s.rn&&F.push(O),O+=1);c.a[a].s.totalChars=O;var N,B=-1;if(1===D.s.rn)for(e=0;e<i;e+=1)B!=(I=d[e]).anIndexes[a]&&(B=I.anIndexes[a],N=F.splice(Math.floor(Math.random()*F.length),1)[0]),I.anIndexes[a]=N}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=y.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s);i=this.copyData(i,t),this.data.d.k[e].s=i,this.recalculate(e),this.setCurrentData(i),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,i=Math.floor;function n(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,e.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var r=0,a=0,s=1,o=1;this.ne.v>0?r=this.ne.v/100:a=-this.ne.v/100,this.xe.v>0?s=1-this.xe.v/100:o=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(r,a,s,o).get,c=0,d=this.finalS,h=this.finalE,u=this.data.sh;if(2===u)c=l(c=h===d?n>=h?1:0:t(0,e(.5/(h-d)+(n-d)/(h-d),1)));else if(3===u)c=l(c=h===d?n>=h?0:1:1-t(0,e(.5/(h-d)+(n-d)/(h-d),1)));else if(4===u)h===d?c=0:(c=t(0,e(.5/(h-d)+(n-d)/(h-d),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===u){if(h===d)c=0;else{var f=h-d,p=-f/2+(n=e(t(0,n+.5-d),h-d)),g=f/2;c=Math.sqrt(1-p*p/(g*g))}c=l(c)}else 6===u?(h===d?c=0:(n=e(t(0,n+.5-d),h-d),c=(1+Math.cos(Math.PI+2*Math.PI*n/(h-d)))/2),c=l(c)):(n>=i(d)&&(c=t(0,e(n-d<0?e(h,1)-(d-n):h-n,1))),c=l(c));if(100!==this.sm.v){var m=.01*this.sm.v;0===m&&(m=1e-8);var _=.5-.5*m;c<_?c=0:(c=(c-_)/m)>1&&(c=1)}return c*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/e,n=this.s.v/e+i,r=this.e.v/e+i;if(n>r){var a=n;n=r,r=a}this.finalS=n,this.finalE=r}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(t,e,i){return new n(t,e,i)}}}();function TextAnimatorDataProperty(t,e,i){var n={propType:!1},r=PropertyFactory.getProp,a=e.a;this.a={r:a.r?r(t,a.r,0,degToRads,i):n,rx:a.rx?r(t,a.rx,0,degToRads,i):n,ry:a.ry?r(t,a.ry,0,degToRads,i):n,sk:a.sk?r(t,a.sk,0,degToRads,i):n,sa:a.sa?r(t,a.sa,0,degToRads,i):n,s:a.s?r(t,a.s,1,.01,i):n,a:a.a?r(t,a.a,1,0,i):n,o:a.o?r(t,a.o,0,.01,i):n,p:a.p?r(t,a.p,1,0,i):n,sw:a.sw?r(t,a.sw,0,0,i):n,sc:a.sc?r(t,a.sc,1,0,i):n,fc:a.fc?r(t,a.fc,1,0,i):n,fh:a.fh?r(t,a.fh,0,0,i):n,fs:a.fs?r(t,a.fs,0,.01,i):n,fb:a.fb?r(t,a.fb,0,.01,i):n,t:a.t?r(t,a.t,0,0,i):n},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,i),this.s.t=e.s.t}function TextAnimatorProperty(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,i=this._textData.a.length,n=PropertyFactory.getProp;for(t=0;t<i;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,n,r,a,s,o,l,c,d,h,u,f,p,g,m,_,v,y,b,k=this._moreOptions.alignment.v,x=this._animatorsData,w=this._textData,S=this.mHelper,T=this._renderType,E=this.renderedLetters.length,C=t.l;if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var M,P=b.v;for(this._pathData.r.v&&(P=P.reverse()),s={tLength:0,segments:[]},a=P._length-1,_=0,r=0;r<a;r+=1)M=bez.buildBezierData(P.v[r],P.v[r+1],[P.o[r][0]-P.v[r][0],P.o[r][1]-P.v[r][1]],[P.i[r+1][0]-P.v[r+1][0],P.i[r+1][1]-P.v[r+1][1]]),s.tLength+=M.segmentLength,s.segments.push(M),_+=M.segmentLength;r=a,b.v.c&&(M=bez.buildBezierData(P.v[r],P.v[0],[P.o[r][0]-P.v[r][0],P.o[r][1]-P.v[r][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),s.tLength+=M.segmentLength,s.segments.push(M),_+=M.segmentLength),this._pathData.pi=s}if(s=this._pathData.pi,o=this._pathData.f.v,u=0,h=1,c=0,d=!0,g=s.segments,o<0&&b.v.c)for(s.tLength<Math.abs(o)&&(o=-Math.abs(o)%s.tLength),h=(p=g[u=g.length-1].points).length-1;o<0;)o+=p[h].partialLength,(h-=1)<0&&(h=(p=g[u-=1].points).length-1);f=(p=g[u].points)[h-1],m=(l=p[h]).partialLength}a=C.length,i=0,n=0;var A,$,D,I,L,O=1.2*t.finalSize*.714,R=!0;D=x.length;var F,N,B,z,V,H,j,G,W,q,U,Y,X=-1,K=o,J=u,Z=h,Q=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var it=0,nt=0,rt=2===t.j?-.5:-1,at=0,st=!0;for(r=0;r<a;r+=1)if(C[r].n){for(it&&(it+=nt);at<r;)C[at].animatorJustifyOffset=it,at+=1;it=0,st=!0}else{for($=0;$<D;$+=1)(A=x[$].a).t.propType&&(st&&2===t.j&&(nt+=A.t.v*rt),(L=x[$].s.getMult(C[r].anIndexes[$],w.a[$].s.totalChars)).length?it+=A.t.v*L[0]*rt:it+=A.t.v*L*rt);st=!1}for(it&&(it+=nt);at<r;)C[at].animatorJustifyOffset=it,at+=1}for(r=0;r<a;r+=1){if(S.reset(),z=1,C[r].n)i=0,n+=t.yOffset,n+=R?1:0,o=K,R=!1,this._hasMaskedPath&&(h=Z,f=(p=g[u=J].points)[h-1],m=(l=p[h]).partialLength,c=0),tt="",U="",W="",Y="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==C[r].line){switch(t.j){case 1:o+=_-t.lineWidths[C[r].line];break;case 2:o+=(_-t.lineWidths[C[r].line])/2}Q=C[r].line}X!==C[r].ind&&(C[X]&&(o+=C[X].extra),o+=C[r].an/2,X=C[r].ind),o+=k[0]*C[r].an*.005;var ot=0;for($=0;$<D;$+=1)(A=x[$].a).p.propType&&((L=x[$].s.getMult(C[r].anIndexes[$],w.a[$].s.totalChars)).length?ot+=A.p.v[0]*L[0]:ot+=A.p.v[0]*L),A.a.propType&&((L=x[$].s.getMult(C[r].anIndexes[$],w.a[$].s.totalChars)).length?ot+=A.a.v[0]*L[0]:ot+=A.a.v[0]*L);for(d=!0,this._pathData.a.v&&(o=.5*C[0].an+(_-this._pathData.f.v-.5*C[0].an-.5*C[C.length-1].an)*X/(a-1),o+=this._pathData.f.v);d;)c+m>=o+ot||!p?(v=(o+ot-c)/l.partialLength,N=f.point[0]+(l.point[0]-f.point[0])*v,B=f.point[1]+(l.point[1]-f.point[1])*v,S.translate(-k[0]*C[r].an*.005,-k[1]*O*.01),d=!1):p&&(c+=l.partialLength,(h+=1)>=p.length&&(h=0,g[u+=1]?p=g[u].points:b.v.c?(h=0,p=g[u=0].points):(c-=l.partialLength,p=null)),p&&(f=l,m=(l=p[h]).partialLength));F=C[r].an/2-C[r].add,S.translate(-F,0,0)}else F=C[r].an/2-C[r].add,S.translate(-F,0,0),S.translate(-k[0]*C[r].an*.005,-k[1]*O*.01,0);for($=0;$<D;$+=1)(A=x[$].a).t.propType&&(L=x[$].s.getMult(C[r].anIndexes[$],w.a[$].s.totalChars),0===i&&0===t.j||(this._hasMaskedPath?L.length?o+=A.t.v*L[0]:o+=A.t.v*L:L.length?i+=A.t.v*L[0]:i+=A.t.v*L));for(t.strokeWidthAnim&&(H=t.sw||0),t.strokeColorAnim&&(V=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(j=[t.fc[0],t.fc[1],t.fc[2]]),$=0;$<D;$+=1)(A=x[$].a).a.propType&&((L=x[$].s.getMult(C[r].anIndexes[$],w.a[$].s.totalChars)).length?S.translate(-A.a.v[0]*L[0],-A.a.v[1]*L[1],A.a.v[2]*L[2]):S.translate(-A.a.v[0]*L,-A.a.v[1]*L,A.a.v[2]*L));for($=0;$<D;$+=1)(A=x[$].a).s.propType&&((L=x[$].s.getMult(C[r].anIndexes[$],w.a[$].s.totalChars)).length?S.scale(1+(A.s.v[0]-1)*L[0],1+(A.s.v[1]-1)*L[1],1):S.scale(1+(A.s.v[0]-1)*L,1+(A.s.v[1]-1)*L,1));for($=0;$<D;$+=1){if(A=x[$].a,L=x[$].s.getMult(C[r].anIndexes[$],w.a[$].s.totalChars),A.sk.propType&&(L.length?S.skewFromAxis(-A.sk.v*L[0],A.sa.v*L[1]):S.skewFromAxis(-A.sk.v*L,A.sa.v*L)),A.r.propType&&(L.length?S.rotateZ(-A.r.v*L[2]):S.rotateZ(-A.r.v*L)),A.ry.propType&&(L.length?S.rotateY(A.ry.v*L[1]):S.rotateY(A.ry.v*L)),A.rx.propType&&(L.length?S.rotateX(A.rx.v*L[0]):S.rotateX(A.rx.v*L)),A.o.propType&&(L.length?z+=(A.o.v*L[0]-z)*L[0]:z+=(A.o.v*L-z)*L),t.strokeWidthAnim&&A.sw.propType&&(L.length?H+=A.sw.v*L[0]:H+=A.sw.v*L),t.strokeColorAnim&&A.sc.propType)for(G=0;G<3;G+=1)L.length?V[G]+=(A.sc.v[G]-V[G])*L[0]:V[G]+=(A.sc.v[G]-V[G])*L;if(t.fillColorAnim&&t.fc){if(A.fc.propType)for(G=0;G<3;G+=1)L.length?j[G]+=(A.fc.v[G]-j[G])*L[0]:j[G]+=(A.fc.v[G]-j[G])*L;A.fh.propType&&(j=L.length?addHueToRGB(j,A.fh.v*L[0]):addHueToRGB(j,A.fh.v*L)),A.fs.propType&&(j=L.length?addSaturationToRGB(j,A.fs.v*L[0]):addSaturationToRGB(j,A.fs.v*L)),A.fb.propType&&(j=L.length?addBrightnessToRGB(j,A.fb.v*L[0]):addBrightnessToRGB(j,A.fb.v*L))}}for($=0;$<D;$+=1)(A=x[$].a).p.propType&&(L=x[$].s.getMult(C[r].anIndexes[$],w.a[$].s.totalChars),this._hasMaskedPath?L.length?S.translate(0,A.p.v[1]*L[0],-A.p.v[2]*L[1]):S.translate(0,A.p.v[1]*L,-A.p.v[2]*L):L.length?S.translate(A.p.v[0]*L[0],A.p.v[1]*L[1],-A.p.v[2]*L[2]):S.translate(A.p.v[0]*L,A.p.v[1]*L,-A.p.v[2]*L));if(t.strokeWidthAnim&&(W=H<0?0:H),t.strokeColorAnim&&(q="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),t.fillColorAnim&&t.fc&&(U="rgb("+Math.round(255*j[0])+","+Math.round(255*j[1])+","+Math.round(255*j[2])+")"),this._hasMaskedPath){if(S.translate(0,-t.ls),S.translate(0,k[1]*O*.01+n,0),this._pathData.p.v){y=(l.point[1]-f.point[1])/(l.point[0]-f.point[0]);var lt=180*Math.atan(y)/Math.PI;l.point[0]<f.point[0]&&(lt+=180),S.rotate(-lt*Math.PI/180)}S.translate(N,B,0),o-=k[0]*C[r].an*.005,C[r+1]&&X!==C[r+1].ind&&(o+=C[r].an/2,o+=.001*t.tr*t.finalSize)}else{switch(S.translate(i,n,0),t.ps&&S.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:S.translate(C[r].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[r].line]),0,0);break;case 2:S.translate(C[r].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[r].line])/2,0,0)}S.translate(0,-t.ls),S.translate(F,0,0),S.translate(k[0]*C[r].an*.005,k[1]*O*.01,0),i+=C[r].l+.001*t.tr*t.finalSize}"html"===T?tt=S.toCSS():"svg"===T?tt=S.to2dCSS():et=[S.props[0],S.props[1],S.props[2],S.props[3],S.props[4],S.props[5],S.props[6],S.props[7],S.props[8],S.props[9],S.props[10],S.props[11],S.props[12],S.props[13],S.props[14],S.props[15]],Y=z}E<=r?(I=new LetterProps(Y,W,q,U,tt,et),this.renderedLetters.push(I),E+=1,this.lettersChangedFlag=!0):(I=this.renderedLetters[r],this.lettersChangedFlag=I.update(Y,W,q,U,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,i),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var i,n,r=e.length,a="";for(i=0;i<r;i+=1)"sh"===e[i].ty&&(n=e[i].ks.k,a+=buildShapeString(n,n.i.length,!0,t));return a},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,i,n,r){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0)}e.translate(n,r,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,i){this.textSpans=[],this.renderType="svg",this.initElement(t,e,i)}function ISolidElement(t,e,i){this.initElement(t,e,i)}function NullElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initFrame(),this.initTransform(t,e,i),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,i){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(e&&e.title){var n=createNS("title"),r=createElementID();n.setAttribute("id",r),n.textContent=e.title,this.svgElement.appendChild(n),i+=r}if(e&&e.description){var a=createNS("desc"),s=createElementID();a.setAttribute("id",s),a.textContent=e.description,this.svgElement.appendChild(a),i+=" "+s}i&&this.svgElement.setAttribute("aria-labelledby",i);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,i=t.length,n=[],r="";e<i;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(n.push(r),r=""):r+=t[e],e+=1;return n.push(r),n},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var i=t.shapes[0];if(i.it){var n=i.it[i.it.length-1];n.s&&(n.s.k[0]=e,n.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var n=this.globalData.fontManager.getFontByName(i.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var r=i.fWeight,a=i.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",r)}this.layerElement.setAttribute("aria-label",i.t);var s,o=i.l||[],l=!!this.globalData.fontManager.chars;e=o.length;var c=this.mHelper,d=this.data.singleShape,h=0,u=0,f=!0,p=.001*i.tr*i.finalSize;if(!d||l||i.sz){var g,m=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!l||!d||0===t){if(s=m>t?this.textSpans[t].span:createNS(l?"g":"text"),m<=t){if(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=s,l){var _=createNS("g");s.appendChild(_),this.textSpans[t].childSpan=_}this.textSpans[t].span=s,this.layerElement.appendChild(s)}s.style.display="inherit"}if(c.reset(),d&&(o[t].n&&(h=-p,u+=i.yOffset,u+=f?1:0,f=!1),this.applyTextPropertiesToMatrix(i,c,o[t].line,h,u),h+=o[t].l||0,h+=p),l){var v;if(1===(g=this.globalData.fontManager.getCharData(i.finalText[t],n.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily)).t)v=new SVGCompElement(g.data,this.globalData,this);else{var y=emptyShapeData;g.data&&g.data.shapes&&(y=this.buildShapeData(g.data,i.finalSize)),v=new SVGShapeElement(y,this.globalData,this)}if(this.textSpans[t].glyph){var b=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(b.layerElement),b.destroy()}this.textSpans[t].glyph=v,v._debug=!0,v.prepareFrame(0),v.renderFrame(),this.textSpans[t].childSpan.appendChild(v.layerElement),1===g.t&&this.textSpans[t].childSpan.setAttribute("transform","scale("+i.finalSize/100+","+i.finalSize/100+")")}else d&&s.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),s.textContent=o[t].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}d&&s&&s.setAttribute("d","")}else{var k=this.textContainer,x="start";switch(i.j){case 1:x="end";break;case 2:x="middle";break;default:x="start"}k.setAttribute("text-anchor",x),k.setAttribute("letter-spacing",p);var w=this.buildTextContents(i.finalText);for(e=w.length,u=i.ps?i.ps[1]+i.ascent:0,t=0;t<e;t+=1)(s=this.textSpans[t].span||createNS("tspan")).textContent=w[t],s.setAttribute("x",0),s.setAttribute("y",u),s.style.display="inherit",k.appendChild(s),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=s,u+=i.finalLineHeight;this.layerElement.appendChild(k)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,i=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<i;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var i,n,r,a=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(e=s.length,t=0;t<e;t+=1)s[t].n||(i=a[t],n=this.textSpans[t].span,(r=this.textSpans[t].glyph)&&r.renderFrame(),i._mdf.m&&n.setAttribute("transform",i.m),i._mdf.o&&n.setAttribute("opacity",i.o),i._mdf.sw&&n.setAttribute("stroke-width",i.sw),i._mdf.sc&&n.setAttribute("stroke",i.sc),i._mdf.fc&&n.setAttribute("fill",i.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var i=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var r=createElementID();i.setAttribute("id",r),i.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+r+")"),e.appendChild(i),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,i=this.layers.length;for(e=0;e<i;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var i=this.createItem(this.layers[t]);if(e[t]=i,getExpressionsPlugin()&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,t),this.layers[t].tt){var n="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(-1===n)return;if(this.elements[n]&&!0!==this.elements[n]){var r=e[n].getMatte(this.layers[t].tt);i.setMatte(r)}else this.buildItem(n),this.addPendingElement(i)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){var n="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,r=this.elements[n].getMatte(this.layers[e].tt);t.setMatte(r);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){for(var n,r=0;r<e;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(i,n):this.layerElement.appendChild(i)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var i,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,i=t.length,n="_";for(e=0;e<i;e+=1)n+=t[e].transform.key+"_";var r=this.sequences[n];return r||(r={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=r,this.sequenceList.push(r)),r},processSequence:function(t,e){for(var i=0,n=t.transforms.length,r=e;i<n&&!e;){if(t.transforms[i].transform.mProps._mdf){r=!0;break}i+=1}if(r)for(t.finalTransform.reset(),i=n-1;i>=0;i-=1)t.finalTransform.multiply(t.transforms[i].transform.mProps.v);t._mdf=r},processSequences:function(t){var e,i=this.sequenceList.length;for(e=0;e<i;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,i=null,n=null;function r(){var r,a,s;e||(r=createNS("svg"),a=createNS("filter"),s=createNS("feColorMatrix"),a.setAttribute("id",t),s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),a.appendChild(s),r.appendChild(a),r.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(r.style.display="none"),n=r,document.body.appendChild(n),e=createTag("canvas"),(i=e.getContext("2d")).filter="url(#"+t+")",i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1))}return{load:r,get:function(n){return e||r(),e.width=n.width,e.height=n.height,i.filter="url(#"+t+")",e}}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var i=createTag("canvas");return i.width=t,i.height=e,i}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas:createCanvas},registeredEffects={};function CVEffects(t){var e,i,n=t.data.ef?t.data.ef.length:0;for(this.filters=[],e=0;e<n;e+=1){i=null;var r=t.data.ef[e].ty;registeredEffects[r]&&(i=new(0,registeredEffects[r].effect)(t.effectsManager.effectElements[e],t)),i&&this.filters.push(i)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){var i;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n=this.masksProperties.length,r=!1;for(i=0;i<n;i+=1)"n"!==this.masksProperties[i].mode&&(r=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);this.hasMasks=r,r&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,i=this.filters.length,n=[];for(e=0;e<i;e+=1)this.filters[e].type===t&&n.push(this.filters[e]);return n},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,i,n,r=this.element.finalTransform.mat,a=this.element.canvasContext,s=this.masksProperties.length;for(a.beginPath(),t=0;t<s;t+=1)if("n"!==this.masksProperties[t].mode){var o;this.masksProperties[t].inv&&(a.moveTo(0,0),a.lineTo(this.element.globalData.compSize.w,0),a.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),a.lineTo(0,this.element.globalData.compSize.h),a.lineTo(0,0)),n=this.viewData[t].v,e=r.applyToPointArray(n.v[0][0],n.v[0][1],0),a.moveTo(e[0],e[1]);var l=n._length;for(o=1;o<l;o+=1)i=r.applyToTriplePoints(n.o[o-1],n.i[o],n.v[o]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);i=r.applyToTriplePoints(n.o[o-1],n.i[0],n.v[0]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}this.element.globalData.renderer.save(!0),a.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,i,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var r,a=4;"rc"===e.ty?a=5:"el"===e.ty?a=6:"sr"===e.ty&&(a=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,a,t);var s,o=i.length;for(r=0;r<o;r+=1)i[r].closed||(s={transforms:n.addTransformSequence(i[r].transforms),trNodes:[]},this.styledShapes.push(s),i[r].elements.push(s))}function CVShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,i)}function CVTextElement(t,e,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,i)}function CVImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,i)}function CVSolidElement(t,e,i){this.initElement(t,e,i)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var t;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,t=0;t<15;t+=1){var e=new CanvasContext;this.stack[t]=e}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,i){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,i){this.initElement(t,e,i)}function HShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,i)}function HCameraElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,t.pe,0,0,this),t.ks.p.s?(this.px=n(this,t.ks.p.x,1,0,this),this.py=n(this,t.ks.p.y,1,0,this),this.pz=n(this,t.ks.p.z,1,0,this)):this.p=n(this,t.ks.p,1,0,this),t.ks.a&&(this.a=n(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var r,a=t.ks.or.k.length;for(r=0;r<a;r+=1)t.ks.or.k[r].to=null,t.ks.or.k[r].ti=null}this.or=n(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,t.ks.rx,0,degToRads,this),this.ry=n(this,t.ks.ry,0,degToRads,this),this.rz=n(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,i){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var i=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(i),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");if(this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var i=assetLoader.getLumaCanvas(this.canvasContext.canvas);i.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(i,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var i={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},n={};if("fl"===t.ty||"st"===t.ty?(n.c=PropertyFactory.getProp(this,t.c,1,255,this),n.c.k||(i.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(n.s=PropertyFactory.getProp(this,t.s,1,null,this),n.e=PropertyFactory.getProp(this,t.e,1,null,this),n.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,t.g,this)),n.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty){if(i.lc=lineCapEnum[t.lc||2],i.lj=lineJoinEnum[t.lj||2],1==t.lj&&(i.ml=t.ml),n.w=PropertyFactory.getProp(this,t.w,0,null,this),n.w.k||(i.wi=n.w.v),t.d){var r=new DashProperty(this,t.d,"canvas",this);n.d=r,n.d.k||(i.da=n.d.dashArray,i.do=n.d.dashoffset[0])}}else i.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(i),n.style=i,n},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,i,n,r){var a,s,o,l,c,d,h=t.length-1,u=[],f=[],p=[].concat(r);for(a=h;a>=0;a-=1){if((l=this.searchProcessedElement(t[a]))?e[a]=i[l-1]:t[a]._shouldRender=n,"fl"===t[a].ty||"st"===t[a].ty||"gf"===t[a].ty||"gs"===t[a].ty)l?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],p),u.push(e[a].style);else if("gr"===t[a].ty){if(l)for(o=e[a].it.length,s=0;s<o;s+=1)e[a].prevViewData[s]=e[a].it[s];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,n,p)}else"tr"===t[a].ty?(l||(d=this.createTransformElement(t[a]),e[a]=d),p.push(e[a]),this.addTransformToStyleList(e[a])):"sh"===t[a].ty||"rc"===t[a].ty||"el"===t[a].ty||"sr"===t[a].ty?l||(e[a]=this.createShapeElement(t[a])):"tm"===t[a].ty||"rd"===t[a].ty||"pb"===t[a].ty||"zz"===t[a].ty||"op"===t[a].ty?(l?(c=e[a]).closed=!1:((c=ShapeModifiers.getModifier(t[a].ty)).init(this,t[a]),e[a]=c,this.shapeModifiers.push(c)),f.push(c)):"rp"===t[a].ty&&(l?(c=e[a]).closed=!0:(c=ShapeModifiers.getModifier(t[a].ty),e[a]=c,c.init(this,t,a,e),this.shapeModifiers.push(c),n=!1),f.push(c));this.addProcessedElement(t[a],a+1)}for(this.removeTransformFromStyleList(),this.closeStyles(u),h=f.length,a=0;a<h;a+=1)f[a].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,i,n,r,a,s,o,l,c=this.stylesList.length,d=this.globalData.renderer,h=this.globalData.canvasContext;for(t=0;t<c;t+=1)if(("st"!==(o=(l=this.stylesList[t]).type)&&"gs"!==o||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(d.save(),a=l.elements,"st"===o||"gs"===o?(d.ctxStrokeStyle("st"===o?l.co:l.grd),d.ctxLineWidth(l.wi),d.ctxLineCap(l.lc),d.ctxLineJoin(l.lj),d.ctxMiterLimit(l.ml||0)):d.ctxFillStyle("fl"===o?l.co:l.grd),d.ctxOpacity(l.coOp),"st"!==o&&"gs"!==o&&h.beginPath(),d.ctxTransform(l.preTransforms.finalTransform.props),i=a.length,e=0;e<i;e+=1){for("st"!==o&&"gs"!==o||(h.beginPath(),l.da&&(h.setLineDash(l.da),h.lineDashOffset=l.do)),r=(s=a[e].trNodes).length,n=0;n<r;n+=1)"m"===s[n].t?h.moveTo(s[n].p[0],s[n].p[1]):"c"===s[n].t?h.bezierCurveTo(s[n].pts[0],s[n].pts[1],s[n].pts[2],s[n].pts[3],s[n].pts[4],s[n].pts[5]):h.closePath();"st"!==o&&"gs"!==o||(d.ctxStroke(),l.da&&h.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&this.globalData.renderer.ctxFill(l.r),d.restore()}},CVShapeElement.prototype.renderShape=function(t,e,i,n){var r,a;for(a=t,r=e.length-1;r>=0;r-=1)"tr"===e[r].ty?(a=i[r].transform,this.renderShapeTransform(t,a)):"sh"===e[r].ty||"el"===e[r].ty||"rc"===e[r].ty||"sr"===e[r].ty?this.renderPath(e[r],i[r]):"fl"===e[r].ty?this.renderFill(e[r],i[r],a):"st"===e[r].ty?this.renderStroke(e[r],i[r],a):"gf"===e[r].ty||"gs"===e[r].ty?this.renderGradientFill(e[r],i[r],a):"gr"===e[r].ty?this.renderShape(a,e[r].it,i[r].it):e[r].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var i,n,r,a=t.trNodes,s=e.paths,o=s._length;a.length=0;var l=t.transforms.finalTransform;for(r=0;r<o;r+=1){var c=s.shapes[r];if(c&&c.v){for(n=c._length,i=1;i<n;i+=1)1===i&&a.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),a.push({t:"c",pts:l.applyToTriplePoints(c.o[i-1],c.i[i],c.v[i])});1===n&&a.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&n&&(a.push({t:"c",pts:l.applyToTriplePoints(c.o[i-1],c.i[0],c.v[0])}),a.push({t:"z"}))}}t.trNodes=a}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var i,n=e.styledShapes.length;for(i=0;i<n;i+=1)this.renderStyledShape(e.styledShapes[i],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,i){var n=e.style;(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,i){var n,r=e.style;if(!r.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var a,s=this.globalData.canvasContext,o=e.s.v,l=e.e.v;if(1===t.t)n=s.createLinearGradient(o[0],o[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),d=Math.atan2(l[1]-o[1],l[0]-o[0]),h=e.h.v;h>=1?h=.99:h<=-1&&(h=-.99);var u=c*h,f=Math.cos(d+e.a.v)*u+o[0],p=Math.sin(d+e.a.v)*u+o[1];n=s.createRadialGradient(f,p,0,o[0],o[1],c)}var g=t.g.p,m=e.g.c,_=1;for(a=0;a<g;a+=1)e.g._hasOpacity&&e.g._collapsable&&(_=e.g.o[2*a+1]),n.addColorStop(m[4*a]/100,"rgba("+m[4*a+1]+","+m[4*a+2]+","+m[4*a+3]+","+_+")");r.grd=n}r.coOp=e.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(t,e,i){var n=e.style,r=e.d;r&&(r._mdf||this._isFirstFrame)&&(n.da=r.dashArray,n.do=r.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*i.opacity),(e.w._mdf||this._isFirstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var i=!1;t.sc&&(i=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var n,r,a,s,o,l,c,d,h,u,f,p,g=this.globalData.fontManager.getFontByName(t.f),m=t.l,_=this.mHelper;this.stroke=i,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,r=t.finalText.length;var v=this.data.singleShape,y=.001*t.tr*t.finalSize,b=0,k=0,x=!0,w=0;for(n=0;n<r;n+=1){s=(a=this.globalData.fontManager.getCharData(t.finalText[n],g.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&a.data||{},_.reset(),v&&m[n].n&&(b=-y,k+=t.yOffset,k+=x?1:0,x=!1),h=(c=s.shapes?s.shapes[0].it:[]).length,_.scale(t.finalSize/100,t.finalSize/100),v&&this.applyTextPropertiesToMatrix(t,_,m[n].line,b,k),f=createSizedArray(h-1);var S=0;for(d=0;d<h;d+=1)if("sh"===c[d].ty){for(l=c[d].ks.k.i.length,u=c[d].ks.k,p=[],o=1;o<l;o+=1)1===o&&p.push(_.applyToX(u.v[0][0],u.v[0][1],0),_.applyToY(u.v[0][0],u.v[0][1],0)),p.push(_.applyToX(u.o[o-1][0],u.o[o-1][1],0),_.applyToY(u.o[o-1][0],u.o[o-1][1],0),_.applyToX(u.i[o][0],u.i[o][1],0),_.applyToY(u.i[o][0],u.i[o][1],0),_.applyToX(u.v[o][0],u.v[o][1],0),_.applyToY(u.v[o][0],u.v[o][1],0));p.push(_.applyToX(u.o[o-1][0],u.o[o-1][1],0),_.applyToY(u.o[o-1][0],u.o[o-1][1],0),_.applyToX(u.i[0][0],u.i[0][1],0),_.applyToY(u.i[0][0],u.i[0][1],0),_.applyToX(u.v[0][0],u.v[0][1],0),_.applyToY(u.v[0][0],u.v[0][1],0)),f[S]=p,S+=1}v&&(b+=m[n].l,b+=y),this.textSpans[w]?this.textSpans[w].elem=f:this.textSpans[w]={elem:f},w+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,i,n,r,a;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;e=l.length;var c,d,h=null,u=null,f=null,p=this.globalData.renderer;for(t=0;t<e;t+=1)if(!l[t].n){if((s=o[t])&&(p.save(),p.ctxTransform(s.p),p.ctxOpacity(s.o)),this.fill){for(s&&s.fc?h!==s.fc&&(p.ctxFillStyle(s.fc),h=s.fc):h!==this.values.fill&&(h=this.values.fill,p.ctxFillStyle(this.values.fill)),n=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),i=0;i<n;i+=1)for(a=(d=c[i]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),r=2;r<a;r+=6)this.globalData.canvasContext.bezierCurveTo(d[r],d[r+1],d[r+2],d[r+3],d[r+4],d[r+5]);this.globalData.canvasContext.closePath(),p.ctxFill()}if(this.stroke){for(s&&s.sw?f!==s.sw&&(f=s.sw,p.ctxLineWidth(s.sw)):f!==this.values.sWidth&&(f=this.values.sWidth,p.ctxLineWidth(this.values.sWidth)),s&&s.sc?u!==s.sc&&(u=s.sc,p.ctxStrokeStyle(s.sc)):u!==this.values.stroke&&(u=this.values.stroke,p.ctxStrokeStyle(this.values.stroke)),n=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),i=0;i<n;i+=1)for(a=(d=c[i]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),r=2;r<a;r+=6)this.globalData.canvasContext.bezierCurveTo(d[r],d[r+1],d[r+2],d[r+3],d[r+4],d[r+5]);this.globalData.canvasContext.closePath(),p.ctxStroke()}s&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,i,n=t.getContext("2d"),r=this.img.width,a=this.img.height,s=r/a,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>o&&"xMidYMid slice"===l||s<o&&"xMidYMid slice"!==l?e=(i=a)*o:i=(e=r)/o,n.drawImage(this.img,(r-e)/2,(a-i)/2,e,i,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){1===t[0]&&0===t[1]&&0===t[4]&&1===t[5]&&0===t[12]&&0===t[13]||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,i,n){this.canvasContext.fillRect(t,e,i,n)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var i="0px 0px 0px";e.transformOrigin=i,e.mozTransformOrigin=i,e.webkitTransformOrigin=i,e["-webkit-transform"]=i,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){var i,n,r,a;if(this.reset(),t?(i=t,n=e,this.canvasContext.canvas.width=i,this.canvasContext.canvas.height=n):(this.animationItem.wrapper&&this.animationItem.container?(i=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight):(i=this.canvasContext.canvas.width,n=this.canvasContext.canvas.height),this.canvasContext.canvas.width=i*this.renderConfig.dpr,this.canvasContext.canvas.height=n*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var s=this.renderConfig.preserveAspectRatio.split(" "),o=s[1]||"meet",l=s[0]||"xMidYMid",c=l.substr(0,4),d=l.substr(4);r=i/n,(a=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===o||a<r&&"slice"===o?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(a<r&&"meet"===o||a>r&&"slice"===o)?(i-this.transformCanvas.w*(n/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(a<r&&"meet"===o||a>r&&"slice"===o)?(i-this.transformCanvas.w*(n/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===d&&(a>r&&"meet"===o||a<r&&"slice"===o)?(n-this.transformCanvas.h*(i/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===d&&(a>r&&"meet"===o||a<r&&"slice"===o)?(n-this.transformCanvas.h*(i/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var i;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(t-this.layers[i].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var i=this.createItem(this.layers[t],this,this.globalData);e[t]=i,i.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,i=this.stack[this.cArrPos],n=i.transform,r=this.cTr.props;for(e=0;e<16;e+=1)r[e]=n[e];if(t){this.nativeContext.restore();var a=this.stack[this.cArrPos+1];this.appliedFillStyle=a.fillStyle,this.appliedStrokeStyle=a.strokeStyle,this.appliedLineWidth=a.lineWidth,this.appliedLineCap=a.lineCap,this.appliedLineJoin=a.lineJoin,this.appliedMiterLimit=a.miterLimit}this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),(t||-1!==i.opacity&&this.currentOpacity!==i.opacity)&&(this.nativeContext.globalAlpha=i.opacity,this.currentOpacity=i.opacity),this.currentFillStyle=i.fillStyle,this.currentStrokeStyle=i.strokeStyle,this.currentLineWidth=i.lineWidth,this.currentLineCap=i.lineCap,this.currentLineJoin=i.lineJoin,this.currentMiterLimit=i.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var i,n=this.stack[this.cArrPos];for(i=0;i<16;i+=1)n.transform[i]=e[i];this.cArrPos+=1;var r=this.stack[this.cArrPos];r.opacity=n.opacity,r.fillStyle=n.fillStyle,r.strokeStyle=n.strokeStyle,r.lineWidth=n.lineWidth,r.lineCap=n.lineCap,r.lineJoin=n.lineJoin,r.miterLimit=n.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var i=e.props;this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,i,n){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,i,n)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)e=t[i].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var i,n,r,a,s,o=t.sh.v,l=t.transformers,c=o._length;if(!(c<=1)){for(i=0;i<c-1;i+=1)n=this.getTransformedPoint(l,o.v[i]),r=this.getTransformedPoint(l,o.o[i]),a=this.getTransformedPoint(l,o.i[i+1]),s=this.getTransformedPoint(l,o.v[i+1]),this.checkBounds(n,r,a,s,e);o.c&&(n=this.getTransformedPoint(l,o.v[i]),r=this.getTransformedPoint(l,o.o[i]),a=this.getTransformedPoint(l,o.i[0]),s=this.getTransformedPoint(l,o.v[0]),this.checkBounds(n,r,a,s,e))}},HShapeElement.prototype.checkBounds=function(t,e,i,n,r){this.getBoundsOfCurve(t,e,i,n);var a=this.shapeBoundingBox;r.x=bmMin(a.left,r.x),r.xMax=bmMax(a.right,r.xMax),r.y=bmMin(a.top,r.y),r.yMax=bmMax(a.bottom,r.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,i,n){for(var r,a,s,o,l,c,d,h=[[t[0],n[0]],[t[1],n[1]]],u=0;u<2;++u)a=6*t[u]-12*e[u]+6*i[u],r=-3*t[u]+9*e[u]-9*i[u]+3*n[u],s=3*e[u]-3*t[u],a|=0,s|=0,0==(r|=0)&&0===a||(0===r?(o=-s/a)>0&&o<1&&h[u].push(this.calculateF(o,t,e,i,n,u)):(l=a*a-4*s*r)>=0&&((c=(-a+bmSqrt(l))/(2*r))>0&&c<1&&h[u].push(this.calculateF(c,t,e,i,n,u)),(d=(-a-bmSqrt(l))/(2*r))>0&&d<1&&h[u].push(this.calculateF(d,t,e,i,n,u))));this.shapeBoundingBox.left=bmMin.apply(null,h[0]),this.shapeBoundingBox.top=bmMin.apply(null,h[1]),this.shapeBoundingBox.right=bmMax.apply(null,h[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,h[1])},HShapeElement.prototype.calculateF=function(t,e,i,n,r,a){return bmPow(1-t,3)*e[a]+3*bmPow(1-t,2)*t*i[a]+3*(1-t)*bmPow(t,2)*n[a]+bmPow(t,3)*r[a]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)t[i]&&t[i].sh?this.calculateShapeBoundingBox(t[i],e):t[i]&&t[i].it?this.calculateBoundingBox(t[i].it,e):t[i]&&t[i].style&&t[i].w&&this.expandStrokeBoundingBox(t[i].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var i=0;if(t.keyframes){for(var n=0;n<t.keyframes.length;n+=1){var r=t.keyframes[n].s;r>i&&(i=r)}i*=t.mult}else i=t.v*t.mult;e.x-=i,e.xMax+=i,e.y-=i,e.yMax+=i},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var i=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),i=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),i=!0),i||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,r="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=r,n.webkitTransform=r}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,i=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=i,e.color=i,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var n,r,a=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",a.fClass)this.innerElem.className=a.fClass;else{e.fontFamily=a.fFamily;var s=t.fWeight,o=t.fStyle;e.fontStyle=o,e.fontWeight=s}var l,c,d,h=t.l;r=h.length;var u,f=this.mHelper,p="",g=0;for(n=0;n<r;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[g]?l=this.textPaths[g]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[g]?d=(c=this.textSpans[g]).children[0]:((c=createTag("div")).style.lineHeight=0,(d=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[g]?this.textPaths[g]:createNS("text"):this.textSpans[g]?(c=this.textSpans[g],l=this.textPaths[g]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var m,_=this.globalData.fontManager.getCharData(t.finalText[n],a.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(m=_?_.data:null,f.reset(),m&&m.shapes&&m.shapes.length&&(u=m.shapes[0].it,f.scale(t.finalSize/100,t.finalSize/100),p=this.createPathShape(f,u),l.setAttribute("d",p)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),m&&m.shapes){document.body.appendChild(d);var v=d.getBBox();d.setAttribute("width",v.width+2),d.setAttribute("height",v.height+2),d.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2));var y=d.style,b="translate("+(v.x-1)+"px,"+(v.y-1)+"px)";y.transform=b,y.webkitTransform=b,h[n].yOffset=v.y-1}else d.setAttribute("width",1),d.setAttribute("height",1);c.appendChild(d)}}else if(l.textContent=h[n].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var k=l.style,x="translate3d(0,"+-t.finalSize/1.2+"px,0)";k.transform=x,k.webkitTransform=x}this.isMasked?this.textSpans[g]=l:this.textSpans[g]=c,this.textSpans[g].style.display="block",this.textPaths[g]=l,g+=1}for(;g<this.textSpans.length;)this.textSpans[g].style.display="none",g+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var i,n,r,a,s,o=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(n=c.length,i=0;i<n;i+=1)c[i].n?o+=1:(a=this.textSpans[i],s=this.textPaths[i],r=l[o],o+=1,r._mdf.m&&(this.isMasked?a.setAttribute("transform",r.m):(a.style.webkitTransform=r.m,a.style.transform=r.m)),a.style.opacity=r.o,r.sw&&r._mdf.sw&&s.setAttribute("stroke-width",r.sw),r.sc&&r._mdf.sc&&s.setAttribute("stroke",r.sc),r.fc&&r._mdf.fc&&(s.setAttribute("fill",r.fc),s.style.color=r.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var d=this.innerElem.getBBox();if(this.currentBBox.w!==d.width&&(this.currentBBox.w=d.width,this.svgElement.setAttribute("width",d.width)),this.currentBBox.h!==d.height&&(this.currentBBox.h=d.height,this.svgElement.setAttribute("height",d.height)),this.currentBBox.w!==d.width+2||this.currentBBox.h!==d.height+2||this.currentBBox.x!==d.x-1||this.currentBBox.y!==d.y-1){this.currentBBox.w=d.width+2,this.currentBBox.h=d.height+2,this.currentBBox.x=d.x-1,this.currentBBox.y=d.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var h="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=h,t.webkitTransform=h}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,i,n,r=this.comp.threeDElements.length;for(t=0;t<r;t+=1)if("3d"===(e=this.comp.threeDElements[t]).type){i=e.perspectiveElem.style,n=e.container.style;var a=this.pe.v+"px",s="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";i.perspective=a,i.webkitPerspective=a,n.transformOrigin=s,n.mozTransformOrigin=s,n.webkitTransformOrigin=s,i.transform=o,i.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,i=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)i=this.hierarchy[t].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var n=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var r;r=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var a=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)),s=[r[0]/a,r[1]/a,r[2]/a],o=Math.sqrt(s[2]*s[2]+s[0]*s[0]),l=Math.atan2(s[1],o),c=Math.atan2(s[0],-s[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var d=!this._prevMat.equals(this.mat);if((d||this.pe._mdf)&&this.comp.threeDElements){var h,u,f;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if("3d"===(h=this.comp.threeDElements[t]).type){if(d){var p=this.mat.toCSS();(f=h.container.style).transform=p,f.webkitTransform=p}this.pe._mdf&&((u=h.perspectiveElem.style).perspective=this.pe.v+"px",u.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){var n=this.layers[e];if(n.ddd&&this.supports3d)this.addTo3dContainer(i,e);else if(this.threeDElements)this.addTo3dContainer(i,e);else{for(var r,a,s=0;s<e;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(a=this.elements[s],r=(this.layers[s].ddd?this.getThreeDContainerByPos(s):a.getBaseElement())||r),s+=1;r?n.ddd&&this.supports3d||this.layerElement.insertBefore(i,r):n.ddd&&this.supports3d||this.layerElement.appendChild(i)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,i=this.threeDElements.length;e<i;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var i,n,r=createTag("div");styleDiv(r);var a=createTag("div");if(styleDiv(a),"3d"===e){(i=r.style).width=this.globalData.compSize.w+"px",i.height=this.globalData.compSize.h+"px";var s="50% 50%";i.webkitTransformOrigin=s,i.mozTransformOrigin=s,i.transformOrigin=s;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(n=a.style).transform=o,n.webkitTransform=o}r.appendChild(a);var l={container:a,perspectiveElem:r,startPos:t,endPos:t,type:e};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var t,e,i=this.layers.length,n="";for(t=0;t<i;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==n&&(n="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==n&&(n="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(i=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var i=0,n=this.threeDElements.length;i<n;){if(e<=this.threeDElements[i].endPos){for(var r,a=this.threeDElements[i].startPos;a<e;)this.elements[a]&&this.elements[a].getBaseElement&&(r=this.elements[a].getBaseElement()),a+=1;r?this.threeDElements[i].container.insertBefore(t,r):this.threeDElements[i].container.appendChild(t);break}i+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),i=this.animationItem.wrapper,n=e.style;n.width=t.w+"px",n.height=t.h+"px",this.resizerElem=e,styleDiv(e),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),i.appendChild(e),n.overflow="hidden";var r=createNS("svg");r.setAttribute("width","1"),r.setAttribute("height","1"),styleDiv(r),this.resizerElem.appendChild(r);var a=createNS("defs");r.appendChild(a),this.data=t,this.setupGlobalData(t,r),this.globalData.defs=a,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,i,n,r=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight,s=r/a;this.globalData.compSize.w/this.globalData.compSize.h>s?(t=r/this.globalData.compSize.w,e=r/this.globalData.compSize.w,i=0,n=(a-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(t=a/this.globalData.compSize.h,e=a/this.globalData.compSize.h,i=(r-this.globalData.compSize.w*(a/this.globalData.compSize.h))/2,n=0);var o=this.resizerElem.style;o.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+i+","+n+",0,1)",o.transform=o.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,i=this.globalData.compSize.h,n=this.threeDElements.length;for(t=0;t<n;t+=1){var r=this.threeDElements[t].perspectiveElem.style;r.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(i,2))+"px",r.perspective=r.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,i=t.length,n=createTag("div");for(e=0;e<i;e+=1)if(t[e].xt){var r=this.createComp(t[e],n,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var i,n=0;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(t,i):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(t){function e(e){for(var i=0,n=t.layers.length;i<n;){if(t.layers[i].nm===e||t.layers[i].ind===e)return t.elements[i].layerInterface;i+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e};function _typeof$2(t){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(t)}function seedRandom(t,e){var i=this,n=256,r=e.pow(n,6),a=e.pow(2,52),s=2*a,o=255;function l(t){var e,i=t.length,r=this,a=0,s=r.i=r.j=0,l=r.S=[];for(i||(t=[i++]);a<n;)l[a]=a++;for(a=0;a<n;a++)l[a]=l[s=o&s+t[a%i]+(e=l[a])],l[s]=e;r.g=function(t){for(var e,i=0,a=r.i,s=r.j,l=r.S;t--;)e=l[a=o&a+1],i=i*n+l[o&(l[a]=l[s=o&s+e])+(l[s]=e)];return r.i=a,r.j=s,i}}function c(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function d(t,e){var i,n=[],r=_typeof$2(t);if(e&&"object"==r)for(i in t)try{n.push(d(t[i],e-1))}catch(t){}return n.length?n:"string"==r?t:t+"\0"}function h(t,e){for(var i,n=t+"",r=0;r<n.length;)e[o&r]=o&(i^=19*e[o&r])+n.charCodeAt(r++);return u(e)}function u(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(o,f,p){var g=[],m=h(d((f=!0===f?{entropy:!0}:f||{}).entropy?[o,u(t)]:null===o?function(){try{var e=new Uint8Array(n);return(i.crypto||i.msCrypto).getRandomValues(e),u(e)}catch(e){var r=i.navigator,a=r&&r.plugins;return[+new Date,i,a,i.screen,u(t)]}}():o,3),g),_=new l(g),v=function(){for(var t=_.g(6),e=r,i=0;t<a;)t=(t+i)*n,e*=n,i=_.g(1);for(;t>=s;)t/=2,e/=2,i>>>=1;return(t+i)/e};return v.int32=function(){return 0|_.g(4)},v.quick=function(){return _.g(4)/4294967296},v.double=v,h(u(_.S),t),(f.pass||p||function(t,i,n,r){return r&&(r.S&&c(r,_),t.state=function(){return c(_,{})}),n?(e.random=t,i):t})(v,m,"global"in f?f.global:this==e,f.state)},h(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||e instanceof Number||"boolean"===t||"string"===t}function $bm_neg(t){var e=_typeof$1(t);if("number"===e||t instanceof Number||"boolean"===e)return-t;if($bm_isInstanceOfArray(t)){var i,n=t.length,r=[];for(i=0;i<n;i+=1)r[i]=-t[i];return r}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var i=_typeof$1(t),n=_typeof$1(e);if(isNumerable(i,t)&&isNumerable(n,e)||"string"===i||"string"===n)return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,a=t.length,s=e.length,o=[];r<a||r<s;)("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?o[r]=t[r]+e[r]:o[r]=void 0===e[r]?t[r]:t[r]||e[r],r+=1;return o}return 0}var add=sum;function sub(t,e){var i=_typeof$1(t),n=_typeof$1(e);if(isNumerable(i,t)&&isNumerable(n,e))return"string"===i&&(t=parseInt(t,10)),"string"===n&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,a=t.length,s=e.length,o=[];r<a||r<s;)("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?o[r]=t[r]-e[r]:o[r]=void 0===e[r]?t[r]:t[r]||e[r],r+=1;return o}return 0}function mul(t,e){var i,n,r,a=_typeof$1(t),s=_typeof$1(e);if(isNumerable(a,t)&&isNumerable(s,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t[n]*e;return i}if(isNumerable(a,t)&&$bm_isInstanceOfArray(e)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t*e[n];return i}return 0}function div(t,e){var i,n,r,a=_typeof$1(t),s=_typeof$1(e);if(isNumerable(a,t)&&isNumerable(s,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t[n]/e;return i}if(isNumerable(a,t)&&$bm_isInstanceOfArray(e)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t/e[n];return i}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,i){if(e>i){var n=i;i=e,e=n}return Math.min(Math.max(t,e),i)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);var i;e||(e=helperLengthArray);var n=Math.min(t.length,e.length),r=0;for(i=0;i<n;i+=1)r+=Math.pow(e[i]-t[i],2);return Math.sqrt(r)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,i,n=t[0],r=t[1],a=t[2],s=Math.max(n,r,a),o=Math.min(n,r,a),l=(s+o)/2;if(s===o)e=0,i=0;else{var c=s-o;switch(i=l>.5?c/(2-s-o):c/(s+o),s){case n:e=(r-a)/c+(r<a?6:0);break;case r:e=(a-n)/c+2;break;case a:e=(n-r)/c+4}e/=6}return[e,i,l,t[3]]}function hue2rgb(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function hslToRgb(t){var e,i,n,r=t[0],a=t[1],s=t[2];if(0===a)e=s,n=s,i=s;else{var o=s<.5?s*(1+a):s+a-s*a,l=2*s-o;e=hue2rgb(l,o,r+1/3),i=hue2rgb(l,o,r),n=hue2rgb(l,o,r-1/3)}return[e,i,n,t[3]]}function linear(t,e,i,n,r){if(void 0!==n&&void 0!==r||(n=e,r=i,e=0,i=1),i<e){var a=i;i=e,e=a}if(t<=e)return n;if(t>=i)return r;var s,o=i===e?0:(t-e)/(i-e);if(!n.length)return n+(r-n)*o;var l=n.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=n[s]+(r[s]-n[s])*o;return c}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var i,n=e.length;t||(t=createTypedArray("float32",n));var r=createTypedArray("float32",n),a=BMMath.random();for(i=0;i<n;i+=1)r[i]=t[i]+a*(e[i]-t[i]);return r}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,i,n){var r,a=t.length,s=shapePool.newElement();s.setPathData(!!n,a);var o,l,c=[0,0];for(r=0;r<a;r+=1)o=e&&e[r]?e[r]:c,l=i&&i[r]?i[r]:c,s.setTripleAt(t[r][0],t[r][1],l[0]+t[r][0],l[1]+t[r][1],o[0]+t[r][0],o[1]+t[r][1],r,!0);return s}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var i,n,r=this.pv.length?this.pv.length:1,a=createTypedArray("float32",r),s=Math.floor(5*time);for(i=0,n=0;i<s;){for(n=0;n<r;n+=1)a[n]+=-e+2*e*BMMath.random();i+=1}var o=5*time,l=o-Math.floor(o),c=createTypedArray("float32",r);if(r>1){for(n=0;n<r;n+=1)c[n]=this.pv[n]+a[n]+(-e+2*e*BMMath.random())*l;return c}return this.pv+a[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var i=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],n=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads;return[-Math.atan2(i[1],i[2])/degToRads,n,0]}function easeOut(t,e,i,n,r){return applyEase(easeOutBez,t,e,i,n,r)}function easeIn(t,e,i,n,r){return applyEase(easeInBez,t,e,i,n,r)}function ease(t,e,i,n,r){return applyEase(easeInOutBez,t,e,i,n,r)}function applyEase(t,e,i,n,r,a){void 0===r?(r=i,a=n):e=(e-i)/(n-i),e>1?e=1:e<0&&(e=0);var s=t(e);if($bm_isInstanceOfArray(r)){var o,l=r.length,c=createTypedArray("float32",l);for(o=0;o<l;o+=1)c[o]=(a[o]-r[o])*s+r[o];return c}return(a-r)*s+r}function nearestKey(t){var e,i,n,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(i=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)i=1,n=data.k[0].t;else{for(e=0;e<r-1;e+=1){if(t===data.k[e].t){i=e+1,n=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(i=e+2,n=data.k[e+1].t):(i=e+1,n=data.k[e].t);break}}-1===i&&(i=e+1,n=data.k[e].t)}else i=0,n=0;var a={};return a.index=i,a.time=n/elem.comp.globalData.frameRate,a}function key(t){var e,i,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var r=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(n=r.length,i=0;i<n;i+=1)e[i]=r[i],e.value[i]=r[i];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={initExpressions:function(t){var e=0,i=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=i.length;for(t=0;t<e;t+=1)i[t].release();i.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===i.indexOf(t)&&i.push(t)}}};return t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var i,n=createSizedArray(e.viewData.length),r=e.viewData.length;for(i=0;i<r;i+=1)n[i]=new t(e.viewData[i],e.masksProperties[i]);return function(t){for(i=0;i<r;){if(e.masksProperties[i].nm===t)return n[i];i+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function i(t,e,i){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(n){if(!t.numKeys)return 0;var r;r="s"in e.keyframes[n-1]?e.keyframes[n-1].s:"e"in e.keyframes[n-2]?e.keyframes[n-2].e:e.keyframes[n-2].s;var a="unidimensional"===i?new Number(r):Object.assign({},r);return a.time=e.keyframes[n-1].t/e.elem.comp.globalData.frameRate,a.value="unidimensional"===i?r[0]:r,a},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function n(){return t}return function(r){return r?"unidimensional"===r.propType?function(e){e&&"pv"in e||(e=t);var n=1/e.mult,r=e.pv*n,a=new Number(r);return a.value=r,i(a,e,"unidimensional"),function(){return e.k&&e.getValue(),r=e.v*n,a.value!==r&&((a=new Number(r)).value=r,i(a,e,"unidimensional")),a}}(r):function(t){t&&"pv"in t||(t=e);var n=1/t.mult,r=t.data&&t.data.l||t.pv.length,a=createTypedArray("float32",r),s=createTypedArray("float32",r);return a.value=s,i(a,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<r;e+=1)s[e]=t.v[e]*n,a[e]=s[e];return a}}(r):n}}(),TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var i,n,r,a;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?a=ExpressionPropertyInterface(t.p):(i=ExpressionPropertyInterface(t.px),n=ExpressionPropertyInterface(t.py),t.pz&&(r=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?a():[i(),n(),r?r():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},LayerExpressionInterface=function(){function t(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function e(t,e){var i=this.getMatrix(e);return i.props[12]=0,i.props[13]=0,i.props[14]=0,this.applyPoint(i,t)}function i(t,e){var i=this.getMatrix(e);return this.applyPoint(i,t)}function n(t,e){var i=this.getMatrix(e);return i.props[12]=0,i.props[13]=0,i.props[14]=0,this.invertPoint(i,t)}function r(t,e){var i=this.getMatrix(e);return this.invertPoint(i,t)}function a(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function s(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function o(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function l(){return[1,1,1,1]}return function(c){var d;function h(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return h.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return d;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return h.effect;case"ADBE Text Properties":return h.textInterface;default:return null}}h.getMatrix=t,h.invertPoint=s,h.applyPoint=a,h.toWorld=i,h.toWorldVec=e,h.fromWorld=r,h.fromWorldVec=n,h.toComp=i,h.fromComp=o,h.sampleImage=l,h.sourceRectAtTime=c.sourceRectAtTime.bind(c),h._elem=c;var u=getDescriptor(d=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(h,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(d,"rotation"),scale:getDescriptor(d,"scale"),position:getDescriptor(d,"position"),opacity:getDescriptor(d,"opacity"),anchorPoint:u,anchor_point:u,transform:{get:function(){return d}},active:{get:function(){return c.isInRange}}}),h.startTime=c.data.st,h.index=c.data.ind,h.source=c.data.refId,h.height=0===c.data.ty?c.data.h:100,h.width=0===c.data.ty?c.data.w:100,h.inPoint=c.data.ip/c.comp.globalData.frameRate,h.outPoint=c.data.op/c.comp.globalData.frameRate,h._name=c.data.nm,h.registerMaskInterface=function(t){h.mask=new MaskManagerInterface(t,c)},h.registerEffectsInterface=function(t){h.effect=t},h}}(),propertyGroupFactory=function(t,e){return function(i){return(i=void 0===i?1:i)<=0?t:e(i-1)}},PropertyInterface=function(t,e){var i={_name:t};return function(t){return(t=void 0===t?1:t)<=0?i:e(t-1)}},EffectsExpressionInterface=function(){function t(i,n,r,a){function s(t){for(var e=i.ef,n=0,r=e.length;n<r;){if(t===e[n].nm||t===e[n].mn||t===e[n].ix)return 5===e[n].ty?c[n]:c[n]();n+=1}throw new Error}var o,l=propertyGroupFactory(s,r),c=[],d=i.ef.length;for(o=0;o<d;o+=1)5===i.ef[o].ty?c.push(t(i.ef[o],n.effectElements[o],n.effectElements[o].propertyGroup,a)):c.push(e(n.effectElements[o],i.ef[o].ty,a,l));return"ADBE Color Control"===i.mn&&Object.defineProperty(s,"color",{get:function(){return c[0]()}}),Object.defineProperties(s,{numProperties:{get:function(){return i.np}},_name:{value:i.nm},propertyGroup:{value:l}}),s.enabled=0!==i.en,s.active=s.enabled,s}function e(t,e,i,n){var r=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===e?i.comp.compInterface(t.p.v):r()}}return{createEffectsInterface:function(e,i){if(e.effectsManager){var n,r=[],a=e.data.ef,s=e.effectsManager.effectElements.length;for(n=0;n<s;n+=1)r.push(t(a[n],e.effectsManager.effectElements[n],i,e));var o=e.data.ef||[],l=function(t){for(n=0,s=o.length;n<s;){if(t===o[n].nm||t===o[n].mn||t===o[n].ix)return r[n];n+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return o.length}}),l}return null}}}(),ShapePathInterface=function(t,e,i){var n=e.sh;function r(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?r.path:null}var a=propertyGroupFactory(r,i);return n.setGroupProperty(PropertyInterface("Path",a)),Object.defineProperties(r,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:i}}),r},ShapeExpressionInterface=function(){function t(t,s,u){var f,p=[],g=t?t.length:0;for(f=0;f<g;f+=1)"gr"===t[f].ty?p.push(e(t[f],s[f],u)):"fl"===t[f].ty?p.push(i(t[f],s[f],u)):"st"===t[f].ty?p.push(r(t[f],s[f],u)):"tm"===t[f].ty?p.push(a(t[f],s[f],u)):"tr"===t[f].ty||("el"===t[f].ty?p.push(o(t[f],s[f],u)):"sr"===t[f].ty?p.push(l(t[f],s[f],u)):"sh"===t[f].ty?p.push(ShapePathInterface(t[f],s[f],u)):"rc"===t[f].ty?p.push(c(t[f],s[f],u)):"rd"===t[f].ty?p.push(d(t[f],s[f],u)):"rp"===t[f].ty?p.push(h(t[f],s[f],u)):"gf"===t[f].ty?p.push(n(t[f],s[f],u)):p.push((t[f],s[f],function(){return null})));return p}function e(e,i,n){var r=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return r.content;default:return r.transform}};r.propertyGroup=propertyGroupFactory(r,n);var a=function(e,i,n){var r,a=function(t){for(var e=0,i=r.length;e<i;){if(r[e]._name===t||r[e].mn===t||r[e].propertyIndex===t||r[e].ix===t||r[e].ind===t)return r[e];e+=1}return"number"==typeof t?r[t-1]:null};a.propertyGroup=propertyGroupFactory(a,n),r=t(e.it,i.it,a.propertyGroup),a.numProperties=r.length;var o=s(e.it[e.it.length-1],i.it[i.it.length-1],a.propertyGroup);return a.transform=o,a.propertyIndex=e.cix,a._name=e.nm,a}(e,i,r.propertyGroup),o=s(e.it[e.it.length-1],i.it[i.it.length-1],r.propertyGroup);return r.content=a,r.transform=o,Object.defineProperty(r,"_name",{get:function(){return e.nm}}),r.numProperties=e.np,r.propertyIndex=e.ix,r.nm=e.nm,r.mn=e.mn,r}function i(t,e,i){function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:null}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),n}function n(t,e,i){function n(t){return"Start Point"===t||"start point"===t?n.startPoint:"End Point"===t||"end point"===t?n.endPoint:"Opacity"===t||"opacity"===t?n.opacity:null}return Object.defineProperties(n,{startPoint:{get:ExpressionPropertyInterface(e.s)},endPoint:{get:ExpressionPropertyInterface(e.e)},opacity:{get:ExpressionPropertyInterface(e.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),e.s.setGroupProperty(PropertyInterface("Start Point",i)),e.e.setGroupProperty(PropertyInterface("End Point",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),n}function r(t,e,i){var n,r=propertyGroupFactory(c,i),a=propertyGroupFactory(l,r);function s(i){Object.defineProperty(l,t.d[i].nm,{get:ExpressionPropertyInterface(e.d.dataProps[i].p)})}var o=t.d?t.d.length:0,l={};for(n=0;n<o;n+=1)s(n),e.d.dataProps[n].p.setGroupProperty(a);function c(t){return"Color"===t||"color"===t?c.color:"Opacity"===t||"opacity"===t?c.opacity:"Stroke Width"===t||"stroke width"===t?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",r)),e.o.setGroupProperty(PropertyInterface("Opacity",r)),e.w.setGroupProperty(PropertyInterface("Stroke Width",r)),c}function a(t,e,i){function n(e){return e===t.e.ix||"End"===e||"end"===e?n.end:e===t.s.ix?n.start:e===t.o.ix?n.offset:null}var r=propertyGroupFactory(n,i);return n.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",r)),e.e.setGroupProperty(PropertyInterface("End",r)),e.o.setGroupProperty(PropertyInterface("Offset",r)),n.propertyIndex=t.ix,n.propertyGroup=i,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),n.mn=t.mn,n}function s(t,e,i){function n(e){return t.a.ix===e||"Anchor Point"===e?n.anchorPoint:t.o.ix===e||"Opacity"===e?n.opacity:t.p.ix===e||"Position"===e?n.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?n.rotation:t.s.ix===e||"Scale"===e?n.scale:t.sk&&t.sk.ix===e||"Skew"===e?n.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?n.skewAxis:null}var r=propertyGroupFactory(n,i);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",r)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",r)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",r)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",r)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",r)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",r)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",r))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",r)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),n.ty="tr",n.mn=t.mn,n.propertyGroup=i,n}function o(t,e,i){function n(e){return t.p.ix===e?n.position:t.s.ix===e?n.size:null}var r=propertyGroupFactory(n,i);n.propertyIndex=t.ix;var a="tm"===e.sh.ty?e.sh.prop:e.sh;return a.s.setGroupProperty(PropertyInterface("Size",r)),a.p.setGroupProperty(PropertyInterface("Position",r)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(a.s)},position:{get:ExpressionPropertyInterface(a.p)},_name:{value:t.nm}}),n.mn=t.mn,n}function l(t,e,i){function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.rotation:t.pt.ix===e?n.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?n.outerRadius:t.os.ix===e?n.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?n.innerRoundness:null:n.innerRadius}var r=propertyGroupFactory(n,i),a="tm"===e.sh.ty?e.sh.prop:e.sh;return n.propertyIndex=t.ix,a.or.setGroupProperty(PropertyInterface("Outer Radius",r)),a.os.setGroupProperty(PropertyInterface("Outer Roundness",r)),a.pt.setGroupProperty(PropertyInterface("Points",r)),a.p.setGroupProperty(PropertyInterface("Position",r)),a.r.setGroupProperty(PropertyInterface("Rotation",r)),t.ir&&(a.ir.setGroupProperty(PropertyInterface("Inner Radius",r)),a.is.setGroupProperty(PropertyInterface("Inner Roundness",r))),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(a.p)},rotation:{get:ExpressionPropertyInterface(a.r)},points:{get:ExpressionPropertyInterface(a.pt)},outerRadius:{get:ExpressionPropertyInterface(a.or)},outerRoundness:{get:ExpressionPropertyInterface(a.os)},innerRadius:{get:ExpressionPropertyInterface(a.ir)},innerRoundness:{get:ExpressionPropertyInterface(a.is)},_name:{value:t.nm}}),n.mn=t.mn,n}function c(t,e,i){function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?n.size:null}var r=propertyGroupFactory(n,i),a="tm"===e.sh.ty?e.sh.prop:e.sh;return n.propertyIndex=t.ix,a.p.setGroupProperty(PropertyInterface("Position",r)),a.s.setGroupProperty(PropertyInterface("Size",r)),a.r.setGroupProperty(PropertyInterface("Rotation",r)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(a.p)},roundness:{get:ExpressionPropertyInterface(a.r)},size:{get:ExpressionPropertyInterface(a.s)},_name:{value:t.nm}}),n.mn=t.mn,n}function d(t,e,i){function n(e){return t.r.ix===e||"Round Corners 1"===e?n.radius:null}var r=propertyGroupFactory(n,i),a=e;return n.propertyIndex=t.ix,a.rd.setGroupProperty(PropertyInterface("Radius",r)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(a.rd)},_name:{value:t.nm}}),n.mn=t.mn,n}function h(t,e,i){function n(e){return t.c.ix===e||"Copies"===e?n.copies:t.o.ix===e||"Offset"===e?n.offset:null}var r=propertyGroupFactory(n,i),a=e;return n.propertyIndex=t.ix,a.c.setGroupProperty(PropertyInterface("Copies",r)),a.o.setGroupProperty(PropertyInterface("Offset",r)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(a.c)},offset:{get:ExpressionPropertyInterface(a.o)},_name:{value:t.nm}}),n.mn=t.mn,n}return function(e,i,n){var r;function a(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?n:r[t-1];for(var e=0,i=r.length;e<i;){if(r[e]._name===t)return r[e];e+=1}return null}return a.propertyGroup=propertyGroupFactory(a,(function(){return n})),r=t(e,i,a.propertyGroup),a.numProperties=r.length,a._name="Contents",a}}(),TextExpressionInterface=function(t){var e;function i(t){return"ADBE Text Document"===t?i.sourceText:null}return Object.defineProperty(i,"sourceText",{get:function(){t.textProperty.getValue();var i=t.textProperty.currentData.t;return e&&i===e.value||((e=new String(i)).value=i||new String(i),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),i};function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var FootageInterface=(dataInterfaceFactory=function(t){function e(t){return"Outline"===t?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(t){var e="",i=t.getFootageData();function n(t){if(i[t])return e=t,"object"===_typeof(i=i[t])?n:i;var r=t.indexOf(e);if(-1!==r){var a=parseInt(t.substr(r+e.length),10);return"object"===_typeof(i=i[a])?n:i}return""}return function(){return e="",i=t.getFootageData(),n}}(t),e},function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers={searchExpressions:function(t,e,i){e.x&&(i.k=!0,i.x=!0,i.initiateExpression=ExpressionManager.initiateExpression,i.effectsSequence.push(i.initiateExpression(t,e,i).bind(i)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),i=this.getValueAtTime(t+-.01),n=0;if(e.length){var r;for(r=0;r<e.length;r+=1)n+=Math.pow(i[r]-e[r],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,i,n=-.001,r=this.getValueAtTime(t),a=this.getValueAtTime(t+n);if(r.length)for(e=createTypedArray("float32",r.length),i=0;i<r.length;i+=1)e[i]=(a[i]-r[i])/n;else e=(a-r)/n;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};function addPropertyDecorator(){function t(t,e,i){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var n,r,a,s,o,l=this.comp.renderedFrame,c=this.keyframes,d=c[c.length-1].t;if(l<=d)return this.pv;if(i?r=d-(n=e?Math.abs(d-this.elem.comp.globalData.frameRate*e):Math.max(0,d-this.elem.data.ip)):((!e||e>c.length-1)&&(e=c.length-1),n=d-(r=c[c.length-1-e].t)),"pingpong"===t){if(Math.floor((l-r)/n)%2!=0)return this.getValueAtTime((n-(l-r)%n+r)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(r/this.comp.globalData.frameRate,0),u=this.getValueAtTime(d/this.comp.globalData.frameRate,0),f=this.getValueAtTime(((l-r)%n+r)/this.comp.globalData.frameRate,0),p=Math.floor((l-r)/n);if(this.pv.length){for(s=(o=new Array(h.length)).length,a=0;a<s;a+=1)o[a]=(u[a]-h[a])*p+f[a];return o}return(u-h)*p+f}if("continue"===t){var g=this.getValueAtTime(d/this.comp.globalData.frameRate,0),m=this.getValueAtTime((d-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(o=new Array(g.length)).length,a=0;a<s;a+=1)o[a]=g[a]+(g[a]-m[a])*((l-d)/this.comp.globalData.frameRate)/5e-4;return o}return g+(l-d)/.001*(g-m)}}return this.getValueAtTime(((l-r)%n+r)/this.comp.globalData.frameRate,0)}function e(t,e,i){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var n,r,a,s,o,l=this.comp.renderedFrame,c=this.keyframes,d=c[0].t;if(l>=d)return this.pv;if(i?r=d+(n=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-d)):((!e||e>c.length-1)&&(e=c.length-1),n=(r=c[e].t)-d),"pingpong"===t){if(Math.floor((d-l)/n)%2==0)return this.getValueAtTime(((d-l)%n+d)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(d/this.comp.globalData.frameRate,0),u=this.getValueAtTime(r/this.comp.globalData.frameRate,0),f=this.getValueAtTime((n-(d-l)%n+d)/this.comp.globalData.frameRate,0),p=Math.floor((d-l)/n)+1;if(this.pv.length){for(s=(o=new Array(h.length)).length,a=0;a<s;a+=1)o[a]=f[a]-(u[a]-h[a])*p;return o}return f-(u-h)*p}if("continue"===t){var g=this.getValueAtTime(d/this.comp.globalData.frameRate,0),m=this.getValueAtTime((d+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(o=new Array(g.length)).length,a=0;a<s;a+=1)o[a]=g[a]+(g[a]-m[a])*(d-l)/.001;return o}return g+(g-m)*(d-l)/.001}}return this.getValueAtTime((n-((d-l)%n+d))/this.comp.globalData.frameRate,0)}function i(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var i,n,r=this.comp.renderedFrame/this.comp.globalData.frameRate,a=r-t,s=e>1?(r+t-a)/(e-1):1,o=0,l=0;for(i=this.pv.length?createTypedArray("float32",this.pv.length):0;o<e;){if(n=this.getValueAtTime(a+o*s),this.pv.length)for(l=0;l<this.pv.length;l+=1)i[l]+=n[l];else i+=n;o+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)i[l]/=e;else i/=e;return i}function n(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var i=this.a.getValueAtTime(t);e.translate(-i[0]*this.a.mult,-i[1]*this.a.mult,i[2]*this.a.mult)}if(this.appliedTransformations<2){var n=this.s.getValueAtTime(t);e.scale(n[0]*this.s.mult,n[1]*this.s.mult,n[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var r=this.sk.getValueAtTime(t),a=this.sa.getValueAtTime(t);e.skewFromAxis(-r*this.sk.mult,a*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var s=this.r.getValueAtTime(t);e.rotate(-s*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var o=this.rz.getValueAtTime(t),l=this.ry.getValueAtTime(t),c=this.rx.getValueAtTime(t),d=this.or.getValueAtTime(t);e.rotateZ(-o*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-d[2]*this.or.mult).rotateY(d[1]*this.or.mult).rotateX(d[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var h=this.px.getValueAtTime(t),u=this.py.getValueAtTime(t);if(this.data.p.z){var f=this.pz.getValueAtTime(t);e.translate(h*this.px.mult,u*this.py.mult,-f*this.pz.mult)}else e.translate(h*this.px.mult,u*this.py.mult,0)}else{var p=this.p.getValueAtTime(t);e.translate(p[0]*this.p.mult,p[1]*this.p.mult,-p[2]*this.p.mult)}return e}function r(){return this.v.clone(new Matrix)}var a=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,i){var s=a(t,e,i);return s.dynamicProperties.length?s.getValueAtTime=n.bind(s):s.getValueAtTime=r.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(n,r,a,o,l){var c=s(n,r,a,o,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=t,c.loopIn=e,c.smooth=i,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===r.a?r.k.length:0,c.propertyIndex=r.ix;var d=0;return 0!==a&&(d=createTypedArray("float32",1===r.a?r.k[0].s.length:r.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:d},expressionHelpers.searchExpressions(n,r,c),c.k&&l.addDynamicProperty(c),c};var o=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(t,e){this.k&&this.getValue();var i,n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0));var r=n._length,a=n[t],s=n.v,o=createSizedArray(r);for(i=0;i<r;i+=1)o[i]="i"===t||"o"===t?[a[i][0]-s[i][0],a[i][1]-s[i][1]]:[a[i][0],a[i][1]];return o},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var n,r=this._segmentsLength,a=r.lengths,s=r.totalLength*t,o=0,l=a.length,c=0;o<l;){if(c+a[o].addedLength>s){var d=o,h=i.c&&o===l-1?0:o+1,u=(s-c)/a[o].addedLength;n=bez.getPointInSegment(i.v[d],i.v[h],i.o[d],i.i[h],u,a[o]);break}c+=a[o].addedLength,o+=1}return n||(n=i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]]),n},vectorOnPath:function(t,e,i){1==t?t=this.v.c:0==t&&(t=.999);var n=this.pointOnPath(t,e),r=this.pointOnPath(t+.001,e),a=r[0]-n[0],s=r[1]-n[1],o=Math.sqrt(Math.pow(a,2)+Math.pow(s,2));return 0===o?[0,0]:"tangent"===i?[a/o,s/o]:[-s/o,a/o]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],o),extendPrototype([c],l),l.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var d=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,i,n,r){var a=d(t,e,i,n,r);return a.propertyIndex=e.ix,a.lock=!1,3===i?expressionHelpers.searchExpressions(t,e.pt,a):4===i&&expressionHelpers.searchExpressions(t,e.ks,a),a.k&&t.addDynamicProperty(a),a}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(t,e){var i=this.calculateExpression(e);if(t.t!==i){var n={};return this.copyData(n,t),n.t=i.toString(),n.__complete=!1,n}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var i,n,r=createNS("feMerge");for(r.setAttribute("result",t),n=0;n<e.length;n+=1)(i=createNS("feMergeNode")).setAttribute("in",e[n]),r.appendChild(i),r.appendChild(i);return r}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,i,n,r){this.filterManager=e;var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","linearRGB"),a.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=a,a.setAttribute("result",n+"_tint_1"),t.appendChild(a),(a=createNS("feColorMatrix")).setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.setAttribute("result",n+"_tint_2"),t.appendChild(a),this.matrixFilter=a;var s=this.createMergeNode(n,[r,n+"_tint_1",n+"_tint_2"]);t.appendChild(s)}function SVGFillFilter(t,e,i,n){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result",n),t.appendChild(r),this.matrixFilter=r}function SVGStrokeEffect(t,e,i){this.initialized=!1,this.filterManager=e,this.elem=i,this.paths=[]}function SVGTritoneFilter(t,e,i,n){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(r);var a=createNS("feComponentTransfer");a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",n),this.matrixFilter=a;var s=createNS("feFuncR");s.setAttribute("type","table"),a.appendChild(s),this.feFuncR=s;var o=createNS("feFuncG");o.setAttribute("type","table"),a.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),a.appendChild(l),this.feFuncB=l,t.appendChild(a)}function SVGProLevelsFilter(t,e,i,n){this.filterManager=e;var r=this.filterManager.effectElements,a=createNS("feComponentTransfer");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",a)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",a)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",a)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",a)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(a.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(a)),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&((a=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",n),t.appendChild(a),this.feFuncRComposed=this.createFeFunc("feFuncR",a),this.feFuncGComposed=this.createFeFunc("feFuncG",a),this.feFuncBComposed=this.createFeFunc("feFuncB",a))}function SVGDropShadowEffect(t,e,i,n,r){var a=e.container.globalData.renderConfig.filterSize,s=e.data.fs||a;t.setAttribute("x",s.x||a.x),t.setAttribute("y",s.y||a.y),t.setAttribute("width",s.width||a.width),t.setAttribute("height",s.height||a.height),this.filterManager=e;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",n+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,t.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",n+"_drop_shadow_1"),l.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=l,t.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=c,t.appendChild(c);var d=createNS("feComposite");d.setAttribute("in",n+"_drop_shadow_3"),d.setAttribute("in2",n+"_drop_shadow_2"),d.setAttribute("operator","in"),d.setAttribute("result",n+"_drop_shadow_4"),t.appendChild(d);var h=this.createMergeNode(n,[n+"_drop_shadow_4",r]);t.appendChild(h)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+n+" 0"),this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,i,n,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,i=0):n=1+(i=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);i<n;i+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:i});if(3===this.filterManager.effectElements[10].p.v){var a=createNS("mask"),s=createElementID();a.setAttribute("id",s),a.setAttribute("mask-type","alpha"),a.appendChild(e),this.elem.globalData.defs.appendChild(a);var o=createNS("g");for(o.setAttribute("mask","url("+getLocationHref()+"#"+s+")");r[0];)o.appendChild(r[0]);this.elem.layerElement.appendChild(o),this.masker=a,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var i,n,r=this.paths.length;for(e=0;e<r;e+=1)if(-1!==this.paths[e].m&&(i=this.elem.maskManager.viewData[this.paths[e].m],n=this.paths[e].p,(t||this.filterManager._mdf||i.prop._mdf)&&n.setAttribute("d",i.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf)){var a;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=n.getTotalLength();a="0 0 0 "+l*s+" ";var c,d=l*(o-s),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,u=Math.floor(d/h);for(c=0;c<u;c+=1)a+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";a+="0 "+10*l+" 0 0"}else a="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;n.setAttribute("stroke-dasharray",a)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var f=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*f[0])+","+bmFloor(255*f[1])+","+bmFloor(255*f[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,r=n[0]+" "+i[0]+" "+e[0],a=n[1]+" "+i[1]+" "+e[1],s=n[2]+" "+i[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",r),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",s)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var i=createNS(t);return i.setAttribute("type","table"),e.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(t,e,i,n,r){for(var a,s,o=0,l=Math.min(t,e),c=Math.max(t,e),d=Array.call(null,{length:256}),h=0,u=r-n,f=e-t;o<=256;)s=(a=o/256)<=l?f<0?r:n:a>=c?f<0?n:r:n+u*Math.pow((a-t)/f,1/i),d[h]=s,h+=1,o+=256/255;return d.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,i=this.filterManager.effectElements;this.feFuncRComposed&&(t||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(e=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(e=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(e=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(e=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(e=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,r=i*Math.cos(n),a=i*Math.sin(n);this.feOffset.setAttribute("dx",r),this.feOffset.setAttribute("dy",a)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function SVGGaussianBlurEffect(t,e,i,n){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var r=createNS("feGaussianBlur");r.setAttribute("result",n),t.appendChild(r),this.feGaussianBlur=r}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,i=_svgMatteSymbols.length;e<i;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var i=t.layerElement.parentNode;if(i){for(var n,r=i.children,a=0,s=r.length;a<s&&r[a]!==t.layerElement;)a+=1;a<=s-2&&(n=r[a+1]);var o=createNS("use");o.setAttribute("href","#"+e),n?i.insertBefore(o,n):i.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var i=createElementID(),n=createNS("mask");n.setAttribute("id",e.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var r=t.globalData.defs;r.appendChild(n);var a=createNS("symbol");a.setAttribute("id",i),this.replaceInParent(e,i),a.appendChild(e.layerElement),r.appendChild(a);var s=createNS("use");s.setAttribute("href","#"+i),n.appendChild(s),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,i=0,n=e.length;i<n;)e[i]&&e[i].data.ind===t&&this.setElementAsMask(this.elem,e[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=3==i?0:e,r=2==i?0:e;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+r);var a=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",a)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,i=e[0].p.v,n=e[1].p.v,r=1===e[2].p.v,a=e[3].p.v,s=r?a:e[4].p.v,o=e[5].p.v,l=e[6].p.v,c=e[7].p.v;this.matrix.reset(),this.matrix.translate(-i[0],-i[1],i[2]),this.matrix.scale(.01*s,.01*a,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(n[0],n[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}("undefined"!=typeof self?self:this,(function(){return function(){"use strict";var t={3976:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(t,e){return"function"==typeof e.onBeforeMask?e.onBeforeMask.call(this,t,e):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}}},7392:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={9:{validator:"[0-9-]",definitionSymbol:"*"},a:{validator:"[A-Za-z--]",definitionSymbol:"*"},"*":{validator:"[0-9-A-Za-z--]"}}},253:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){if(void 0===i)return t.__data?t.__data[e]:null;t.__data=t.__data||{},t.__data[e]=i}},3776:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0,e.off=function(t,e){var i,n;return d(this[0])&&t&&(i=this[0].eventRegistry,n=this[0],t.split(" ").forEach((function(t){var r=s(t.split("."),2);(function(t,n){var r,a,s=[];if(t.length>0)if(void 0===e)for(r=0,a=i[t][n].length;r<a;r++)s.push({ev:t,namespace:n&&n.length>0?n:"global",handler:i[t][n][r]});else s.push({ev:t,namespace:n&&n.length>0?n:"global",handler:e});else if(n.length>0)for(var o in i)for(var l in i[o])if(l===n)if(void 0===e)for(r=0,a=i[o][l].length;r<a;r++)s.push({ev:o,namespace:l,handler:i[o][l][r]});else s.push({ev:o,namespace:l,handler:e});return s})(r[0],r[1]).forEach((function(t){var e=t.ev,r=t.handler;!function(t,e,r){if(t in i==1)if(n.removeEventListener?n.removeEventListener(t,r,!1):n.detachEvent&&n.detachEvent("on".concat(t),r),"global"===e)for(var a in i[t])i[t][a].splice(i[t][a].indexOf(r),1);else i[t][e].splice(i[t][e].indexOf(r),1)}(e,t.namespace,r)}))}))),this},e.on=function(t,e){if(d(this[0])){var i=this[0].eventRegistry,n=this[0];t.split(" ").forEach((function(t){var r=s(t.split("."),2),a=r[0],o=r[1];!function(t,r){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on".concat(t),e),i[t]=i[t]||{},i[t][r]=i[t][r]||[],i[t][r].push(e)}(a,void 0===o?"global":o)}))}return this},e.trigger=function(t){var e=arguments;if(d(this[0]))for(var i=this[0].eventRegistry,n=this[0],s="string"==typeof t?t.split(" "):[t.type],o=0;o<s.length;o++){var l=s[o].split("."),h=l[0],u=l[1]||"global";if(void 0!==c&&"global"===u){var f,p={bubbles:!0,cancelable:!0,composed:!0,detail:arguments[1]};if(c.createEvent){try{"input"===h?(p.inputType="insertText",f=new InputEvent(h,p)):f=new CustomEvent(h,p)}catch(t){(f=c.createEvent("CustomEvent")).initCustomEvent(h,p.bubbles,p.cancelable,p.detail)}t.type&&(0,r.default)(f,t),n.dispatchEvent(f)}else(f=c.createEventObject()).eventType=h,f.detail=arguments[1],t.type&&(0,r.default)(f,t),n.fireEvent("on"+f.eventType,f)}else if(void 0!==i[h]){arguments[0]=arguments[0].type?arguments[0]:a.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1);var g=i[h];("global"===u?Object.values(g).flat():g[u]).forEach((function(t){return t.apply(n,e)}))}}return this};var n=l(i(9380)),r=l(i(600)),a=l(i(4963));function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a,s,o=[],l=!0,c=!1;try{if(a=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=a.call(i)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function l(t){return t&&t.__esModule?t:{default:t}}var c=n.default.document;function d(t){return t instanceof Element}var h=e.Event=void 0;"function"==typeof n.default.CustomEvent?e.Event=h=n.default.CustomEvent:n.default.Event&&c&&c.createEvent?(e.Event=h=function(t,e){e=e||{bubbles:!1,cancelable:!1,composed:!0,detail:void 0};var i=c.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i},h.prototype=n.default.Event.prototype):"undefined"!=typeof Event&&(e.Event=h=Event)},600:function(t,e){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(){var e,n,r,a,s,o,l=arguments[0]||{},c=1,d=arguments.length,h=!1;for("boolean"==typeof l&&(h=l,l=arguments[c]||{},c++),"object"!==i(l)&&"function"!=typeof l&&(l={});c<d;c++)if(null!=(e=arguments[c]))for(n in e)r=l[n],l!==(a=e[n])&&(h&&a&&("[object Object]"===Object.prototype.toString.call(a)||(s=Array.isArray(a)))?(s?(s=!1,o=r&&Array.isArray(r)?r:[]):o=r&&"[object Object]"===Object.prototype.toString.call(r)?r:{},l[n]=t(h,o,a)):void 0!==a&&(l[n]=a));return l}},4963:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i(9380)),r=o(i(253)),a=i(3776),s=o(i(600));function o(t){return t&&t.__esModule?t:{default:t}}var l=n.default.document;function c(t){return t instanceof c?t:this instanceof c?void(null!=t&&t!==n.default&&(this[0]=t.nodeName?t:void 0!==t[0]&&t[0].nodeName?t[0]:l.querySelector(t),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new c(t)}c.prototype={on:a.on,off:a.off,trigger:a.trigger},c.extend=s.default,c.data=r.default,c.Event=a.Event,e.default=c},9845:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.mobile=e.iphone=e.ie=void 0;var n,r=(n=i(9380))&&n.__esModule?n:{default:n},a=r.default.navigator&&r.default.navigator.userAgent||"";e.ie=a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0,e.mobile=r.default.navigator&&r.default.navigator.userAgentData&&r.default.navigator.userAgentData.mobile||r.default.navigator&&r.default.navigator.maxTouchPoints||"ontouchstart"in r.default,e.iphone=/iphone/i.test(a)},7184:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(i,"\\$1")};var i=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(t,e,i){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.EventHandlers=void 0;var r,a=i(9845),s=(r=i(9380))&&r.__esModule?r:{default:r},o=i(7760),l=i(2839),c=i(8711),d=i(7215),h=i(4713);function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return e};var t,e={},i=Object.prototype,r=i.hasOwnProperty,a=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,i){return t[e]=i}}function h(t,e,i,n){var r=e&&e.prototype instanceof y?e:y,s=Object.create(r.prototype),o=new D(n||[]);return a(s,"_invoke",{value:M(t,i,o)}),s}function f(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",g="suspendedYield",m="executing",_="completed",v={};function y(){}function b(){}function k(){}var x={};d(x,o,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(I([])));S&&S!==i&&r.call(S,o)&&(x=S);var T=k.prototype=y.prototype=Object.create(x);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function i(a,s,o,l){var c=f(t[a],t,s);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"==n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,o,l)}),(function(t){i("throw",t,o,l)})):e.resolve(h).then((function(t){d.value=t,o(d)}),(function(t){return i("throw",t,o,l)}))}l(c.arg)}var s;a(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return s=s?s.then(r,r):r()}})}function M(e,i,n){var r=p;return function(a,s){if(r===m)throw new Error("Generator is already running");if(r===_){if("throw"===a)throw s;return{value:t,done:!0}}for(n.method=a,n.arg=s;;){var o=n.delegate;if(o){var l=P(o,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var c=f(e,i,n);if("normal"===c.type){if(r=n.done?_:g,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=_,n.method="throw",n.arg=c.arg)}}}function P(e,i){var n=i.method,r=e.iterator[n];if(r===t)return i.delegate=null,"throw"===n&&e.iterator.return&&(i.method="return",i.arg=t,P(e,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(r,e.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,v;var s=a.arg;return s?s.done?(i[e.resultName]=s.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,v):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function $(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var i=e[o];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,s=function i(){for(;++a<e.length;)if(r.call(e,a))return i.value=e[a],i.done=!1,i;return i.value=t,i.done=!0,i};return s.next=s}}throw new TypeError(n(e)+" is not iterable")}return b.prototype=k,a(T,"constructor",{value:k,configurable:!0}),a(k,"constructor",{value:b,configurable:!0}),b.displayName=d(k,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,d(t,c,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},E(C.prototype),d(C.prototype,l,(function(){return this})),e.AsyncIterator=C,e.async=function(t,i,n,r,a){void 0===a&&(a=Promise);var s=new C(h(t,i,n,r),a);return e.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},E(T),d(T,c,"Generator"),d(T,o,(function(){return this})),d(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach($),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function n(n,r){return o.type="throw",o.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),$(i),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;$(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:I(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function f(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw a}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function g(t,e,i,n,r,a,s){try{var o=t[a](s),l=o.value}catch(t){return void i(t)}o.done?e(l):Promise.resolve(l).then(n,r)}var m,_,v=e.EventHandlers={keyEvent:function(t,e,i,n,r){var s=this.inputmask,u=s.opts,f=s.dependencyLib,p=s.maskset,g=this,m=f(g),_=t.key,y=c.caret.call(s,g),b=u.onKeyDown.call(this,t,c.getBuffer.call(s),y,u);if(void 0!==b)return b;if(_===l.keys.Backspace||_===l.keys.Delete||a.iphone&&_===l.keys.BACKSPACE_SAFARI||t.ctrlKey&&_===l.keys.x&&!("oncut"in g))t.preventDefault(),d.handleRemove.call(s,g,_,y),(0,o.writeBuffer)(g,c.getBuffer.call(s,!0),p.p,t,g.inputmask._valueGet()!==c.getBuffer.call(s).join(""));else if(_===l.keys.End||_===l.keys.PageDown){t.preventDefault();var k=c.seekNext.call(s,c.getLastValidPosition.call(s));c.caret.call(s,g,t.shiftKey?y.begin:k,k,!0)}else _===l.keys.Home&&!t.shiftKey||_===l.keys.PageUp?(t.preventDefault(),c.caret.call(s,g,0,t.shiftKey?y.begin:0,!0)):u.undoOnEscape&&_===l.keys.Escape&&!0!==t.altKey?((0,o.checkVal)(g,!0,!1,s.undoValue.split("")),m.trigger("click")):_!==l.keys.Insert||t.shiftKey||t.ctrlKey||void 0!==s.userOptions.insertMode?!0===u.tabThrough&&_===l.keys.Tab?!0===t.shiftKey?(y.end=c.seekPrevious.call(s,y.end,!0),!0===h.getTest.call(s,y.end-1).match.static&&y.end--,y.begin=c.seekPrevious.call(s,y.end,!0),y.begin>=0&&y.end>0&&(t.preventDefault(),c.caret.call(s,g,y.begin,y.end))):(y.begin=c.seekNext.call(s,y.begin,!0),y.end=c.seekNext.call(s,y.begin,!0),y.end<p.maskLength&&y.end--,y.begin<=p.maskLength&&(t.preventDefault(),c.caret.call(s,g,y.begin,y.end))):t.shiftKey||(u.insertModeVisual&&!1===u.insertMode?_===l.keys.ArrowRight?setTimeout((function(){var t=c.caret.call(s,g);c.caret.call(s,g,t.begin)}),0):_===l.keys.ArrowLeft&&setTimeout((function(){var t=c.translatePosition.call(s,g.inputmask.caretPos.begin);c.translatePosition.call(s,g.inputmask.caretPos.end),s.isRTL?c.caret.call(s,g,t+(t===p.maskLength?0:1)):c.caret.call(s,g,t-(0===t?0:1))}),0):void 0===s.keyEventHook||s.keyEventHook(t)):d.isSelection.call(s,y)?u.insertMode=!u.insertMode:(u.insertMode=!u.insertMode,c.caret.call(s,g,y.begin,y.begin));return s.isComposing=_==l.keys.Process||_==l.keys.Unidentified,s.ignorable=_.length>1&&!("textarea"===g.tagName.toLowerCase()&&_==l.keys.Enter),v.keypressEvent.call(this,t,e,i,n,r)},keypressEvent:function(t,e,i,n,r){var a=this.inputmask||this,s=a.opts,h=a.dependencyLib,u=a.maskset,f=a.el,p=h(f),g=t.key;if(!0===e||t.ctrlKey&&t.altKey&&!a.ignorable||!(t.ctrlKey||t.metaKey||a.ignorable)){if(g){var m,_=e?{begin:r,end:r}:c.caret.call(a,f);e||(g=s.substitutes[g]||g),u.writeOutBuffer=!0;var v=d.isValid.call(a,_,g,n,void 0,void 0,void 0,e);if(!1!==v&&(c.resetMaskSet.call(a,!0),m=void 0!==v.caret?v.caret:c.seekNext.call(a,v.pos.begin?v.pos.begin:v.pos),u.p=m),m=s.numericInput&&void 0===v.caret?c.seekPrevious.call(a,m):m,!1!==i&&(setTimeout((function(){s.onKeyValidation.call(f,g,v)}),0),u.writeOutBuffer&&!1!==v)){var y=c.getBuffer.call(a);(0,o.writeBuffer)(f,y,m,t,!0!==e)}if(t.preventDefault(),e)return!1!==v&&(v.forwardPosition=m),v}}else g===l.keys.Enter&&a.undoValue!==a._valueGet(!0)&&(a.undoValue=a._valueGet(!0),setTimeout((function(){p.trigger("change")}),0))},pasteEvent:(m=u().mark((function t(e){var i,n,r,a,l,d;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=function(t,i,n,r,s){var l=c.caret.call(t,i,void 0,void 0,!0),d=n.substr(0,l.begin),h=n.substr(l.end,n.length);if(d==(t.isRTL?c.getBufferTemplate.call(t).slice().reverse():c.getBufferTemplate.call(t)).slice(0,l.begin).join("")&&(d=""),h==(t.isRTL?c.getBufferTemplate.call(t).slice().reverse():c.getBufferTemplate.call(t)).slice(l.end).join("")&&(h=""),r=d+r+h,t.isRTL&&!0!==a.numericInput){r=r.split("");var u,p=f(c.getBufferTemplate.call(t));try{for(p.s();!(u=p.n()).done;){var g=u.value;r[0]===g&&r.shift()}}catch(t){p.e(t)}finally{p.f()}r=r.reverse().join("")}var m=r;if("function"==typeof s){if(!1===(m=s.call(t,m,a)))return!1;m||(m=n)}(0,o.checkVal)(i,!0,!1,m.toString().split(""),e)},n=this,r=this.inputmask,a=r.opts,l=r._valueGet(!0),r.skipInputEvent=!0,e.clipboardData&&e.clipboardData.getData?d=e.clipboardData.getData("text/plain"):s.default.clipboardData&&s.default.clipboardData.getData&&(d=s.default.clipboardData.getData("Text")),i(r,n,l,d,a.onBeforePaste),e.preventDefault();case 7:case"end":return t.stop()}}),t,this)})),_=function(){var t=this,e=arguments;return new Promise((function(i,n){var r=m.apply(t,e);function a(t){g(r,i,n,a,s,"next",t)}function s(t){g(r,i,n,a,s,"throw",t)}a(void 0)}))},function(t){return _.apply(this,arguments)}),inputFallBackEvent:function(t){var e,i=this.inputmask,n=i.opts,r=i.dependencyLib,s=this,d=s.inputmask._valueGet(!0),u=(i.isRTL?c.getBuffer.call(i).slice().reverse():c.getBuffer.call(i)).join(""),f=c.caret.call(i,s,void 0,void 0,!0);if(u!==d){if(e=function(t,e,r){for(var a,s,o,l=t.substr(0,r.begin).split(""),d=t.substr(r.begin).split(""),u=e.substr(0,r.begin).split(""),f=e.substr(r.begin).split(""),p=l.length>=u.length?l.length:u.length,g=d.length>=f.length?d.length:f.length,m="",_=[],v="~";l.length<p;)l.push(v);for(;u.length<p;)u.push(v);for(;d.length<g;)d.unshift(v);for(;f.length<g;)f.unshift(v);var y=l.concat(d),b=u.concat(f);for(s=0,a=y.length;s<a;s++)switch(o=h.getPlaceholder.call(i,c.translatePosition.call(i,s)),m){case"insertText":b[s-1]===y[s]&&r.begin==y.length-1&&_.push(y[s]),s=a;break;case"insertReplacementText":case"deleteContentBackward":y[s]===v?r.end++:s=a;break;default:y[s]!==b[s]&&(y[s+1]!==v&&y[s+1]!==o&&void 0!==y[s+1]||(b[s]!==o||b[s+1]!==v)&&b[s]!==v?b[s+1]===v&&b[s]===y[s+1]?(m="insertText",_.push(y[s]),r.begin--,r.end--):y[s]!==o&&y[s]!==v&&(y[s+1]===v||b[s]!==y[s]&&b[s+1]===y[s+1])?(m="insertReplacementText",_.push(y[s]),r.begin--):y[s]===v?(m="deleteContentBackward",(c.isMask.call(i,c.translatePosition.call(i,s),!0)||b[s]===n.radixPoint)&&r.end++):s=a:(m="insertText",_.push(y[s]),r.begin--,r.end--))}return{action:m,data:_,caret:r}}(d,u,f),(s.inputmask.shadowRoot||s.ownerDocument).activeElement!==s&&s.focus(),(0,o.writeBuffer)(s,c.getBuffer.call(i)),c.caret.call(i,s,f.begin,f.end,!0),!a.mobile&&i.skipNextInsert&&"insertText"===t.inputType&&"insertText"===e.action&&i.isComposing)return!1;switch("insertCompositionText"===t.inputType&&"insertText"===e.action&&i.isComposing?i.skipNextInsert=!0:i.skipNextInsert=!1,e.action){case"insertText":case"insertReplacementText":e.data.forEach((function(t,e){var n=new r.Event("keypress");n.key=t,i.ignorable=!1,v.keypressEvent.call(s,n)})),setTimeout((function(){i.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var p=new r.Event("keydown");p.key=l.keys.Backspace,v.keyEvent.call(s,p);break;default:(0,o.applyInputValue)(s,d),c.caret.call(i,s,f.begin,f.end,!0)}t.preventDefault()}},setValueEvent:function(t){var e=this.inputmask,i=e.dependencyLib,n=this,r=t&&t.detail?t.detail[0]:arguments[1];void 0===r&&(r=n.inputmask._valueGet(!0)),(0,o.applyInputValue)(n,r,new i.Event("input")),(t.detail&&void 0!==t.detail[1]||void 0!==arguments[2])&&c.caret.call(e,n,t.detail?t.detail[1]:arguments[2])},focusEvent:function(t){var e=this.inputmask,i=e.opts,n=e&&e._valueGet();i.showMaskOnFocus&&n!==c.getBuffer.call(e).join("")&&(0,o.writeBuffer)(this,c.getBuffer.call(e),c.seekNext.call(e,c.getLastValidPosition.call(e))),!0!==i.positionCaretOnTab||!1!==e.mouseEnter||d.isComplete.call(e,c.getBuffer.call(e))&&-1!==c.getLastValidPosition.call(e)||v.clickEvent.apply(this,[t,!0]),e.undoValue=e&&e._valueGet(!0)},invalidEvent:function(t){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var t=this.inputmask,e=t.opts,i=this;t.mouseEnter=!1,e.clearMaskOnLostFocus&&(i.inputmask.shadowRoot||i.ownerDocument).activeElement!==i&&(0,o.HandleNativePlaceholder)(i,t.originalPlaceholder)},clickEvent:function(t,e){var i=this.inputmask;i.clicked++;var n=this;if((n.inputmask.shadowRoot||n.ownerDocument).activeElement===n){var r=c.determineNewCaretPosition.call(i,c.caret.call(i,n),e);void 0!==r&&c.caret.call(i,n,r)}},cutEvent:function(t){var e=this.inputmask,i=e.maskset,n=this,r=c.caret.call(e,n),a=e.isRTL?c.getBuffer.call(e).slice(r.end,r.begin):c.getBuffer.call(e).slice(r.begin,r.end),h=e.isRTL?a.reverse().join(""):a.join("");s.default.navigator&&s.default.navigator.clipboard?s.default.navigator.clipboard.writeText(h):s.default.clipboardData&&s.default.clipboardData.getData&&s.default.clipboardData.setData("Text",h),d.handleRemove.call(e,n,l.keys.Delete,r),(0,o.writeBuffer)(n,c.getBuffer.call(e),i.p,t,e.undoValue!==e._valueGet(!0))},blurEvent:function(t){var e=this.inputmask,i=e.opts,n=e.dependencyLib;e.clicked=0;var r=n(this),a=this;if(a.inputmask){(0,o.HandleNativePlaceholder)(a,e.originalPlaceholder);var s=a.inputmask._valueGet(),l=c.getBuffer.call(e).slice();""!==s&&(i.clearMaskOnLostFocus&&(-1===c.getLastValidPosition.call(e)&&s===c.getBufferTemplate.call(e).join("")?l=[]:o.clearOptionalTail.call(e,l)),!1===d.isComplete.call(e,l)&&(setTimeout((function(){r.trigger("incomplete")}),0),i.clearIncomplete&&(c.resetMaskSet.call(e,!1),l=i.clearMaskOnLostFocus?[]:c.getBufferTemplate.call(e).slice())),(0,o.writeBuffer)(a,l,void 0,t)),s=e._valueGet(!0),e.undoValue!==s&&(""!=s||e.undoValue!=c.getBufferTemplate.call(e).join("")||e.undoValue==c.getBufferTemplate.call(e).join("")&&e.maskset.validPositions.length>0)&&(e.undoValue=s,r.trigger("change"))}},mouseenterEvent:function(){var t=this.inputmask,e=t.opts.showMaskOnHover,i=this;if(t.mouseEnter=!0,(i.inputmask.shadowRoot||i.ownerDocument).activeElement!==i){var n=(t.isRTL?c.getBufferTemplate.call(t).slice().reverse():c.getBufferTemplate.call(t)).join("");e&&(0,o.HandleNativePlaceholder)(i,n)}},submitEvent:function(){var t=this.inputmask,e=t.opts;t.undoValue!==t._valueGet(!0)&&t.$el.trigger("change"),-1===c.getLastValidPosition.call(t)&&t._valueGet&&t._valueGet()===c.getBufferTemplate.call(t).join("")&&t._valueSet(""),e.clearIncomplete&&!1===d.isComplete.call(t,c.getBuffer.call(t))&&t._valueSet(""),e.removeMaskOnSubmit&&(t._valueSet(t.unmaskedvalue(),!0),setTimeout((function(){(0,o.writeBuffer)(t.el,c.getBuffer.call(t))}),0))},resetEvent:function(){var t=this.inputmask;t.refreshValue=!0,setTimeout((function(){(0,o.applyInputValue)(t.el,t._valueGet(!0))}),0)}}},9716:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.EventRuler=void 0;var n,r=i(7760),a=(n=i(2394))&&n.__esModule?n:{default:n},s=i(2839),o=i(8711);e.EventRuler={on:function(t,e,i){var n=t.inputmask.dependencyLib,l=function(e){e.originalEvent&&(e=e.originalEvent||e,arguments[0]=e);var l,c=this,d=c.inputmask,h=d?d.opts:void 0;if(void 0===d&&"FORM"!==this.nodeName){var u=n.data(c,"_inputmask_opts");n(c).off(),u&&new a.default(u).mask(c)}else{if(["submit","reset","setvalue"].includes(e.type)||"FORM"===this.nodeName||!(c.disabled||c.readOnly&&!("keydown"===e.type&&e.ctrlKey&&e.key===s.keys.c||!1===h.tabThrough&&e.key===s.keys.Tab))){switch(e.type){case"input":if(!0===d.skipInputEvent)return d.skipInputEvent=!1,e.preventDefault();break;case"click":case"focus":return d.validationEvent?(d.validationEvent=!1,t.blur(),(0,r.HandleNativePlaceholder)(t,(d.isRTL?o.getBufferTemplate.call(d).slice().reverse():o.getBufferTemplate.call(d)).join("")),setTimeout((function(){t.focus()}),h.validationEventTimeOut),!1):(l=arguments,void setTimeout((function(){t.inputmask&&i.apply(c,l)}),0))}var f=i.apply(c,arguments);return!1===f&&(e.preventDefault(),e.stopPropagation()),f}e.preventDefault()}};["submit","reset"].includes(e)?(l=l.bind(t),null!==t.form&&n(t.form).on(e,l)):n(t).on(e,l),t.inputmask.events[e]=t.inputmask.events[e]||[],t.inputmask.events[e].push(l)},off:function(t,e){if(t.inputmask&&t.inputmask.events){var i=t.inputmask.dependencyLib,n=t.inputmask.events;for(var r in e&&((n=[])[e]=t.inputmask.events[e]),n){for(var a=n[r];a.length>0;){var s=a.pop();["submit","reset"].includes(r)?null!==t.form&&i(t.form).off(r,s):i(t).off(r,s)}delete t.inputmask.events[r]}}}}},219:function(t,e,i){var n=h(i(7184)),r=h(i(2394)),a=i(2839),s=i(8711),o=i(4713);function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==c(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===c(r)?r:String(r)),n)}var r}function h(t){return t&&t.__esModule?t:{default:t}}i(1313);var u=r.default.dependencyLib,f=function(){function t(e,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mask=e,this.format=i,this.opts=n,this.inputmask=r,this._date=new Date(1,0,1),this.initDateObject(e,this.opts,this.inputmask)}var e,i;return e=t,(i=[{key:"date",get:function(){return void 0===this._date&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts,this.inputmask)),this._date}},{key:"initDateObject",value:function(t,e,i){var n;for(x(e).lastIndex=0;n=x(e).exec(this.format);){var r=/\d+$/.exec(n[0]),a=r?n[0][0]+"x":n[0],s=void 0;if(void 0!==t){if(r){var l=x(e).lastIndex,c=M.call(i,n.index,e,i&&i.maskset);x(e).lastIndex=l,s=t.slice(0,t.indexOf(c.nextMatch[0]))}else{for(var d=n[0][0],h=n.index;i&&(e.placeholder[o.getTest.call(i,h).match.placeholder]||o.getTest.call(i,h).match.placeholder)===d;)h++;var u=h-n.index;s=t.slice(0,u||_[a]&&_[a][4]||a.length)}t=t.slice(s.length)}Object.prototype.hasOwnProperty.call(_,a)&&this.setValue(this,s,a,_[a][2],_[a][1])}}},{key:"setValue",value:function(t,e,i,n,r){if(void 0!==e)switch(n){case"ampm":t[n]=e,t["raw"+n]=e.replace(/\s/g,"_");break;case"month":if("mmm"===i||"mmmm"===i){t[n]=T("mmm"===i?g.monthNames.slice(0,12).findIndex((function(t){return e.toLowerCase()===t.toLowerCase()}))+1:g.monthNames.slice(12,24).findIndex((function(t){return e.toLowerCase()===t.toLowerCase()}))+1,2),t[n]="00"===t[n]?"":t[n].toString(),t["raw"+n]=t[n];break}default:t[n]=e.replace(/[^0-9]/g,"0"),t["raw"+n]=e.replace(/\s/g,"_")}if(void 0!==r){var a=t[n];("day"===n&&29===parseInt(a)||"month"===n&&2===parseInt(a))&&(29!==parseInt(t.day)||2!==parseInt(t.month)||""!==t.year&&void 0!==t.year||t._date.setFullYear(2012,1,29)),"day"===n&&(m=!0,0===parseInt(a)&&(a=1)),"month"===n&&(m=!0),"year"===n&&(m=!0,a.length<_[i][4]&&(a=T(a,_[i][4],!0))),(""!==a&&!isNaN(a)||"ampm"===n)&&r.call(t._date,a)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&d(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),p=(new Date).getFullYear(),g=r.default.prototype.i18n,m=!1,_={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return T(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(t){var e=t?parseInt(t):0;return e>0&&e--,Date.prototype.setMonth.call(this,e)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(t){var e=t?parseInt(t):0;return e>0&&e--,Date.prototype.setMonth.call(this,e)},"month",function(){return T(Date.prototype.getMonth.call(this)+1,2)}],mmm:[g.monthNames.slice(0,12).join("|"),function(t){var e=g.monthNames.slice(0,12).findIndex((function(e){return t.toLowerCase()===e.toLowerCase()}));return-1!==e&&Date.prototype.setMonth.call(this,e)},"month",function(){return g.monthNames.slice(0,12)[Date.prototype.getMonth.call(this)]}],mmmm:[g.monthNames.slice(12,24).join("|"),function(t){var e=g.monthNames.slice(12,24).findIndex((function(e){return t.toLowerCase()===e.toLowerCase()}));return-1!==e&&Date.prototype.setMonth.call(this,e)},"month",function(){return g.monthNames.slice(12,24)[Date.prototype.getMonth.call(this)]}],yy:["[0-9]{2}",function(t){var e=(new Date).getFullYear().toString().slice(0,2);Date.prototype.setFullYear.call(this,"".concat(e).concat(t))},"year",function(){return T(Date.prototype.getFullYear.call(this),2)},2],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return T(Date.prototype.getFullYear.call(this),4)},4],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return T(Date.prototype.getHours.call(this),2)}],hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return T(Date.prototype.getHours.call(this),2)}],Hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return function(){return T(Date.prototype.getHours.call(this),t)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return T(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return T(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return T(Date.prototype.getMilliseconds.call(this),3)},3],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return T(Date.prototype.getMilliseconds.call(this),2)},2],t:["[ap]",y,"ampm",b,1],tt:["[ap]m",y,"ampm",b,2],T:["[AP]",y,"ampm",b,1],TT:["[AP]M",y,"ampm",b,2],Z:[".*",void 0,"Z",function(){var t=this.toString().match(/\((.+)\)/)[1];return t.includes(" ")&&(t=(t=t.replace("-"," ").toUpperCase()).split(" ").map((function(t){return function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a,s,o=[],l=!0,c=!1;try{if(a=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=a.call(i)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,1)[0]})).join("")),t}],o:[""],S:[""]},v={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function y(t){var e=this.getHours();t.toLowerCase().includes("p")?this.setHours(e+12):t.toLowerCase().includes("a")&&e>=12&&this.setHours(e-12)}function b(){var t=this.getHours();return(t=t||12)>=12?"PM":"AM"}function k(t){var e=/\d+$/.exec(t[0]);if(e&&void 0!==e[0]){var i=_[t[0][0]+"x"].slice("");return i[0]=i[0](e[0]),i[3]=i[3](e[0]),i}if(_[t[0]])return _[t[0]]}function x(t){if(!t.tokenizer){var e=[],i=[];for(var n in _)if(/\.*x$/.test(n)){var r=n[0]+"\\d+";-1===i.indexOf(r)&&i.push(r)}else-1===e.indexOf(n[0])&&e.push(n[0]);t.tokenizer="("+(i.length>0?i.join("|")+"|":"")+e.join("+|")+")+?|.",t.tokenizer=new RegExp(t.tokenizer,"g")}return t.tokenizer}function w(t,e,i){if(!m)return!0;if(void 0===t.rawday||!isFinite(t.rawday)&&new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day||"29"==t.day&&(!isFinite(t.rawyear)||void 0===t.rawyear||""===t.rawyear)||new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day)return e;if("29"==t.day){var n=M.call(this,e.pos,i,this.maskset);if(n.targetMatch&&"yyyy"===n.targetMatch[0]&&e.pos-n.targetMatchIndex==2)return e.remove=e.pos+1,e}else if(2==t.date.getMonth()&&"30"==t.day&&void 0!==e.c)return t.day="03",t.date.setDate(3),t.date.setMonth(1),e.insert=[{pos:e.pos,c:"0"},{pos:e.pos+1,c:e.c}],e.caret=s.seekNext.call(this,e.pos+1),e;return!1}function S(t,e,i,r){var a,s,o="",l=0,c={};for(x(i).lastIndex=0;a=x(i).exec(t);){if(void 0===e)if(s=k(a))o+="("+s[0]+")",i.placeholder&&""!==i.placeholder?(c[l]=i.placeholder[a.index%i.placeholder.length],c[i.placeholder[a.index%i.placeholder.length]]=a[0].charAt(0)):c[l]=a[0].charAt(0);else switch(a[0]){case"[":o+="(";break;case"]":o+=")?";break;default:o+=(0,n.default)(a[0]),c[l]=a[0].charAt(0)}else(s=k(a))?!0!==r&&s[3]?o+=s[3].call(e.date):s[2]?o+=e["raw"+s[2]]:o+=a[0]:o+=a[0];l++}return void 0===e&&(i.placeholder=c),o}function T(t,e,i){for(t=String(t),e=e||2;t.length<e;)t=i?t+"0":"0"+t;return t}function E(t,e,i){return"string"==typeof t?new f(t,e,i,this):t&&"object"===c(t)&&Object.prototype.hasOwnProperty.call(t,"date")?t:void 0}function C(t,e){return S(e.inputFormat,{date:t},e)}function M(t,e,i){var n,r,a=this,s=i&&i.tests[t]?e.placeholder[i.tests[t][0].match.placeholder]||i.tests[t][0].match.placeholder:"",l=0,c=0;for(x(e).lastIndex=0;r=x(e).exec(e.inputFormat);){var d=/\d+$/.exec(r[0]);if(d)c=parseInt(d[0]);else{for(var h=r[0][0],u=l;a&&(e.placeholder[o.getTest.call(a,u).match.placeholder]||o.getTest.call(a,u).match.placeholder)===h;)u++;0==(c=u-l)&&(c=r[0].length)}if(l+=c,-1!=r[0].indexOf(s)||l>=t+1){n=r,r=x(e).exec(e.inputFormat);break}}return{targetMatchIndex:l-c,nextMatch:r,targetMatch:n}}r.default.extendAliases({datetime:{mask:function(t){return t.numericInput=!1,_.S=g.ordinalSuffix.join("|"),t.inputFormat=v[t.inputFormat]||t.inputFormat,t.displayFormat=v[t.displayFormat]||t.displayFormat||t.inputFormat,t.outputFormat=v[t.outputFormat]||t.outputFormat||t.inputFormat,t.regex=S(t.inputFormat,void 0,t),t.min=E(t.min,t.inputFormat,t),t.max=E(t.max,t.inputFormat,t),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",preValidation:function(t,e,i,n,r,a,s,o){if(o)return!0;if(isNaN(i)&&t[e]!==i){var l=M.call(this,e,r,a);if(l.nextMatch&&l.nextMatch[0]===i&&l.targetMatch[0].length>1){var c=k(l.targetMatch)[0];if(new RegExp(c).test("0"+t[e-1]))return t[e]=t[e-1],t[e-1]="0",{fuzzy:!0,buffer:t,refreshFromBuffer:{start:e-1,end:e+1},pos:e+1}}}return!0},postValidation:function(t,e,i,n,r,a,s,l){var c,d,h=this;if(s)return!0;if(!1===n&&(((c=M.call(h,e+1,r,a)).targetMatch&&c.targetMatchIndex===e&&c.targetMatch[0].length>1&&void 0!==_[c.targetMatch[0]]||(c=M.call(h,e+2,r,a)).targetMatch&&c.targetMatchIndex===e+1&&c.targetMatch[0].length>1&&void 0!==_[c.targetMatch[0]])&&(d=k(c.targetMatch)[0]),void 0!==d&&(void 0!==a.validPositions[e+1]&&new RegExp(d).test(i+"0")?(t[e]=i,t[e+1]="0",n={pos:e+2,caret:e}):new RegExp(d).test("0"+i)&&(t[e]="0",t[e+1]=i,n={pos:e+2})),!1===n))return n;if(n.fuzzy&&(t=n.buffer,e=n.pos),(c=M.call(h,e,r,a)).targetMatch&&c.targetMatch[0]&&void 0!==_[c.targetMatch[0]]){var u=k(c.targetMatch);d=u[0];var f=t.slice(c.targetMatchIndex,c.targetMatchIndex+c.targetMatch[0].length);if(!1===new RegExp(d).test(f.join(""))&&2===c.targetMatch[0].length&&a.validPositions[c.targetMatchIndex]&&a.validPositions[c.targetMatchIndex+1]&&(a.validPositions[c.targetMatchIndex+1].input="0"),"year"==u[2])for(var g=o.getMaskTemplate.call(h,!1,1,void 0,!0),m=e+1;m<t.length;m++)t[m]=g[m],a.validPositions.splice(e+1,1)}var v=n,y=E.call(h,t.join(""),r.inputFormat,r);return v&&!isNaN(y.date.getTime())&&(r.prefillYear&&(v=function(t,e,i){if(t.year!==t.rawyear){var n=p.toString(),r=t.rawyear.replace(/[^0-9]/g,""),a=n.slice(0,r.length),s=n.slice(r.length);if(2===r.length&&r===a){var o=new Date(p,t.month-1,t.day);t.day==o.getDate()&&(!i.max||i.max.date.getTime()>=o.getTime())&&(t.date.setFullYear(p),t.year=n,e.insert=[{pos:e.pos+1,c:s[0]},{pos:e.pos+2,c:s[1]}])}}return e}(y,v,r)),v=function(t,e,i,n,r){if(!e)return e;if(e&&i.min&&!isNaN(i.min.date.getTime())){var a;for(t.reset(),x(i).lastIndex=0;a=x(i).exec(i.inputFormat);){var s;if((s=k(a))&&s[3]){for(var o=s[1],l=t[s[2]],c=i.min[s[2]],d=i.max?i.max[s[2]]:c+1,h=[],u=!1,f=0;f<c.length;f++)void 0!==n.validPositions[f+a.index]||u?(h[f]=l[f],u=u||l[f]>c[f]):(f+a.index==0&&l[f]<c[f]?(h[f]=l[f],u=!0):h[f]=c[f],"year"===s[2]&&l.length-1==f&&c!=d&&(h=(parseInt(h.join(""))+1).toString().split("")),"ampm"===s[2]&&c!=d&&i.min.date.getTime()>t.date.getTime()&&(h[f]=d[f]));o.call(t._date,h.join(""))}}e=i.min.date.getTime()<=t.date.getTime(),t.reInit()}return e&&i.max&&(isNaN(i.max.date.getTime())||(e=i.max.date.getTime()>=t.date.getTime())),e}(y,v=w.call(h,y,v,r),r,a)),void 0!==e&&v&&n.pos!==e?{buffer:S(r.inputFormat,y,r).split(""),refreshFromBuffer:{start:e,end:n.pos},pos:n.caret||n.pos}:v},onKeyDown:function(t,e,i,n){t.ctrlKey&&t.key===a.keys.ArrowRight&&(this.inputmask._valueSet(C(new Date,n)),u(this).trigger("setvalue"))},onUnMask:function(t,e,i){return e?S(i.outputFormat,E.call(this,t,i.inputFormat,i),i,!0):e},casing:function(t,e,i,n){if(0==e.nativeDef.indexOf("[ap]"))return t.toLowerCase();if(0==e.nativeDef.indexOf("[AP]"))return t.toUpperCase();var r=o.getTest.call(this,[i-1]);return 0==r.match.def.indexOf("[AP]")||0===i||r&&r.input===String.fromCharCode(a.keyCode.Space)||r&&r.match.def===String.fromCharCode(a.keyCode.Space)?t.toUpperCase():t.toLowerCase()},onBeforeMask:function(t,e){return"[object Date]"===Object.prototype.toString.call(t)&&(t=C(t,e)),t},insertMode:!1,insertModeVisual:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},1313:function(t,e,i){var n,r=(n=i(2394))&&n.__esModule?n:{default:n};r.default.dependencyLib.extend(!0,r.default.prototype.i18n,{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]})},3851:function(t,e,i){var n,r=(n=i(2394))&&n.__esModule?n:{default:n},a=i(8711),s=i(4713);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}r.default.extendDefinitions({A:{validator:"[A-Za-z--]",casing:"upper"},"&":{validator:"[0-9A-Za-z--]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var l=/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/;function c(t,e,i,n,r){if(i-1>-1&&"."!==e.buffer[i-1]?(t=e.buffer[i-1]+t,t=i-2>-1&&"."!==e.buffer[i-2]?e.buffer[i-2]+t:"0"+t):t="00"+t,r.greedy&&parseInt(t)>255&&l.test("00"+t.charAt(2))){var a=[].concat(function(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.buffer.slice(0,i)),[".",t.charAt(2)]);if(a.join("").match(/\./g).length<4)return{refreshFromBuffer:!0,buffer:a,caret:i+2}}return l.test(t)}r.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:c},j:{validator:c},k:{validator:c},l:{validator:c}},onUnMask:function(t,e,i){return t},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(t){var e=t.separator,i=t.quantifier,n="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",r=n;if(e)for(var a=0;a<i;a++)r+="[".concat(e).concat(n,"]");return r},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9-A-Za-z--!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(t,e,i){return t},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(t,e,i,n,r,o,l){var c=s.getMaskTemplate.call(this,!0,a.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(c.join(""))}}})},207:function(t,e,i){var n=o(i(7184)),r=o(i(2394)),a=i(2839),s=i(8711);function o(t){return t&&t.__esModule?t:{default:t}}var l=r.default.dependencyLib;function c(t,e){for(var i="",n=0;n<t.length;n++)r.default.prototype.definitions[t.charAt(n)]||e.definitions[t.charAt(n)]||e.optionalmarker[0]===t.charAt(n)||e.optionalmarker[1]===t.charAt(n)||e.quantifiermarker[0]===t.charAt(n)||e.quantifiermarker[1]===t.charAt(n)||e.groupmarker[0]===t.charAt(n)||e.groupmarker[1]===t.charAt(n)||e.alternatormarker===t.charAt(n)?i+="\\"+t.charAt(n):i+=t.charAt(n);return i}function d(t,e,i,n){if(t.length>0&&e>0&&(!i.digitsOptional||n)){var r=t.indexOf(i.radixPoint),a=!1;i.negationSymbol.back===t[t.length-1]&&(a=!0,t.length--),-1===r&&(t.push(i.radixPoint),r=t.length-1);for(var s=1;s<=e;s++)isFinite(t[r+s])||(t[r+s]="0")}return a&&t.push(i.negationSymbol.back),t}function h(t,e){var i=0;for(var n in"+"===t&&(i=s.seekNext.call(this,e.validPositions.length-1)),e.tests)if((n=parseInt(n))>=i)for(var r=0,a=e.tests[n].length;r<a;r++)if((void 0===e.validPositions[n]||"-"===t)&&e.tests[n][r].match.def===t)return n+(void 0!==e.validPositions[n]&&"-"!==t?1:0);return i}function u(t,e){for(var i=-1,n=0,r=e.validPositions.length;n<r;n++){var a=e.validPositions[n];if(a&&a.match.def===t){i=n;break}}return i}function f(t,e,i,n,r){var a=e.buffer?e.buffer.indexOf(r.radixPoint):-1,s=(-1!==a||n&&r.jitMasking)&&new RegExp(r.definitions[9].validator).test(t);return!n&&r._radixDance&&-1!==a&&s&&null==e.validPositions[a]?{insert:{pos:a===i?a+1:a,c:r.radixPoint},pos:i}:s}r.default.extendAliases({numeric:{mask:function(t){t.repeat=0,t.groupSeparator===t.radixPoint&&t.digits&&"0"!==t.digits&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&(t.positionCaretOnClick="lvp");var e="0",i=t.radixPoint;!0===t.numericInput&&void 0===t.__financeInput?(e="1",t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t._radixDance=!1,i=","===t.radixPoint?"?":"!",""!==t.radixPoint&&void 0===t.definitions[i]&&(t.definitions[i]={},t.definitions[i].validator="["+t.radixPoint+"]",t.definitions[i].placeholder=t.radixPoint,t.definitions[i].static=!0,t.definitions[i].generated=!0)):(t.__financeInput=!1,t.numericInput=!0);var r,a="[+]";if(a+=c(t.prefix,t),""!==t.groupSeparator?(void 0===t.definitions[t.groupSeparator]&&(t.definitions[t.groupSeparator]={},t.definitions[t.groupSeparator].validator="["+t.groupSeparator+"]",t.definitions[t.groupSeparator].placeholder=t.groupSeparator,t.definitions[t.groupSeparator].static=!0,t.definitions[t.groupSeparator].generated=!0),a+=t._mask(t)):a+="9{+}",void 0!==t.digits&&0!==t.digits){var s=t.digits.toString().split(",");isFinite(s[0])&&s[1]&&isFinite(s[1])?a+=i+e+"{"+t.digits+"}":(isNaN(t.digits)||parseInt(t.digits)>0)&&(t.digitsOptional||t.jitMasking?(r=a+i+e+"{0,"+t.digits+"}",t.keepStatic=!0):a+=i+e+"{"+t.digits+"}")}else t.inputmode="numeric";return a+=c(t.suffix,t),a+="[-]",r&&(a=[r+c(t.suffix,t)+"[-]",a]),t.greedy=!1,function(t){void 0===t.parseMinMaxOptions&&(null!==t.min&&(t.min=t.min.toString().replace(new RegExp((0,n.default)(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.min=t.min.replace(t.radixPoint,".")),t.min=isFinite(t.min)?parseFloat(t.min):NaN,isNaN(t.min)&&(t.min=Number.MIN_VALUE)),null!==t.max&&(t.max=t.max.toString().replace(new RegExp((0,n.default)(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.max=t.max.replace(t.radixPoint,".")),t.max=isFinite(t.max)?parseFloat(t.max):NaN,isNaN(t.max)&&(t.max=Number.MAX_VALUE)),t.parseMinMaxOptions="done")}(t),""!==t.radixPoint&&t.substituteRadixPoint&&(t.substitutes["."==t.radixPoint?",":"."]=t.radixPoint),a},_mask:function(t){return"("+t.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,substituteRadixPoint:!0,definitions:{0:{validator:f},1:{validator:f,definitionSymbol:"9"},9:{validator:"[0-9---]",definitionSymbol:"*"},"+":{validator:function(t,e,i,n,r){return r.allowMinus&&("-"===t||t===r.negationSymbol.front)}},"-":{validator:function(t,e,i,n,r){return r.allowMinus&&t===r.negationSymbol.back}}},preValidation:function(t,e,i,n,r,a,s,o){var l=this;if(!1!==r.__financeInput&&i===r.radixPoint)return!1;var c=t.indexOf(r.radixPoint),d=e;if(e=function(t,e,i,n,r){return r._radixDance&&r.numericInput&&e!==r.negationSymbol.back&&t<=i&&(i>0||e==r.radixPoint)&&(void 0===n.validPositions[t-1]||n.validPositions[t-1].input!==r.negationSymbol.back)&&(t-=1),t}(e,i,c,a,r),"-"===i||i===r.negationSymbol.front){if(!0!==r.allowMinus)return!1;var f=!1,p=u("+",a),g=u("-",a);return-1!==p&&(f=[p],-1!==g&&f.push(g)),!1!==f?{remove:f,caret:d-r.negationSymbol.back.length}:{insert:[{pos:h.call(l,"+",a),c:r.negationSymbol.front,fromIsValid:!0},{pos:h.call(l,"-",a),c:r.negationSymbol.back,fromIsValid:void 0}],caret:d+r.negationSymbol.back.length}}if(i===r.groupSeparator)return{caret:d};if(o)return!0;if(-1!==c&&!0===r._radixDance&&!1===n&&i===r.radixPoint&&void 0!==r.digits&&(isNaN(r.digits)||parseInt(r.digits)>0)&&c!==e){var m=h.call(l,r.radixPoint,a);return a.validPositions[m]&&(a.validPositions[m].generatedInput=a.validPositions[m].generated||!1),{caret:r._radixDance&&e===c-1?c+1:c}}if(!1===r.__financeInput)if(n){if(r.digitsOptional)return{rewritePosition:s.end};if(!r.digitsOptional){if(s.begin>c&&s.end<=c)return i===r.radixPoint?{insert:{pos:c+1,c:"0",fromIsValid:!0},rewritePosition:c}:{rewritePosition:c+1};if(s.begin<c)return{rewritePosition:s.begin-1}}}else if(!r.showMaskOnHover&&!r.showMaskOnFocus&&!r.digitsOptional&&r.digits>0&&""===this.__valueGet.call(this.el))return{rewritePosition:c};return{rewritePosition:e}},postValidation:function(t,e,i,n,r,a,s){if(!1===n)return n;if(s)return!0;if(null!==r.min||null!==r.max){var o=r.onUnMask(t.slice().reverse().join(""),void 0,l.extend({},r,{unmaskAsNumber:!0}));if(null!==r.min&&o<r.min&&(o.toString().length>r.min.toString().length||o<0))return!1;if(null!==r.max&&o>r.max)return!!r.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:d(r.max.toString().replace(".",r.radixPoint).split(""),r.digits,r).reverse()}}return n},onUnMask:function(t,e,i){if(""===e&&!0===i.nullable)return e;var r=t.replace(i.prefix,"");return r=(r=r.replace(i.suffix,"")).replace(new RegExp((0,n.default)(i.groupSeparator),"g"),""),""!==i.placeholder.charAt(0)&&(r=r.replace(new RegExp(i.placeholder.charAt(0),"g"),"0")),i.unmaskAsNumber?(""!==i.radixPoint&&-1!==r.indexOf(i.radixPoint)&&(r=r.replace(n.default.call(this,i.radixPoint),".")),r=(r=r.replace(new RegExp("^"+(0,n.default)(i.negationSymbol.front)),"-")).replace(new RegExp((0,n.default)(i.negationSymbol.back)+"$"),""),Number(r)):r},isComplete:function(t,e){var i=(e.numericInput?t.slice().reverse():t).join("");return i=(i=(i=(i=(i=i.replace(new RegExp("^"+(0,n.default)(e.negationSymbol.front)),"-")).replace(new RegExp((0,n.default)(e.negationSymbol.back)+"$"),"")).replace(e.prefix,"")).replace(e.suffix,"")).replace(new RegExp((0,n.default)(e.groupSeparator)+"([0-9]{3})","g"),"$1"),","===e.radixPoint&&(i=i.replace((0,n.default)(e.radixPoint),".")),isFinite(i)},onBeforeMask:function(t,e){var i;t=null!==(i=t)&&void 0!==i?i:"";var r=e.radixPoint||",";isFinite(e.digits)&&(e.digits=parseInt(e.digits)),"number"!=typeof t&&"number"!==e.inputType||""===r||(t=t.toString().replace(".",r));var a="-"===t.charAt(0)||t.charAt(0)===e.negationSymbol.front,s=t.split(r),o=s[0].replace(/[^\-0-9]/g,""),l=s.length>1?s[1].replace(/[^0-9]/g,""):"",c=s.length>1;t=o+(""!==l?r+l:l);var h=0;if(""!==r&&(h=e.digitsOptional?e.digits<l.length?e.digits:l.length:e.digits,""!==l||!e.digitsOptional)){var u=Math.pow(10,h||1);t=t.replace((0,n.default)(r),"."),isNaN(parseFloat(t))||(t=(e.roundingFN(parseFloat(t)*u)/u).toFixed(h)),t=t.toString().replace(".",r)}if(0===e.digits&&-1!==t.indexOf(r)&&(t=t.substring(0,t.indexOf(r))),null!==e.min||null!==e.max){var f=t.toString().replace(r,".");null!==e.min&&f<e.min?t=e.min.toString().replace(".",r):null!==e.max&&f>e.max&&(t=e.max.toString().replace(".",r))}return a&&"-"!==t.charAt(0)&&(t="-"+t),d(t.toString().split(""),h,e,c).join("")},onBeforeWrite:function(t,e,i,r){function a(t,e){if(!1!==r.__financeInput||e){var i=t.indexOf(r.radixPoint);-1!==i&&t.splice(i,1)}if(""!==r.groupSeparator)for(;-1!==(i=t.indexOf(r.groupSeparator));)t.splice(i,1);return t}var s,o;if(r.stripLeadingZeroes&&(o=function(t,e){var i=new RegExp("(^"+(""!==e.negationSymbol.front?(0,n.default)(e.negationSymbol.front)+"?":"")+(0,n.default)(e.prefix)+")(.*)("+(0,n.default)(e.suffix)+(""!=e.negationSymbol.back?(0,n.default)(e.negationSymbol.back)+"?":"")+"$)").exec(t.slice().reverse().join("")),r=i?i[2]:"",a=!1;return r&&(r=r.split(e.radixPoint.charAt(0))[0],a=new RegExp("^[0"+e.groupSeparator+"]*").exec(r)),!(!a||!(a[0].length>1||a[0].length>0&&a[0].length<r.length))&&a}(e,r)))for(var c=e.join("").lastIndexOf(o[0].split("").reverse().join(""))-(o[0]==o.input?0:1),h=o[0]==o.input?1:0,u=o[0].length-h;u>0;u--)this.maskset.validPositions.splice(c+u,1),delete e[c+u];if(t)switch(t.type){case"blur":case"checkval":if(null!==r.min){var f=r.onUnMask(e.slice().reverse().join(""),void 0,l.extend({},r,{unmaskAsNumber:!0}));if(null!==r.min&&f<r.min)return{refreshFromBuffer:!0,buffer:d(r.min.toString().replace(".",r.radixPoint).split(""),r.digits,r).reverse()}}if(e[e.length-1]===r.negationSymbol.front){var p=new RegExp("(^"+(""!=r.negationSymbol.front?(0,n.default)(r.negationSymbol.front)+"?":"")+(0,n.default)(r.prefix)+")(.*)("+(0,n.default)(r.suffix)+(""!=r.negationSymbol.back?(0,n.default)(r.negationSymbol.back)+"?":"")+"$)").exec(a(e.slice(),!0).reverse().join(""));0==(p?p[2]:"")&&(s={refreshFromBuffer:!0,buffer:[0]})}else""!==r.radixPoint&&e.indexOf(r.radixPoint)===r.suffix.length&&(s&&s.buffer?s.buffer.splice(0,1+r.suffix.length):(e.splice(0,1+r.suffix.length),s={refreshFromBuffer:!0,buffer:a(e)}));if(r.enforceDigitsOnBlur){var g=(s=s||{})&&s.buffer||e.slice().reverse();s.refreshFromBuffer=!0,s.buffer=d(g,r.digits,r,!0).reverse()}}return s},onKeyDown:function(t,e,i,n){var r,s=l(this);if(3!=t.location){var o,c=t.key;if((o=n.shortcuts&&n.shortcuts[c])&&o.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(o)),s.trigger("setvalue"),!1}if(t.ctrlKey)switch(t.key){case a.keys.ArrowUp:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(n.step)),s.trigger("setvalue"),!1;case a.keys.ArrowDown:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(n.step)),s.trigger("setvalue"),!1}if(!t.shiftKey&&(t.key===a.keys.Delete||t.key===a.keys.Backspace||t.key===a.keys.BACKSPACE_SAFARI)&&i.begin!==e.length){if(e[t.key===a.keys.Delete?i.begin-1:i.end]===n.negationSymbol.front)return r=e.slice().reverse(),""!==n.negationSymbol.front&&r.shift(),""!==n.negationSymbol.back&&r.pop(),s.trigger("setvalue",[r.join(""),i.begin]),!1;if(!0===n._radixDance){var h,u=e.indexOf(n.radixPoint);if(n.digitsOptional){if(0===u)return(r=e.slice().reverse()).pop(),s.trigger("setvalue",[r.join(""),i.begin>=r.length?r.length:i.begin]),!1}else if(-1!==u&&(i.begin<u||i.end<u||t.key===a.keys.Delete&&(i.begin===u||i.begin-1===u)))return i.begin===i.end&&(t.key===a.keys.Backspace||t.key===a.keys.BACKSPACE_SAFARI?i.begin++:t.key===a.keys.Delete&&i.begin-1===u&&(h=l.extend({},i),i.begin--,i.end--)),(r=e.slice().reverse()).splice(r.length-i.begin,i.begin-i.end+1),r=d(r,n.digits,n).join(""),h&&(i=h),s.trigger("setvalue",[r,i.begin>=r.length?u+1:i.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(t){return"("+t.groupSeparator+"99){*|1}("+t.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=!("undefined"==typeof window||!window.document||!window.document.createElement);e.default=i?window:{}},7760:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.HandleNativePlaceholder=function(t,e){var i=t?t.inputmask:this;if(n.ie){if(t.inputmask._valueGet()!==e&&(t.placeholder!==e||""===t.placeholder)){var r=s.getBuffer.call(i).slice(),a=t.inputmask._valueGet();if(a!==e){var o=s.getLastValidPosition.call(i);-1===o&&a===s.getBufferTemplate.call(i).join("")?r=[]:-1!==o&&d.call(i,r),u(t,r)}}}else t.placeholder!==e&&(t.placeholder=e,""===t.placeholder&&t.removeAttribute("placeholder"))},e.applyInputValue=c,e.checkVal=h,e.clearOptionalTail=d,e.unmaskedvalue=function(t){var e=t?t.inputmask:this,i=e.opts,n=e.maskset;if(t){if(void 0===t.inputmask)return t.value;t.inputmask&&t.inputmask.refreshValue&&c(t,t.inputmask._valueGet(!0))}for(var r=[],a=n.validPositions,o=0,l=a.length;o<l;o++)a[o]&&a[o].match&&(1!=a[o].match.static||Array.isArray(n.metadata)&&!0!==a[o].generatedInput)&&r.push(a[o].input);var d=0===r.length?"":(e.isRTL?r.reverse():r).join("");if("function"==typeof i.onUnMask){var h=(e.isRTL?s.getBuffer.call(e).slice().reverse():s.getBuffer.call(e)).join("");d=i.onUnMask.call(e,h,d,i)}return d},e.writeBuffer=u;var n=i(9845),r=i(6030),a=i(2839),s=i(8711),o=i(7215),l=i(4713);function c(t,e,i){var n=t?t.inputmask:this,r=n.opts;t.inputmask.refreshValue=!1,"function"==typeof r.onBeforeMask&&(e=r.onBeforeMask.call(n,e,r)||e),h(t,!0,!1,e=(e||"").toString().split(""),i),n.undoValue=n._valueGet(!0),(r.clearMaskOnLostFocus||r.clearIncomplete)&&t.inputmask._valueGet()===s.getBufferTemplate.call(n).join("")&&-1===s.getLastValidPosition.call(n)&&t.inputmask._valueSet("")}function d(t){t.length=0;for(var e,i=l.getMaskTemplate.call(this,!0,0,!0,void 0,!0);void 0!==(e=i.shift());)t.push(e);return t}function h(t,e,i,n,a){var c,d=t?t.inputmask:this,h=d.maskset,f=d.opts,p=d.dependencyLib,g=n.slice(),m="",_=-1,v=f.skipOptionalPartCharacter;f.skipOptionalPartCharacter="",s.resetMaskSet.call(d,!1),d.clicked=0,_=f.radixPoint?s.determineNewCaretPosition.call(d,{begin:0,end:0},!1,!1===f.__financeInput?"radixFocus":void 0).begin:0,h.p=_,d.caretPos={begin:_};var y=[],b=d.caretPos;if(g.forEach((function(t,e){if(void 0!==t){var n=new p.Event("_checkval");n.key=t,m+=t;var a=s.getLastValidPosition.call(d,void 0,!0);!function(t,e){for(var i=l.getMaskTemplate.call(d,!0,0).slice(t,s.seekNext.call(d,t,!1,!1)).join("").replace(/'/g,""),n=i.indexOf(e);n>0&&" "===i[n-1];)n--;var r=0===n&&!s.isMask.call(d,t)&&(l.getTest.call(d,t).match.nativeDef===e.charAt(0)||!0===l.getTest.call(d,t).match.static&&l.getTest.call(d,t).match.nativeDef==="'"+e.charAt(0)||" "===l.getTest.call(d,t).match.nativeDef&&(l.getTest.call(d,t+1).match.nativeDef===e.charAt(0)||!0===l.getTest.call(d,t+1).match.static&&l.getTest.call(d,t+1).match.nativeDef==="'"+e.charAt(0)));if(!r&&n>0&&!s.isMask.call(d,t,!1,!0)){var a=s.seekNext.call(d,t);d.caretPos.begin<a&&(d.caretPos={begin:a})}return r}(_,m)?(c=r.EventHandlers.keypressEvent.call(d,n,!0,!1,i,d.caretPos.begin))&&(_=d.caretPos.begin+1,m=""):c=r.EventHandlers.keypressEvent.call(d,n,!0,!1,i,a+1),c?(void 0!==c.pos&&h.validPositions[c.pos]&&!0===h.validPositions[c.pos].match.static&&void 0===h.validPositions[c.pos].alternation&&(y.push(c.pos),d.isRTL||(c.forwardPosition=c.pos+1)),u.call(d,void 0,s.getBuffer.call(d),c.forwardPosition,n,!1),d.caretPos={begin:c.forwardPosition,end:c.forwardPosition},b=d.caretPos):void 0===h.validPositions[e]&&g[e]===l.getPlaceholder.call(d,e)&&s.isMask.call(d,e,!0)?d.caretPos.begin++:d.caretPos=b}})),y.length>0){var k,x,w=s.seekNext.call(d,-1,void 0,!1);if(!o.isComplete.call(d,s.getBuffer.call(d))&&y.length<=w||o.isComplete.call(d,s.getBuffer.call(d))&&y.length>0&&y.length!==w&&0===y[0])for(var S=w;void 0!==(k=y.shift());)if(k<S){var T=new p.Event("_checkval");if((x=h.validPositions[k]).generatedInput=!0,T.key=x.input,(c=r.EventHandlers.keypressEvent.call(d,T,!0,!1,i,S))&&void 0!==c.pos&&c.pos!==k&&h.validPositions[c.pos]&&!0===h.validPositions[c.pos].match.static)y.push(c.pos);else if(!c)break;S++}}e&&u.call(d,t,s.getBuffer.call(d),c?c.forwardPosition:d.caretPos.begin,a||new p.Event("checkval"),a&&("input"===a.type&&d.undoValue!==s.getBuffer.call(d).join("")||"paste"===a.type)),f.skipOptionalPartCharacter=v}function u(t,e,i,n,r){var l=t?t.inputmask:this,c=l.opts,d=l.dependencyLib;if(n&&"function"==typeof c.onBeforeWrite){var h=c.onBeforeWrite.call(l,n,e,i,c);if(h){if(h.refreshFromBuffer){var u=h.refreshFromBuffer;o.refreshFromBuffer.call(l,!0===u?u:u.start,u.end,h.buffer||e),e=s.getBuffer.call(l,!0)}void 0!==i&&(i=void 0!==h.caret?h.caret:i)}}if(void 0!==t&&(t.inputmask._valueSet(e.join("")),void 0===i||void 0!==n&&"blur"===n.type||s.caret.call(l,t,i,void 0,void 0,void 0!==n&&"keydown"===n.type&&(n.key===a.keys.Delete||n.key===a.keys.Backspace)),void 0===t.inputmask.writeBufferHook||t.inputmask.writeBufferHook(i),!0===r)){var f=d(t),p=t.inputmask._valueGet();t.inputmask.skipInputEvent=!0,f.trigger("input"),setTimeout((function(){p===s.getBufferTemplate.call(l).join("")?f.trigger("cleared"):!0===o.isComplete.call(l,e)&&f.trigger("complete")}),0)}}},2394:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=g(i(3976)),r=g(i(7392)),a=g(i(4963)),s=i(9716),o=g(i(9380)),l=i(7760),c=i(157),d=i(2391),h=i(8711),u=i(7215),f=i(4713);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function g(t){return t&&t.__esModule?t:{default:t}}var m=o.default.document,_="_inputmask_opts";function v(t,e,i){if(!(this instanceof v))return new v(t,e,i);this.dependencyLib=a.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==i&&("[object Object]"===Object.prototype.toString.call(t)?e=t:(e=e||{},t&&(e.alias=t)),this.opts=a.default.extend(!0,{},this.defaults,e),this.noMasksCache=e&&void 0!==e.definitions,this.userOptions=e||{},y(this.opts.alias,e,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}function y(t,e,i){var n=v.prototype.aliases[t];return n?(n.alias&&y(n.alias,void 0,i),a.default.extend(!0,i,n),a.default.extend(!0,i,e),!0):(null===i.mask&&(i.mask=t),!1)}v.prototype={dataAttribute:"data-inputmask",defaults:n.default,definitions:r.default,aliases:{},masksCache:{},i18n:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(t){var e=this;return"string"==typeof t&&(t=m.getElementById(t)||m.querySelectorAll(t)),(t=t.nodeName?[t]:Array.isArray(t)?t:[].slice.call(t)).forEach((function(t,i){var n=a.default.extend(!0,{},e.opts);if(function(t,e,i,n){function r(e,r){var a=""===n?e:n+"-"+e;null!==(r=void 0!==r?r:t.getAttribute(a))&&("string"==typeof r&&(0===e.indexOf("on")?r=o.default[r]:"false"===r?r=!1:"true"===r&&(r=!0)),i[e]=r)}if(!0===e.importDataAttributes){var s,l,c,d,h=t.getAttribute(n);if(h&&""!==h&&(h=h.replace(/'/g,'"'),l=JSON.parse("{"+h+"}")),l)for(d in c=void 0,l)if("alias"===d.toLowerCase()){c=l[d];break}for(s in r("alias",c),i.alias&&y(i.alias,i,e),e){if(l)for(d in c=void 0,l)if(d.toLowerCase()===s.toLowerCase()){c=l[d];break}r(s,c)}}return a.default.extend(!0,e,i),("rtl"===t.dir||e.rightAlign)&&(t.style.textAlign="right"),("rtl"===t.dir||e.numericInput)&&(t.dir="ltr",t.removeAttribute("dir"),e.isRTL=!0),Object.keys(i).length}(t,n,a.default.extend(!0,{},e.userOptions),e.dataAttribute)){var r=(0,d.generateMaskSet)(n,e.noMasksCache);void 0!==r&&(void 0!==t.inputmask&&(t.inputmask.opts.autoUnmask=!0,t.inputmask.remove()),t.inputmask=new v(void 0,void 0,!0),t.inputmask.opts=n,t.inputmask.noMasksCache=e.noMasksCache,t.inputmask.userOptions=a.default.extend(!0,{},e.userOptions),t.inputmask.el=t,t.inputmask.$el=(0,a.default)(t),t.inputmask.maskset=r,a.default.data(t,_,e.userOptions),c.mask.call(t.inputmask))}})),t&&t[0]&&t[0].inputmask||this},option:function(t,e){return"string"==typeof t?this.opts[t]:"object"===p(t)?(a.default.extend(this.userOptions,t),this.el&&!0!==e&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){if(this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==t){var e=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");l.checkVal.call(this,void 0,!1,!1,e),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,h.getBuffer.call(this),0,this.opts)}return l.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){a.default.data(this.el,_,null);var t=this.opts.autoUnmask?(0,l.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);t!==h.getBufferTemplate.call(this).join("")?this._valueSet(t,this.opts.autoUnmask):this._valueSet(""),s.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):m.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache),(this.isRTL?h.getBufferTemplate.call(this).reverse():h.getBufferTemplate.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache),u.isComplete.call(this,h.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var t=f.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(e){return e.mask!==t||(t=e,!1)})),t}return this.maskset.metadata},isValid:function(t){if(this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache),t){var e=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");l.checkVal.call(this,void 0,!0,!1,e)}else t=this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join("");for(var i=h.getBuffer.call(this),n=h.determineLastRequiredPosition.call(this),r=i.length-1;r>n&&!h.isMask.call(this,r);r--);return i.splice(n,r+1-n),u.isComplete.call(this,i)&&t===(this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join(""))},format:function(t,e){this.maskset=this.maskset||(0,d.generateMaskSet)(this.opts,this.noMasksCache);var i=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");l.checkVal.call(this,void 0,!0,!1,i);var n=this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join("");return e?{value:n,metadata:this.getmetadata()}:n},setValue:function(t){this.el&&(0,a.default)(this.el).trigger("setvalue",[t])},analyseMask:d.analyseMask},v.extendDefaults=function(t){a.default.extend(!0,v.prototype.defaults,t)},v.extendDefinitions=function(t){a.default.extend(!0,v.prototype.definitions,t)},v.extendAliases=function(t){a.default.extend(!0,v.prototype.aliases,t)},v.format=function(t,e,i){return v(e).format(t,i)},v.unmask=function(t,e){return v(e).unmaskedvalue(t)},v.isValid=function(t,e){return v(e).isValid(t)},v.remove=function(t){"string"==typeof t&&(t=m.getElementById(t)||m.querySelectorAll(t)),(t=t.nodeName?[t]:t).forEach((function(t){t.inputmask&&t.inputmask.remove()}))},v.setValue=function(t,e){"string"==typeof t&&(t=m.getElementById(t)||m.querySelectorAll(t)),(t=t.nodeName?[t]:t).forEach((function(t){t.inputmask?t.inputmask.setValue(e):(0,a.default)(t).trigger("setvalue",[e])}))},v.dependencyLib=a.default,o.default.Inputmask=v,e.default=v},5296:function(t,e,i){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var r=f(i(9380)),a=f(i(2394));function s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===n(a)?a:String(a)),r)}var a}function o(t){var e=d();return function(){var i,r=u(t);if(e){var a=u(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function l(t){var e="function"==typeof Map?new Map:void 0;return l=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return c(t,arguments,u(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h(i,t)},l(t)}function c(t,e,i){return c=d()?Reflect.construct.bind():function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&h(r,i.prototype),r},c.apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function f(t){return t&&t.__esModule?t:{default:t}}var p=r.default.document;if(p&&p.head&&p.head.attachShadow&&r.default.customElements&&void 0===r.default.customElements.get("input-mask")){var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(r,t);var e,i,n=o(r);function r(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=(t=n.call(this)).getAttributeNames(),i=t.attachShadow({mode:"closed"});for(var s in t.input=p.createElement("input"),t.input.type="text",i.appendChild(t.input),e)Object.prototype.hasOwnProperty.call(e,s)&&t.input.setAttribute(e[s],t.getAttribute(e[s]));var o=new a.default;return o.dataAttribute="",o.mask(t.input),t.input.inputmask.shadowRoot=i,t}return e=r,(i=[{key:"attributeChangedCallback",value:function(t,e,i){this.input.setAttribute(t,i)}},{key:"value",get:function(){return this.input.value},set:function(t){this.input.value=t}}])&&s(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),r}(l(HTMLElement));r.default.customElements.define("input-mask",g)}},2839:function(t,e){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a,s,o=[],l=!0,c=!1;try{if(a=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=a.call(i)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.keys=e.keyCode=void 0,e.toKey=function(t,e){return l[t]||(e?String.fromCharCode(t):String.fromCharCode(t).toLowerCase())},e.toKeyCode=function(t){return o[t]};var o=e.keyCode=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({c:67,x:88,z:90,BACKSPACE_SAFARI:127,Enter:13,Meta_LEFT:91,Meta_RIGHT:92,Space:32},{Alt:18,AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,CapsLock:20,Control:17,ContextMenu:93,Dead:221,Delete:46,End:35,Escape:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Home:36,Insert:45,NumLock:144,PageDown:34,PageUp:33,Pause:19,PrintScreen:44,Process:229,Shift:16,ScrollLock:145,Tab:9,Unidentified:229}),l=Object.entries(o).reduce((function(t,e){var i=n(e,2),r=i[0],a=i[1];return t[a]=void 0===t[a]?r:t[a],t}),{});e.keys=Object.entries(o).reduce((function(t,e){var i=n(e,2),r=i[0];return i[1],t[r]="Space"===r?" ":r,t}),{})},2391:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.analyseMask=function(t,e,i){var n,r,l,c,d,h,u=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,f=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,p=!1,g=new s.default,m=[],_=[],v=!1;function y(t,n,r){r=void 0!==r?r:t.matches.length;var s=t.matches[r-1];if(e){if(0===n.indexOf("[")||p&&/\\d|\\s|\\w|\\p/i.test(n)||"."===n){var l=i.casing?"i":"";/\\p\{.*}/i.test(n)&&(l+="u"),t.matches.splice(r++,0,{fn:new RegExp(n,l),static:!1,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==n,casing:null,def:n,placeholder:"object"===o(i.placeholder)?i.placeholder[g.matches.length]:void 0,nativeDef:n})}else p&&(n=n[n.length-1]),n.split("").forEach((function(e,n){s=t.matches[r-1],t.matches.splice(r++,0,{fn:/[a-z]/i.test(i.staticDefinitionSymbol||e)?new RegExp("["+(i.staticDefinitionSymbol||e)+"]",i.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==e&&!0!==s.static,casing:null,def:i.staticDefinitionSymbol||e,placeholder:void 0!==i.staticDefinitionSymbol?e:"object"===o(i.placeholder)?i.placeholder[g.matches.length]:void 0,nativeDef:(p?"'":"")+e})}));p=!1}else{var c=i.definitions&&i.definitions[n]||i.usePrototypeDefinitions&&a.default.prototype.definitions[n];c&&!p?t.matches.splice(r++,0,{fn:c.validator?"string"==typeof c.validator?new RegExp(c.validator,i.casing?"i":""):new function(){this.test=c.validator}:/./,static:c.static||!1,optionality:c.optional||!1,defOptionality:c.optional||!1,newBlockMarker:void 0===s||c.optional?"master":s.def!==(c.definitionSymbol||n),casing:c.casing,def:c.definitionSymbol||n,placeholder:c.placeholder,nativeDef:n,generated:c.generated}):(t.matches.splice(r++,0,{fn:/[a-z]/i.test(i.staticDefinitionSymbol||n)?new RegExp("["+(i.staticDefinitionSymbol||n)+"]",i.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==n&&!0!==s.static,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,nativeDef:(p?"'":"")+n}),p=!1)}}function b(){if(m.length>0){if(y(c=m[m.length-1],r),c.isAlternator){d=m.pop();for(var t=0;t<d.matches.length;t++)d.matches[t].isGroup&&(d.matches[t].isGroup=!1);m.length>0?(c=m[m.length-1]).matches.push(d):g.matches.push(d)}}else y(g,r)}function k(t){var e=new s.default(!0);return e.openGroup=!1,e.matches=t,e}function x(){if((l=m.pop()).openGroup=!1,void 0!==l)if(m.length>0){if((c=m[m.length-1]).matches.push(l),c.isAlternator){d=m.pop();for(var t=0;t<d.matches.length;t++)d.matches[t].isGroup=!1,d.matches[t].alternatorGroup=!1;m.length>0?(c=m[m.length-1]).matches.push(d):g.matches.push(d)}}else g.matches.push(l);else b()}function w(t){var e=t.pop();return e.isQuantifier&&(e=k([t.pop(),e])),e}for(e&&(i.optionalmarker[0]=void 0,i.optionalmarker[1]=void 0);n=e?f.exec(t):u.exec(t);){if(r=n[0],e){switch(r.charAt(0)){case"?":r="{0,1}";break;case"+":case"*":r="{"+r+"}";break;case"|":if(0===m.length){var S=k(g.matches);S.openGroup=!0,m.push(S),g.matches=[],v=!0}}switch(r){case"\\d":r="[0-9]";break;case"\\p":r+=f.exec(t)[0],r+=f.exec(t)[0]}}if(p)b();else switch(r.charAt(0)){case"$":case"^":e||b();break;case i.escapeChar:p=!0,e&&b();break;case i.optionalmarker[1]:case i.groupmarker[1]:x();break;case i.optionalmarker[0]:m.push(new s.default(!1,!0));break;case i.groupmarker[0]:m.push(new s.default(!0));break;case i.quantifiermarker[0]:var T=new s.default(!1,!1,!0),E=(r=r.replace(/[{}?]/g,"")).split("|"),C=E[0].split(","),M=isNaN(C[0])?C[0]:parseInt(C[0]),P=1===C.length?M:isNaN(C[1])?C[1]:parseInt(C[1]),A=isNaN(E[1])?E[1]:parseInt(E[1]);"*"!==M&&"+"!==M||(M="*"===P?0:1),T.quantifier={min:M,max:P,jit:A};var $=m.length>0?m[m.length-1].matches:g.matches;(n=$.pop()).isGroup||(n=k([n])),$.push(n),$.push(T);break;case i.alternatormarker:if(m.length>0){var D=(c=m[m.length-1]).matches[c.matches.length-1];h=c.openGroup&&(void 0===D.matches||!1===D.isGroup&&!1===D.isAlternator)?m.pop():w(c.matches)}else h=w(g.matches);if(h.isAlternator)m.push(h);else if(h.alternatorGroup?(d=m.pop(),h.alternatorGroup=!1):d=new s.default(!1,!1,!1,!0),d.matches.push(h),m.push(d),h.openGroup){h.openGroup=!1;var I=new s.default(!0);I.alternatorGroup=!0,m.push(I)}break;default:b()}}for(v&&x();m.length>0;)l=m.pop(),g.matches.push(l);return g.matches.length>0&&(function t(n){n&&n.matches&&n.matches.forEach((function(r,a){var s=n.matches[a+1];(void 0===s||void 0===s.matches||!1===s.isQuantifier)&&r&&r.isGroup&&(r.isGroup=!1,e||(y(r,i.groupmarker[0],0),!0!==r.openGroup&&y(r,i.groupmarker[1]))),t(r)}))}(g),_.push(g)),(i.numericInput||i.isRTL)&&function t(e){for(var n in e.matches=e.matches.reverse(),e.matches)if(Object.prototype.hasOwnProperty.call(e.matches,n)){var r=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[r+1]&&e.matches[r+1].isGroup){var a=e.matches[n];e.matches.splice(n,1),e.matches.splice(r+1,0,a)}void 0!==e.matches[n].matches?e.matches[n]=t(e.matches[n]):e.matches[n]=((s=e.matches[n])===i.optionalmarker[0]?s=i.optionalmarker[1]:s===i.optionalmarker[1]?s=i.optionalmarker[0]:s===i.groupmarker[0]?s=i.groupmarker[1]:s===i.groupmarker[1]&&(s=i.groupmarker[0]),s)}var s;return e}(_[0]),_},e.generateMaskSet=function(t,e){var i;function s(t,e){var i=e.repeat,n=e.groupmarker,a=e.quantifiermarker,s=e.keepStatic;if(i>0||"*"===i||"+"===i){var o="*"===i?0:"+"===i?1:i;if(o!=i)t=n[0]+t+n[1]+a[0]+o+","+i+a[1];else for(var c=t,d=1;d<o;d++)t+=c}if(!0===s){var h=t.match(new RegExp("(.)\\[([^\\]]*)\\]","g"));h&&h.forEach((function(e,i){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a,s,o=[],l=!0,c=!1;try{for(a=(i=i.call(t)).next,0;!(l=(n=a.call(i)).done)&&(o.push(n.value),2!==o.length);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(t)||function(t,e){if(t){if("string"==typeof t)return l(t,2);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("[")),a=n[0],s=n[1];s=s.replace("]",""),t=t.replace(new RegExp("".concat((0,r.default)(a),"\\[").concat((0,r.default)(s),"\\]")),a.charAt(0)===s.charAt(0)?"(".concat(a,"|").concat(a).concat(s,")"):"".concat(a,"[").concat(s,"]"))}))}return t}function c(t,i,r){var l,c,d=!1;return null!==t&&""!==t||((d=null!==r.regex)?t=(t=r.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(d=!0,t=".*")),1===t.length&&!1===r.greedy&&0!==r.repeat&&(r.placeholder=""),t=s(t,r),c=d?"regex_"+r.regex:r.numericInput?t.split("").reverse().join(""):t,null!==r.keepStatic&&(c="ks_"+r.keepStatic+c),"object"===o(r.placeholder)&&(c="ph_"+JSON.stringify(r.placeholder)+c),void 0===a.default.prototype.masksCache[c]||!0===e?(l={mask:t,maskToken:a.default.prototype.analyseMask(t,d,r),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:i,maskLength:void 0,jitOffset:{}},!0!==e&&(a.default.prototype.masksCache[c]=l,l=n.default.extend(!0,{},a.default.prototype.masksCache[c]))):l=n.default.extend(!0,{},a.default.prototype.masksCache[c]),l}if("function"==typeof t.mask&&(t.mask=t.mask(t)),Array.isArray(t.mask)){if(t.mask.length>1){null===t.keepStatic&&(t.keepStatic=!0);var d=t.groupmarker[0];return(t.isRTL?t.mask.reverse():t.mask).forEach((function(e){d.length>1&&(d+=t.alternatormarker),void 0!==e.mask&&"function"!=typeof e.mask?d+=e.mask:d+=e})),c(d+=t.groupmarker[1],t.mask,t)}t.mask=t.mask.pop()}return i=t.mask&&void 0!==t.mask.mask&&"function"!=typeof t.mask.mask?c(t.mask.mask,t.mask,t):c(t.mask,t.mask,t),null===t.keepStatic&&(t.keepStatic=!1),i};var n=c(i(4963)),r=c(i(7184)),a=c(i(2394)),s=c(i(9695));function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function c(t){return t&&t.__esModule?t:{default:t}}},157:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.mask=function(){var t=this,e=this.opts,i=this.el,c=this.dependencyLib;a.EventRuler.off(i);var d=function(e,i){var n=e.getAttribute("type"),r="input"===e.tagName.toLowerCase()&&i.supportsInputType.includes(n)||e.isContentEditable||"textarea"===e.tagName.toLowerCase();if(!r)if("input"===e.tagName.toLowerCase()){var l=document.createElement("input");l.setAttribute("type",n),r="text"===l.type,l=null}else r="partial";return!1!==r?function(e){var n,r;function l(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==o.getLastValidPosition.call(t)||!0!==i.nullable?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&i.clearMaskOnLostFocus?(t.isRTL?s.clearOptionalTail.call(t,o.getBuffer.call(t).slice()).reverse():s.clearOptionalTail.call(t,o.getBuffer.call(t).slice())).join(""):n.call(this):"":n.call(this)}function d(t){r.call(this,t),this.inputmask&&(0,s.applyInputValue)(this,t)}if(!e.inputmask.__valueGet){if(!0!==i.noValuePatching){if(Object.getOwnPropertyDescriptor){var h=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):void 0;h&&h.get&&h.set?(n=h.get,r=h.set,Object.defineProperty(e,"value",{get:l,set:d,configurable:!0})):"input"!==e.tagName.toLowerCase()&&(n=function(){return this.textContent},r=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:l,set:d,configurable:!0}))}else document.__lookupGetter__&&e.__lookupGetter__("value")&&(n=e.__lookupGetter__("value"),r=e.__lookupSetter__("value"),e.__defineGetter__("value",l),e.__defineSetter__("value",d));e.inputmask.__valueGet=n,e.inputmask.__valueSet=r}e.inputmask._valueGet=function(e){return t.isRTL&&!0!==e?n.call(this.el).split("").reverse().join(""):n.call(this.el)},e.inputmask._valueSet=function(e,i){r.call(this.el,null==e?"":!0!==i&&t.isRTL?e.split("").reverse().join(""):e)},void 0===n&&(n=function(){return this.value},r=function(t){this.value=t},function(e){if(c.valHooks&&(void 0===c.valHooks[e]||!0!==c.valHooks[e].inputmaskpatch)){var n=c.valHooks[e]&&c.valHooks[e].get?c.valHooks[e].get:function(t){return t.value},r=c.valHooks[e]&&c.valHooks[e].set?c.valHooks[e].set:function(t,e){return t.value=e,t};c.valHooks[e]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var r=n(e);return-1!==o.getLastValidPosition.call(t,void 0,void 0,e.inputmask.maskset.validPositions)||!0!==i.nullable?r:""}return n(e)},set:function(t,e){var i=r(t,e);return t.inputmask&&(0,s.applyInputValue)(t,e),i},inputmaskpatch:!0}}}(e.type),function(t){a.EventRuler.on(t,"mouseenter",(function(){var t=this,e=t.inputmask._valueGet(!0);e!=(t.inputmask.isRTL?o.getBuffer.call(t.inputmask).slice().reverse():o.getBuffer.call(t.inputmask)).join("")&&(0,s.applyInputValue)(t,e)}))}(e))}}(e):e.inputmask=void 0,r}(i,e);if(!1!==d){t.originalPlaceholder=i.placeholder,t.maxLength=void 0!==i?i.maxLength:void 0,-1===t.maxLength&&(t.maxLength=void 0),"inputMode"in i&&null===i.getAttribute("inputmode")&&(i.inputMode=e.inputmode,i.setAttribute("inputmode",e.inputmode)),!0===d&&(e.showMaskOnFocus=e.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(i.autocomplete),n.iphone&&(e.insertModeVisual=!1,i.setAttribute("autocorrect","off")),a.EventRuler.on(i,"submit",r.EventHandlers.submitEvent),a.EventRuler.on(i,"reset",r.EventHandlers.resetEvent),a.EventRuler.on(i,"blur",r.EventHandlers.blurEvent),a.EventRuler.on(i,"focus",r.EventHandlers.focusEvent),a.EventRuler.on(i,"invalid",r.EventHandlers.invalidEvent),a.EventRuler.on(i,"click",r.EventHandlers.clickEvent),a.EventRuler.on(i,"mouseleave",r.EventHandlers.mouseleaveEvent),a.EventRuler.on(i,"mouseenter",r.EventHandlers.mouseenterEvent),a.EventRuler.on(i,"paste",r.EventHandlers.pasteEvent),a.EventRuler.on(i,"cut",r.EventHandlers.cutEvent),a.EventRuler.on(i,"complete",e.oncomplete),a.EventRuler.on(i,"incomplete",e.onincomplete),a.EventRuler.on(i,"cleared",e.oncleared),!0!==e.inputEventOnly&&a.EventRuler.on(i,"keydown",r.EventHandlers.keyEvent),(n.mobile||e.inputEventOnly)&&i.removeAttribute("maxLength"),a.EventRuler.on(i,"input",r.EventHandlers.inputFallBackEvent)),a.EventRuler.on(i,"setvalue",r.EventHandlers.setValueEvent),void 0===t.applyMaskHook||t.applyMaskHook(),o.getBufferTemplate.call(t).join(""),t.undoValue=t._valueGet(!0);var h=(i.inputmask.shadowRoot||i.ownerDocument).activeElement;if(""!==i.inputmask._valueGet(!0)||!1===e.clearMaskOnLostFocus||h===i){(0,s.applyInputValue)(i,i.inputmask._valueGet(!0),e);var u=o.getBuffer.call(t).slice();!1===l.isComplete.call(t,u)&&e.clearIncomplete&&o.resetMaskSet.call(t,!1),e.clearMaskOnLostFocus&&h!==i&&(-1===o.getLastValidPosition.call(t)?u=[]:s.clearOptionalTail.call(t,u)),(!1===e.clearMaskOnLostFocus||e.showMaskOnFocus&&h===i||""!==i.inputmask._valueGet(!0))&&(0,s.writeBuffer)(i,u),h===i&&o.caret.call(t,i,o.seekNext.call(t,o.getLastValidPosition.call(t)))}}};var n=i(9845),r=i(6030),a=i(9716),s=i(7760),o=i(8711),l=i(7215)},9695:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,n){this.matches=[],this.openGroup=t||!1,this.alternatorGroup=!1,this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;for(var r=0|e,a=Math.max(r>=0?r:n-Math.abs(r),0);a<n;){if(i[a]===t)return!0;a++}return!1}})},9302:function(){var t=Function.bind.call(Function.call,Array.prototype.reduce),e=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),i=Function.bind.call(Function.call,Array.prototype.concat),n=Object.keys;Object.entries||(Object.entries=function(r){return t(n(r),(function(t,n){return i(t,"string"==typeof n&&e(r,n)?[[n,r[n]]]:[])}),[])})},7149:function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===t("test".__proto__)?function(t){return t.__proto__}:function(t){return t.constructor.prototype})},4013:function(){String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)})},8711:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.caret=function(t,e,i,n,a){var s,o=this,l=this.opts;if(void 0===e)return"selectionStart"in t&&"selectionEnd"in t?(e=t.selectionStart,i=t.selectionEnd):r.default.getSelection?(s=r.default.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==t&&s.commonAncestorContainer!==t||(e=s.startOffset,i=s.endOffset):document.selection&&document.selection.createRange&&(i=(e=0-(s=document.selection.createRange()).duplicate().moveStart("character",-t.inputmask._valueGet().length))+s.text.length),{begin:n?e:h.call(o,e),end:n?i:h.call(o,i)};if(Array.isArray(e)&&(i=o.isRTL?e[0]:e[1],e=o.isRTL?e[1]:e[0]),void 0!==e.begin&&(i=o.isRTL?e.begin:e.end,e=o.isRTL?e.end:e.begin),"number"==typeof e){e=n?e:h.call(o,e),i="number"==typeof(i=n?i:h.call(o,i))?i:e;var c=parseInt(((t.ownerDocument.defaultView||r.default).getComputedStyle?(t.ownerDocument.defaultView||r.default).getComputedStyle(t,null):t.currentStyle).fontSize)*i;if(t.scrollLeft=c>t.scrollWidth?c:0,t.inputmask.caretPos={begin:e,end:i},l.insertModeVisual&&!1===l.insertMode&&e===i&&(a||i++),t===(t.inputmask.shadowRoot||t.ownerDocument).activeElement){if("setSelectionRange"in t)t.setSelectionRange(e,i);else if(r.default.getSelection){if(s=document.createRange(),void 0===t.firstChild||null===t.firstChild){var d=document.createTextNode("");t.appendChild(d)}s.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),s.setEnd(t.firstChild,i<t.inputmask._valueGet().length?i:t.inputmask._valueGet().length),s.collapse(!0);var u=r.default.getSelection();u.removeAllRanges(),u.addRange(s)}else t.createTextRange&&((s=t.createTextRange()).collapse(!0),s.moveEnd("character",i),s.moveStart("character",e),s.select());void 0===t.inputmask.caretHook||t.inputmask.caretHook.call(o,{begin:e,end:i})}}},e.determineLastRequiredPosition=function(t){var e,i,n=this,r=n.maskset,o=n.dependencyLib,c=l.call(n),d={},h=r.validPositions[c],u=s.getMaskTemplate.call(n,!0,l.call(n),!0,!0),f=u.length,p=void 0!==h?h.locator.slice():void 0;for(e=c+1;e<u.length;e++)p=(i=s.getTestTemplate.call(n,e,p,e-1)).locator.slice(),d[e]=o.extend(!0,{},i);var g=h&&void 0!==h.alternation?h.locator[h.alternation]:void 0;for(e=f-1;e>c&&((i=d[e]).match.optionality||i.match.optionalQuantifier&&i.match.newBlockMarker||g&&(g!==d[e].locator[h.alternation]&&!0!==i.match.static||!0===i.match.static&&i.locator[h.alternation]&&a.checkAlternationMatch.call(n,i.locator[h.alternation].toString().split(","),g.toString().split(","))&&""!==s.getTests.call(n,e)[0].def))&&u[e]===s.getPlaceholder.call(n,e,i.match);e--)f--;return t?{l:f,def:d[f]?d[f].match:void 0}:f},e.determineNewCaretPosition=function(t,e,i){var n,r,a,h=this,u=h.maskset,f=h.opts;if(e&&(h.isRTL?t.end=t.begin:t.begin=t.end),t.begin===t.end){switch(i=i||f.positionCaretOnClick){case"none":break;case"select":t={begin:0,end:o.call(h).length};break;case"ignore":t.end=t.begin=d.call(h,l.call(h));break;case"radixFocus":if(h.clicked>1&&0===u.validPositions.length)break;if(function(t){if(""!==f.radixPoint&&0!==f.digits){var e=u.validPositions;if(void 0===e[t]||void 0===e[t].input){if(t<d.call(h,-1))return!0;var i=o.call(h).indexOf(f.radixPoint);if(-1!==i){for(var n=0,r=e.length;n<r;n++)if(e[n]&&i<n&&e[n].input!==s.getPlaceholder.call(h,n))return!1;return!0}}}return!1}(t.begin)){var p=o.call(h).join("").indexOf(f.radixPoint);t.end=t.begin=f.numericInput?d.call(h,p):p;break}default:if(n=t.begin,r=l.call(h,n,!0),n<=(a=d.call(h,-1!==r||c.call(h,0)?r:-1)))t.end=t.begin=c.call(h,n,!1,!0)?n:d.call(h,n);else{var g=u.validPositions[r],m=s.getTestTemplate.call(h,a,g?g.match.locator:void 0,g),_=s.getPlaceholder.call(h,a,m.match);if(""!==_&&o.call(h)[a]!==_&&!0!==m.match.optionalQuantifier&&!0!==m.match.newBlockMarker||!c.call(h,a,f.keepStatic,!0)&&m.match.def===_){var v=d.call(h,a);(n>=v||n===a)&&(a=v)}t.end=t.begin=a}}return t}},e.getBuffer=o,e.getBufferTemplate=function(){var t=this.maskset;return void 0===t._buffer&&(t._buffer=s.getMaskTemplate.call(this,!1,1),void 0===t.buffer&&(t.buffer=t._buffer.slice())),t._buffer},e.getLastValidPosition=l,e.isMask=c,e.resetMaskSet=function(t){var e=this.maskset;e.buffer=void 0,!0!==t&&(e.validPositions=[],e.p=0),!1===t&&(e.tests={},e.jitOffset={})},e.seekNext=d,e.seekPrevious=function(t,e){var i=this,n=t-1;if(t<=0)return 0;for(;n>0&&(!0===e&&(!0!==s.getTest.call(i,n).match.newBlockMarker||!c.call(i,n,void 0,!0))||!0!==e&&!c.call(i,n,void 0,!0));)n--;return n},e.translatePosition=h;var n,r=(n=i(9380))&&n.__esModule?n:{default:n},a=i(7215),s=i(4713);function o(t){var e=this,i=e.maskset;return void 0!==i.buffer&&!0!==t||(i.buffer=s.getMaskTemplate.call(e,!0,l.call(e),!0),void 0===i._buffer&&(i._buffer=i.buffer.slice())),i.buffer}function l(t,e,i){var n=this.maskset,r=-1,a=-1,s=i||n.validPositions;void 0===t&&(t=-1);for(var o=0,l=s.length;o<l;o++)s[o]&&(e||!0!==s[o].generatedInput)&&(o<=t&&(r=o),o>=t&&(a=o));return-1===r||r===t?a:-1===a||t-r<a-t?r:a}function c(t,e,i){var n=this,r=this.maskset,a=s.getTestTemplate.call(n,t).match;if(""===a.def&&(a=s.getTest.call(n,t).match),!0!==a.static)return a.fn;if(!0===i&&void 0!==r.validPositions[t]&&!0!==r.validPositions[t].generatedInput)return!0;if(!0!==e&&t>-1){if(i){var o=s.getTests.call(n,t);return o.length>1+(""===o[o.length-1].match.def?1:0)}var l=s.determineTestTemplate.call(n,t,s.getTests.call(n,t)),c=s.getPlaceholder.call(n,t,l.match);return l.match.def!==c}return!1}function d(t,e,i){var n=this;void 0===i&&(i=!0);for(var r=t+1;""!==s.getTest.call(n,r).match.def&&(!0===e&&(!0!==s.getTest.call(n,r).match.newBlockMarker||!c.call(n,r,void 0,!0))||!0!==e&&!c.call(n,r,void 0,i));)r++;return r}function h(t){var e=this.opts,i=this.el;return!this.isRTL||"number"!=typeof t||e.greedy&&""===e.placeholder||!i||(t=this._valueGet().length-t)<0&&(t=0),t}},4713:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.determineTestTemplate=h,e.getDecisionTaker=l,e.getMaskTemplate=function(t,e,i,n,r){var a=this,s=this.opts,o=this.maskset,l=s.greedy;r&&s.greedy&&(s.greedy=!1,a.maskset.tests={}),e=e||0;var u,f,g,m,_=[],v=0;do{if(!0===t&&o.validPositions[v])f=(g=r&&o.validPositions[v].match.optionality&&void 0===o.validPositions[v+1]&&(!0===o.validPositions[v].generatedInput||o.validPositions[v].input==s.skipOptionalPartCharacter&&v>0)?h.call(a,v,p.call(a,v,u,v-1)):o.validPositions[v]).match,u=g.locator.slice(),_.push(!0===i?g.input:!1===i?f.nativeDef:c.call(a,v,f));else{f=(g=d.call(a,v,u,v-1)).match,u=g.locator.slice();var y=!0!==n&&(!1!==s.jitMasking?s.jitMasking:f.jit);(m=(m||o.validPositions[v-1])&&f.static&&f.def!==s.groupSeparator&&null===f.fn)||!1===y||void 0===y||"number"==typeof y&&isFinite(y)&&y>v?_.push(!1===i?f.nativeDef:c.call(a,_.length,f)):m=!1}v++}while(!0!==f.static||""!==f.def||e>v);return""===_[_.length-1]&&_.pop(),!1===i&&void 0!==o.maskLength||(o.maskLength=v-1),s.greedy=l,_},e.getPlaceholder=c,e.getTest=u,e.getTestTemplate=d,e.getTests=p,e.isSubsetOf=f;var n,r=(n=i(2394))&&n.__esModule?n:{default:n},a=i(8711);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function o(t,e){var i=(null!=t.alternation?t.mloc[l(t)]:t.locator).join("");if(""!==i)for(i=i.split(":")[0];i.length<e;)i+="0";return i}function l(t){var e=t.locator[t.alternation];return"string"==typeof e&&e.length>0&&(e=e.split(",")[0]),void 0!==e?e.toString():""}function c(t,e,i){var n=this,r=this.opts,o=this.maskset;if(void 0!==(e=e||u.call(n,t).match).placeholder||!0===i){if(""!==e.placeholder&&!0===e.static&&!0!==e.generated){var l=a.getLastValidPosition.call(n,t),c=a.seekNext.call(n,l);return(i?t<=c:t<c)?r.staticDefinitionSymbol&&e.static?e.nativeDef:e.def:"function"==typeof e.placeholder?e.placeholder(r):e.placeholder}return"function"==typeof e.placeholder?e.placeholder(r):e.placeholder}if(!0===e.static){if(t>-1&&void 0===o.validPositions[t]){var d,h=p.call(n,t),f=[];if("string"==typeof r.placeholder&&h.length>1+(""===h[h.length-1].match.def?1:0))for(var g=0;g<h.length;g++)if(""!==h[g].match.def&&!0!==h[g].match.optionality&&!0!==h[g].match.optionalQuantifier&&(!0===h[g].match.static||void 0===d||!1!==h[g].match.fn.test(d.match.def,o,t,!0,r))&&(f.push(h[g]),!0===h[g].match.static&&(d=h[g]),f.length>1&&/[0-9a-bA-Z]/.test(f[0].match.def)))return r.placeholder.charAt(t%r.placeholder.length)}return e.def}return"object"===s(r.placeholder)?e.def:r.placeholder.charAt(t%r.placeholder.length)}function d(t,e,i){return this.maskset.validPositions[t]||h.call(this,t,p.call(this,t,e?e.slice():e,i))}function h(t,e){var i=this.opts,n=0,r=function(t,e){var i=0,n=!1;return e.forEach((function(t){t.match.optionality&&(0!==i&&i!==t.match.optionality&&(n=!0),(0===i||i>t.match.optionality)&&(i=t.match.optionality))})),i&&(0==t||1==e.length?i=0:n||(i=0)),i}(t,e);t=t>0?t-1:0;var a,s,l,c=o(u.call(this,t));i.greedy&&e.length>1&&""===e[e.length-1].match.def&&(n=1);for(var d=0;d<e.length-n;d++){var h=e[d];a=o(h,c.length);var f=Math.abs(a-c);(!0!==h.unMatchedAlternationStopped||e.filter((function(t){return!0!==t.unMatchedAlternationStopped})).length<=1)&&(void 0===s||""!==a&&f<s||l&&!i.greedy&&l.match.optionality&&l.match.optionality-r>0&&"master"===l.match.newBlockMarker&&(!h.match.optionality||h.match.optionality-r<1||!h.match.newBlockMarker)||l&&!i.greedy&&l.match.optionalQuantifier&&!h.match.optionalQuantifier)&&(s=f,l=h)}return l}function u(t,e){var i=this.maskset;return i.validPositions[t]?i.validPositions[t]:(e||p.call(this,t))[0]}function f(t,e,i){function n(t){for(var e,i=[],n=-1,r=0,a=t.length;r<a;r++)if("-"===t.charAt(r))for(e=t.charCodeAt(r+1);++n<e;)i.push(String.fromCharCode(n));else n=t.charCodeAt(r),i.push(t.charAt(r));return i.join("")}return t.match.def===e.match.nativeDef||!(!(i.regex||t.match.fn instanceof RegExp&&e.match.fn instanceof RegExp)||!0===t.match.static||!0===e.match.static)&&("."===e.match.fn.source||-1!==n(e.match.fn.source.replace(/[[\]/]/g,"")).indexOf(n(t.match.fn.source.replace(/[[\]/]/g,""))))}function p(t,e,i){var n,a,s=this,o=this.dependencyLib,l=this.maskset,c=this.opts,d=this.el,u=l.maskToken,p=e?i:0,g=e?e.slice():[0],m=[],_=!1,v=e?e.join(""):"",y=!1;function b(e,i,a,o){function h(a,o,u){function g(t,e){var i=0===e.matches.indexOf(t);return i||e.matches.every((function(n,r){return!0===n.isQuantifier?i=g(t,e.matches[r-1]):Object.prototype.hasOwnProperty.call(n,"matches")&&(i=g(t,n)),!i})),i}function x(t,e,i){var n,r;if((l.tests[t]||l.validPositions[t])&&(l.validPositions[t]?[l.validPositions[t]]:l.tests[t]).every((function(t,a){if(t.mloc[e])return n=t,!1;var s=void 0!==i?i:t.alternation,o=void 0!==t.locator[s]?t.locator[s].toString().indexOf(e):-1;return(void 0===r||o<r)&&-1!==o&&(n=t,r=o),!0})),n){var a=n.locator[n.alternation],s=n.mloc[e]||n.mloc[a]||n.locator;return-1!==s[s.length-1].toString().indexOf(":")&&s.pop(),s.slice((void 0!==i?i:n.alternation)+1)}return void 0!==i?x(t,e):void 0}function w(e,i){return!0===e.match.static&&!0!==i.match.static&&i.match.fn.test(e.match.def,l,t,!1,c,!1)}function S(t,e){var i=t.alternation,n=void 0===e||i<=e.alternation&&-1===t.locator[i].toString().indexOf(e.locator[i]);if(!n&&i>e.alternation)for(var r=0;r<i;r++)if(t.locator[r]!==e.locator[r]){i=r,n=!0;break}return!!n&&function(i){t.mloc=t.mloc||{};var n=t.locator[i];if(void 0!==n){if("string"==typeof n&&(n=n.split(",")[0]),void 0===t.mloc[n]&&(t.mloc[n]=t.locator.slice(),t.mloc[n].push(":".concat(t.alternation))),void 0!==e){for(var r in e.mloc)"string"==typeof r&&(r=parseInt(r.split(",")[0])),t.mloc[r+0]=e.mloc[r];t.locator[i]=Object.keys(t.mloc).join(",")}return t.alternation>i&&(t.alternation=i),!0}return t.alternation=void 0,!1}(i)}function T(t,e){if(t.locator.length!==e.locator.length)return!1;for(var i=t.alternation+1;i<t.locator.length;i++)if(t.locator[i]!==e.locator[i])return!1;return!0}if(p>t+c._maxTestPos)throw new Error("Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. ".concat(l.mask));if(p===t&&void 0===a.matches){if(m.push({match:a,locator:o.reverse(),cd:v,mloc:{}}),!a.optionality||void 0!==u||!(c.definitions&&c.definitions[a.nativeDef]&&c.definitions[a.nativeDef].optional||r.default.prototype.definitions[a.nativeDef]&&r.default.prototype.definitions[a.nativeDef].optional))return!0;_=!0,p=t}else if(void 0!==a.matches){if(a.isGroup&&u!==a)return function(){if(a=h(e.matches[e.matches.indexOf(a)+1],o,u))return!0}();if(a.isOptional)return function(){var e=a,r=m.length;if(a=b(a,i,o,u),m.length>0){if(m.forEach((function(t,e){e>=r&&(t.match.optionality=t.match.optionality?t.match.optionality+1:1)})),n=m[m.length-1].match,void 0!==u||!g(n,e))return a;_=!0,p=t}}();if(a.isAlternator)return function(){function n(t){for(var e,i=t.matches[0].matches?t.matches[0].matches.length:1,n=0;n<t.matches.length&&i===(e=t.matches[n].matches?t.matches[n].matches.length:1);n++);return i!==e}s.hasAlternator=!0;var r,g=a,v=[],b=m.slice(),k=o.length,E=i.length>0?i.shift():-1;if(-1===E||"string"==typeof E){var C,M=p,P=i.slice(),A=[];if("string"==typeof E)A=E.split(",");else for(C=0;C<g.matches.length;C++)A.push(C.toString());if(void 0!==l.excludes[t]){for(var $=A.slice(),D=0,I=l.excludes[t].length;D<I;D++){var L=l.excludes[t][D].toString().split(":");o.length==L[1]&&A.splice(A.indexOf(L[0]),1)}0===A.length&&(delete l.excludes[t],A=$)}(!0===c.keepStatic||isFinite(parseInt(c.keepStatic))&&M>=c.keepStatic)&&(A=A.slice(0,1));for(var O=0;O<A.length;O++){C=parseInt(A[O]),m=[],i="string"==typeof E&&x(p,C,k)||P.slice();var R=g.matches[C];if(R&&h(R,[C].concat(o),u))a=!0;else if(0===O&&(y=n(g)),R&&R.matches&&R.matches.length>g.matches[0].matches.length)break;r=m.slice(),p=M,m=[];for(var F=0;F<r.length;F++){var N=r[F],B=!1;N.alternation=N.alternation||k,S(N);for(var z=0;z<v.length;z++){var V=v[z];if("string"!=typeof E||void 0!==N.alternation&&A.includes(N.locator[N.alternation].toString())){if(N.match.nativeDef===V.match.nativeDef){B=!0,S(V,N);break}if(f(N,V,c)){S(N,V)&&(B=!0,v.splice(v.indexOf(V),0,N));break}if(f(V,N,c)){S(V,N);break}if(w(N,V)){T(N,V)||void 0!==d.inputmask.userOptions.keepStatic?S(N,V)&&(B=!0,v.splice(v.indexOf(V),0,N)):c.keepStatic=!0;break}if(w(V,N)){S(V,N);break}}}B||v.push(N)}}m=b.concat(v),p=t,_=m.length>0&&y,a=v.length>0&&!y,y&&_&&!a&&m.forEach((function(t,e){t.unMatchedAlternationStopped=!0})),i=P.slice()}else a=h(g.matches[E]||e.matches[E],[E].concat(o),u);if(a)return!0}();if(a.isQuantifier&&u!==e.matches[e.matches.indexOf(a)-1])return function(){for(var r=a,s=!1,d=i.length>0?i.shift():0;d<(isNaN(r.quantifier.max)?d+1:r.quantifier.max)&&p<=t;d++){var u=e.matches[e.matches.indexOf(r)-1];if(a=h(u,[d].concat(o),u)){if(m.forEach((function(e,i){(n=k(u,e.match)?e.match:m[m.length-1].match).optionalQuantifier=d>=r.quantifier.min,n.jit=(d+1)*(u.matches.indexOf(n)+1)>r.quantifier.jit,n.optionalQuantifier&&g(n,u)&&(_=!0,p=t,c.greedy&&null==l.validPositions[t-1]&&d>r.quantifier.min&&-1!=["*","+"].indexOf(r.quantifier.max)&&(m.pop(),v=void 0),s=!0,a=!1),!s&&n.jit&&(l.jitOffset[t]=u.matches.length-u.matches.indexOf(n))})),s)break;return!0}}}();if(a=b(a,i,o,u))return!0}else p++}for(var u=i.length>0?i.shift():0;u<e.matches.length;u++)if(!0!==e.matches[u].isQuantifier){var g=h(e.matches[u],[u].concat(a),o);if(g&&p===t)return g;if(p>t)break}}function k(t,e){var i=-1!=t.matches.indexOf(e);return i||t.matches.forEach((function(t,n){void 0===t.matches||i||(i=k(t,e))})),i}if(t>-1){if(void 0===e){for(var x,w=t-1;void 0===(x=l.validPositions[w]||l.tests[w])&&w>-1;)w--;void 0!==x&&w>-1&&(g=function(t,e){var i,n=[];return Array.isArray(e)||(e=[e]),e.length>0&&(void 0===e[0].alternation||!0===c.keepStatic?0===(n=h.call(s,t,e.slice()).locator.slice()).length&&(n=e[0].locator.slice()):e.forEach((function(t){""!==t.def&&(0===n.length?(i=t.alternation,n=t.locator.slice()):t.locator[i]&&-1===n[i].toString().indexOf(t.locator[i])&&(n[i]+=","+t.locator[i]))}))),n}(w,x),v=g.join(""),p=w)}if(l.tests[t]&&l.tests[t][0].cd===v)return l.tests[t];for(var S=g.shift();S<u.length&&!(b(u[S],g,[S])&&p===t||p>t);S++);}return(0===m.length||_)&&m.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:y&&0===m.filter((function(t){return!0!==t.unMatchedAlternationStopped})).length?[0]:[],mloc:{},cd:v}),void 0!==e&&l.tests[t]?a=o.extend(!0,[],m):(l.tests[t]=o.extend(!0,[],m),a=l.tests[t]),m.forEach((function(t){t.match.optionality=t.match.defOptionality||!1})),a}},7215:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.alternate=o,e.checkAlternationMatch=function(t,e,i){for(var n,r=this.opts.greedy?e:e.slice(0,1),a=!1,s=void 0!==i?i.split(","):[],o=0;o<s.length;o++)-1!==(n=t.indexOf(s[o]))&&t.splice(n,1);for(var l=0;l<t.length;l++)if(r.includes(t[l])){a=!0;break}return a},e.handleRemove=function(t,e,i,n,l){var c=this,d=this.maskset,h=this.opts;if((h.numericInput||c.isRTL)&&(e===r.keys.Backspace?e=r.keys.Delete:e===r.keys.Delete&&(e=r.keys.Backspace),c.isRTL)){var u=i.end;i.end=i.begin,i.begin=u}var f,p=a.getLastValidPosition.call(c,void 0,!0);i.end>=a.getBuffer.call(c).length&&p>=i.end&&(i.end=p+1),e===r.keys.Backspace?i.end-i.begin<1&&(i.begin=a.seekPrevious.call(c,i.begin)):e===r.keys.Delete&&i.begin===i.end&&(i.end=a.isMask.call(c,i.end,!0,!0)?i.end+1:a.seekNext.call(c,i.end)+1),!1!==(f=g.call(c,i))&&((!0!==n&&!1!==h.keepStatic||null!==h.regex&&-1!==s.getTest.call(c,i.begin).match.def.indexOf("|"))&&o.call(c,!0),!0!==n&&(d.p=e===r.keys.Delete?i.begin+f:i.begin,d.p=a.determineNewCaretPosition.call(c,{begin:d.p,end:d.p},!1,!1===h.insertMode&&e===r.keys.Backspace?"none":void 0).begin))},e.isComplete=c,e.isSelection=d,e.isValid=h,e.refreshFromBuffer=f,e.revalidateMask=g;var n=i(6030),r=i(2839),a=i(8711),s=i(4713);function o(t,e,i,n,r,l){var c=this,d=this.dependencyLib,u=this.opts,f=c.maskset;if(!c.hasAlternator)return!1;var p,g,m,_,v,y,b,k,x,w,S,T=d.extend(!0,[],f.validPositions),E=d.extend(!0,{},f.tests),C=!1,M=!1,P=void 0!==r?r:a.getLastValidPosition.call(c);if(l&&(w=l.begin,S=l.end,l.begin>l.end&&(w=l.end,S=l.begin)),-1===P&&void 0===r)p=0,g=(_=s.getTest.call(c,p)).alternation;else for(;P>=0;P--)if((m=f.validPositions[P])&&void 0!==m.alternation){if(P<=(t||0)&&_&&_.locator[m.alternation]!==m.locator[m.alternation])break;p=P,g=f.validPositions[p].alternation,_=m}if(void 0!==g){b=parseInt(p),f.excludes[b]=f.excludes[b]||[],!0!==t&&f.excludes[b].push((0,s.getDecisionTaker)(_)+":"+_.alternation);var A=[],$=-1;for(v=b;b<a.getLastValidPosition.call(c,void 0,!0)+1;v++)-1===$&&t<=v&&void 0!==e&&(A.push(e),$=A.length-1),(y=f.validPositions[b])&&!0!==y.generatedInput&&(void 0===l||v<w||v>=S)&&A.push(y.input),f.validPositions.splice(b,1);for(-1===$&&void 0!==e&&(A.push(e),$=A.length-1);void 0!==f.excludes[b]&&f.excludes[b].length<10;){for(f.tests={},a.resetMaskSet.call(c,!0),C=!0,v=0;v<A.length&&(k=C.caret||0==u.insertMode&&null!=k?a.seekNext.call(c,k):a.getLastValidPosition.call(c,void 0,!0)+1,x=A[v],C=h.call(c,k,x,!1,n,!0));v++)v===$&&(M=C),1==t&&C&&(M={caretPos:v});if(C)break;if(a.resetMaskSet.call(c),_=s.getTest.call(c,b),f.validPositions=d.extend(!0,[],T),f.tests=d.extend(!0,{},E),!f.excludes[b]){M=o.call(c,t,e,i,n,b-1,l);break}if(null!=_.alternation){var D=(0,s.getDecisionTaker)(_);if(-1!==f.excludes[b].indexOf(D+":"+_.alternation)){M=o.call(c,t,e,i,n,b-1,l);break}for(f.excludes[b].push(D+":"+_.alternation),v=b;v<a.getLastValidPosition.call(c,void 0,!0)+1;v++)f.validPositions.splice(b)}else delete f.excludes[b]}}return M&&!1===u.keepStatic||delete f.excludes[b],M}function l(t,e,i){var n=this.opts,a=this.maskset;switch(n.casing||e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var s=a.validPositions[i-1];t=0===i||s&&s.input===String.fromCharCode(r.keyCode.Space)?t.toUpperCase():t.toLowerCase();break;default:if("function"==typeof n.casing){var o=Array.prototype.slice.call(arguments);o.push(a.validPositions),t=n.casing.apply(this,o)}}return t}function c(t){var e=this,i=this.opts,n=this.maskset;if("function"==typeof i.isComplete)return i.isComplete(t,i);if("*"!==i.repeat){var r=!1,o=a.determineLastRequiredPosition.call(e,!0),l=o.l;if(void 0===o.def||o.def.newBlockMarker||o.def.optionality||o.def.optionalQuantifier){r=!0;for(var c=0;c<=l;c++){var d=s.getTestTemplate.call(e,c).match;if(!0!==d.static&&void 0===n.validPositions[c]&&(!1===d.optionality||void 0===d.optionality||d.optionality&&0==d.newBlockMarker)&&(!1===d.optionalQuantifier||void 0===d.optionalQuantifier)||!0===d.static&&""!=d.def&&t[c]!==s.getPlaceholder.call(e,c,d)){r=!1;break}}}return r}}function d(t){var e=this.opts.insertMode?0:1;return this.isRTL?t.begin-t.end>e:t.end-t.begin>e}function h(t,e,i,n,r,u,m){var _=this,v=this.dependencyLib,y=this.opts,b=_.maskset;i=!0===i;var k=t;function x(t){if(void 0!==t){if(void 0!==t.remove&&(Array.isArray(t.remove)||(t.remove=[t.remove]),t.remove.sort((function(t,e){return _.isRTL?t.pos-e.pos:e.pos-t.pos})).forEach((function(t){g.call(_,{begin:t,end:t+1})})),t.remove=void 0),void 0!==t.insert&&(Array.isArray(t.insert)||(t.insert=[t.insert]),t.insert.sort((function(t,e){return _.isRTL?e.pos-t.pos:t.pos-e.pos})).forEach((function(t){""!==t.c&&h.call(_,t.pos,t.c,void 0===t.strict||t.strict,void 0!==t.fromIsValid?t.fromIsValid:n)})),t.insert=void 0),t.refreshFromBuffer&&t.buffer){var e=t.refreshFromBuffer;f.call(_,!0===e?e:e.start,e.end,t.buffer),t.refreshFromBuffer=void 0}void 0!==t.rewritePosition&&(k=t.rewritePosition,t=!0)}return t}function w(e,i,r){var o=!1;return s.getTests.call(_,e).every((function(c,h){var u=c.match;if(a.getBuffer.call(_,!0),!1!==(o=(!u.jit||void 0!==b.validPositions[a.seekPrevious.call(_,e)])&&(null!=u.fn?u.fn.test(i,b,e,r,y,d.call(_,t)):(i===u.def||i===y.skipOptionalPartCharacter)&&""!==u.def&&{c:s.getPlaceholder.call(_,e,u,!0)||u.def,pos:e}))){var f=void 0!==o.c?o.c:i,p=e;return f=f===y.skipOptionalPartCharacter&&!0===u.static?s.getPlaceholder.call(_,e,u,!0)||u.def:f,!0!==(o=x(o))&&void 0!==o.pos&&o.pos!==e&&(p=o.pos),!0!==o&&void 0===o.pos&&void 0===o.c||!1===g.call(_,t,v.extend({},c,{input:l.call(_,f,u,p)}),n,p)&&(o=!1),!1}return!0})),o}void 0!==t.begin&&(k=_.isRTL?t.end:t.begin);var S=!0,T=v.extend(!0,[],b.validPositions);if(!1===y.keepStatic&&void 0!==b.excludes[k]&&!0!==r&&!0!==n)for(var E=k;E<(_.isRTL?t.begin:t.end);E++)void 0!==b.excludes[E]&&(b.excludes[E]=void 0,delete b.tests[E]);if("function"==typeof y.preValidation&&!0!==n&&!0!==u&&(S=x(S=y.preValidation.call(_,a.getBuffer.call(_),k,e,d.call(_,t),y,b,t,i||r))),!0===S){if(S=w(k,e,i),(!i||!0===n)&&!1===S&&!0!==u){var C=b.validPositions[k];if(!C||!0!==C.match.static||C.match.def!==e&&e!==y.skipOptionalPartCharacter){if(y.insertMode||void 0===b.validPositions[a.seekNext.call(_,k)]||t.end>k){var M=!1;if(b.jitOffset[k]&&void 0===b.validPositions[a.seekNext.call(_,k)]&&!1!==(S=h.call(_,k+b.jitOffset[k],e,!0,!0))&&(!0!==r&&(S.caret=k),M=!0),t.end>k&&(b.validPositions[k]=void 0),!M&&!a.isMask.call(_,k,y.keepStatic&&0===k))for(var P=k+1,A=a.seekNext.call(_,k,!1,0!==k);P<=A;P++)if(!1!==(S=w(P,e,i))){S=p.call(_,k,void 0!==S.pos?S.pos:P)||S,k=P;break}}}else S={caret:a.seekNext.call(_,k)}}_.hasAlternator&&!0!==r&&!i&&(r=!0,!1===S&&y.keepStatic&&(c.call(_,a.getBuffer.call(_))||0===k)?S=o.call(_,k,e,i,n,void 0,t):(d.call(_,t)&&b.tests[k]&&b.tests[k].length>1&&y.keepStatic||1==S&&!0!==y.numericInput&&b.tests[k]&&b.tests[k].length>1&&a.getLastValidPosition.call(_,void 0,!0)>k)&&(S=o.call(_,!0))),!0===S&&(S={pos:k})}if("function"==typeof y.postValidation&&!0!==n&&!0!==u){var $=y.postValidation.call(_,a.getBuffer.call(_,!0),void 0!==t.begin?_.isRTL?t.end:t.begin:t,e,S,y,b,i,m);void 0!==$&&(S=!0===$?S:$)}S&&void 0===S.pos&&(S.pos=k),!1===S||!0===u?(a.resetMaskSet.call(_,!0),b.validPositions=v.extend(!0,[],T)):p.call(_,void 0,k,!0);var D=x(S);return void 0!==_.maxLength&&a.getBuffer.call(_).length>_.maxLength&&!n&&(a.resetMaskSet.call(_,!0),b.validPositions=v.extend(!0,[],T),D=!1),D}function u(t,e,i){for(var n=this.maskset,r=!1,a=s.getTests.call(this,t),o=0;o<a.length;o++){if(a[o].match&&(a[o].match.nativeDef===e.match[i.shiftPositions?"def":"nativeDef"]&&(!i.shiftPositions||!e.match.static)||a[o].match.nativeDef===e.match.nativeDef||i.regex&&!a[o].match.static&&a[o].match.fn.test(e.input,n,t,!1,i))){r=!0;break}if(a[o].match&&a[o].match.def===e.match.nativeDef){r=void 0;break}}return!1===r&&void 0!==n.jitOffset[t]&&(r=u.call(this,t+n.jitOffset[t],e,i)),r}function f(t,e,i){var r,s,o=this,l=this.maskset,c=this.opts,d=this.dependencyLib,h=c.skipOptionalPartCharacter,u=o.isRTL?i.slice().reverse():i;if(c.skipOptionalPartCharacter="",!0===t)a.resetMaskSet.call(o,!1),t=0,e=i.length,s=a.determineNewCaretPosition.call(o,{begin:0,end:0},!1).begin;else{for(r=t;r<e;r++)l.validPositions.splice(t,0);s=t}var f=new d.Event("keypress");for(r=t;r<e;r++){f.key=u[r].toString(),o.ignorable=!1;var p=n.EventHandlers.keypressEvent.call(o,f,!0,!1,!1,s);!1!==p&&void 0!==p&&(s=p.forwardPosition)}c.skipOptionalPartCharacter=h}function p(t,e,i){var n=this,r=this.maskset,o=this.dependencyLib;if(void 0===t)for(t=e-1;t>0&&!r.validPositions[t];t--);for(var l=t;l<e;l++)if(void 0===r.validPositions[l]&&!a.isMask.call(n,l,!1)&&(0==l?s.getTest.call(n,l):r.validPositions[l-1])){var c=s.getTests.call(n,l).slice();""===c[c.length-1].match.def&&c.pop();var d,u=s.determineTestTemplate.call(n,l,c);if(u&&(!0!==u.match.jit||"master"===u.match.newBlockMarker&&(d=r.validPositions[l+1])&&!0===d.match.optionalQuantifier)&&((u=o.extend({},u,{input:s.getPlaceholder.call(n,l,u.match,!0)||u.match.def})).generatedInput=!0,g.call(n,l,u,!0),!0!==i)){var f=r.validPositions[e].input;return r.validPositions[e]=void 0,h.call(n,e,f,!0,!0)}}}function g(t,e,i,n){var r=this,o=this.maskset,l=this.opts,c=this.dependencyLib;function f(t,e,i){var n=e[t];if(void 0!==n&&!0===n.match.static&&!0!==n.match.optionality&&(void 0===e[0]||void 0===e[0].alternation)){var r=i.begin<=t-1?e[t-1]&&!0===e[t-1].match.static&&e[t-1]:e[t-1],a=i.end>t+1?e[t+1]&&!0===e[t+1].match.static&&e[t+1]:e[t+1];return r&&a}return!1}var p=0,g=void 0!==t.begin?t.begin:t,m=void 0!==t.end?t.end:t,_=!0;if(t.begin>t.end&&(g=t.end,m=t.begin),n=void 0!==n?n:g,void 0===i&&(g!==m||l.insertMode&&void 0!==o.validPositions[n]||void 0===e||e.match.optionalQuantifier||e.match.optionality)){var v,y=c.extend(!0,[],o.validPositions),b=a.getLastValidPosition.call(r,void 0,!0);o.p=g;var k=d.call(r,t)?g:n;for(v=b;v>=k;v--)o.validPositions.splice(v,1),void 0===e&&delete o.tests[v+1];var x,w,S=n,T=S;for(e&&(o.validPositions[n]=c.extend(!0,{},e),T++,S++),null==y[m]&&o.jitOffset[m]&&(m+=o.jitOffset[m]+1),v=e?m:m-1;v<=b;v++){if(void 0!==(x=y[v])&&!0!==x.generatedInput&&(v>=m||v>=g&&f(v,y,{begin:g,end:m}))){for(;""!==s.getTest.call(r,T).match.def;){if(!1!==(w=u.call(r,T,x,l))||"+"===x.match.def){"+"===x.match.def&&a.getBuffer.call(r,!0);var E=h.call(r,T,x.input,"+"!==x.match.def,!0);if(_=!1!==E,S=(E.pos||T)+1,!_&&w)break}else _=!1;if(_){void 0===e&&x.match.static&&v===t.begin&&p++;break}if(!_&&a.getBuffer.call(r),T>o.maskLength)break;T++}""==s.getTest.call(r,T).match.def&&(_=!1),T=S}if(!_)break}if(!_)return o.validPositions=c.extend(!0,[],y),a.resetMaskSet.call(r,!0),!1}else e&&s.getTest.call(r,n).match.cd===e.match.cd&&(o.validPositions[n]=c.extend(!0,{},e));return a.resetMaskSet.call(r,!0),p}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,i),a.exports}var n={};return function(){var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(7149),i(3194),i(9302),i(4013),i(3851),i(219),i(207),i(5296);var e,r=(e=i(2394))&&e.__esModule?e:{default:e};t.default=r.default}(),n}()}));var Swiper=function(){"use strict";function t(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function e(i,n){void 0===i&&(i={}),void 0===n&&(n={}),Object.keys(n).forEach((r=>{void 0===i[r]?i[r]=n[r]:t(n[r])&&t(i[r])&&Object.keys(n[r]).length>0&&e(i[r],n[r])}))}const i={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function n(){const t="undefined"!=typeof document?document:{};return e(t,i),t}const r={document:i,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function a(){const t="undefined"!=typeof window?window:{};return e(t,r),t}function s(t){return void 0===t&&(t=""),t.trim().split(" ").filter((t=>!!t.trim()))}function o(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function l(){return Date.now()}function c(t,e){void 0===e&&(e="x");const i=a();let n,r,s;const o=function(t){const e=a();let i;return e.getComputedStyle&&(i=e.getComputedStyle(t,null)),!i&&t.currentStyle&&(i=t.currentStyle),i||(i=t.style),i}(t);return i.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map((t=>t.replace(",","."))).join(", ")),s=new i.WebKitCSSMatrix("none"===r?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=s.toString().split(",")),"x"===e&&(r=i.WebKitCSSMatrix?s.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(r=i.WebKitCSSMatrix?s.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function d(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function h(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(null!=r&&(i=r,!("undefined"!=typeof window&&void 0!==window.HTMLElement?i instanceof HTMLElement:i&&(1===i.nodeType||11===i.nodeType)))){const i=Object.keys(Object(r)).filter((t=>e.indexOf(t)<0));for(let e=0,n=i.length;e<n;e+=1){const n=i[e],a=Object.getOwnPropertyDescriptor(r,n);void 0!==a&&a.enumerable&&(d(t[n])&&d(r[n])?r[n].__swiper__?t[n]=r[n]:h(t[n],r[n]):!d(t[n])&&d(r[n])?(t[n]={},r[n].__swiper__?t[n]=r[n]:h(t[n],r[n])):t[n]=r[n])}}}var i;return t}function u(t,e,i){t.style.setProperty(e,i)}function f(t){let{swiper:e,targetPosition:i,side:n}=t;const r=a(),s=-e.translate;let o,l=null;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const d=i>s?"next":"prev",h=(t,e)=>"next"===d&&t>=e||"prev"===d&&t<=e,u=()=>{o=(new Date).getTime(),null===l&&(l=o);const t=Math.max(Math.min((o-l)/c,1),0),a=.5-Math.cos(t*Math.PI)/2;let d=s+a*(i-s);if(h(d,i)&&(d=i),e.wrapperEl.scrollTo({[n]:d}),h(d,i))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout((()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:d})})),void r.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=r.requestAnimationFrame(u)};u()}function p(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function g(t,e){void 0===e&&(e="");const i=[...t.children];return t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter((t=>t.matches(e))):i}function m(t){try{return void console.warn(t)}catch(t){}}function _(t,e){void 0===e&&(e=[]);const i=document.createElement(t);return i.classList.add(...Array.isArray(e)?e:s(e)),i}function v(t){const e=a(),i=n(),r=t.getBoundingClientRect(),s=i.body,o=t.clientTop||s.clientTop||0,l=t.clientLeft||s.clientLeft||0,c=t===e?e.scrollY:t.scrollTop,d=t===e?e.scrollX:t.scrollLeft;return{top:r.top+c-o,left:r.left+d-l}}function y(t,e){return a().getComputedStyle(t,null).getPropertyValue(e)}function b(t){let e,i=t;if(i){for(e=0;null!==(i=i.previousSibling);)1===i.nodeType&&(e+=1);return e}}function k(t,e){const i=[];let n=t.parentElement;for(;n;)e?n.matches(e)&&i.push(n):i.push(n),n=n.parentElement;return i}function x(t,e){e&&t.addEventListener("transitionend",(function i(n){n.target===t&&(e.call(t,n),t.removeEventListener("transitionend",i))}))}function w(t,e,i){const n=a();return i?t["width"===e?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-left":"margin-bottom")):t.offsetWidth}function S(t){return(Array.isArray(t)?t:[t]).filter((t=>!!t))}function T(t){return e=>Math.abs(e)>0&&t.browser&&t.browser.need3dFix&&Math.abs(e)%90==0?e+.001:e}let E,C,M;function P(){return E||(E=function(){const t=a(),e=n();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}()),E}function A(t){return void 0===t&&(t={}),C||(C=function(t){let{userAgent:e}=void 0===t?{}:t;const i=P(),n=a(),r=n.navigator.platform,s=e||n.navigator.userAgent,o={ios:!1,android:!1},l=n.screen.width,c=n.screen.height,d=s.match(/(Android);?[\s\/]+([\d.]+)?/);let h=s.match(/(iPad).*OS\s([\d_]+)/);const u=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!h&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===r;let g="MacIntel"===r;return!h&&g&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${l}x${c}`)>=0&&(h=s.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),g=!1),d&&!p&&(o.os="android",o.android=!0),(h||f||u)&&(o.os="ios",o.ios=!0),o}(t)),C}function $(){return M||(M=function(){const t=a(),e=A();let i=!1;function n(){const e=t.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}if(n()){const e=String(t.navigator.userAgent);if(e.includes("Version/")){const[t,n]=e.split("Version/")[1].split(" ")[0].split(".").map((t=>Number(t)));i=t<16||16===t&&n<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=n();return{isSafari:i||s,needPerspectiveFix:i,need3dFix:s||r&&e.ios,isWebView:r}}()),M}var D={on(t,e,i){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof e)return n;const r=i?"unshift":"push";return t.split(" ").forEach((t=>{n.eventsListeners[t]||(n.eventsListeners[t]=[]),n.eventsListeners[t][r](e)})),n},once(t,e,i){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof e)return n;function r(){n.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];e.apply(n,a)}return r.__emitterProxy=e,n.on(t,r,i)},onAny(t,e){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof t)return i;const n=e?"unshift":"push";return i.eventsAnyListeners.indexOf(t)<0&&i.eventsAnyListeners[n](t),i},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsAnyListeners)return e;const i=e.eventsAnyListeners.indexOf(t);return i>=0&&e.eventsAnyListeners.splice(i,1),e},off(t,e){const i=this;return!i.eventsListeners||i.destroyed?i:i.eventsListeners?(t.split(" ").forEach((t=>{void 0===e?i.eventsListeners[t]=[]:i.eventsListeners[t]&&i.eventsListeners[t].forEach(((n,r)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&i.eventsListeners[t].splice(r,1)}))})),i):i},emit(){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let e,i,n;for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return"string"==typeof a[0]||Array.isArray(a[0])?(e=a[0],i=a.slice(1,a.length),n=t):(e=a[0].events,i=a[0].data,n=a[0].context||t),i.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach((e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach((t=>{t.apply(n,[e,...i])})),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach((t=>{t.apply(n,i)}))})),t}};const I=(t,e,i)=>{e&&!t.classList.contains(i)?t.classList.add(i):!e&&t.classList.contains(i)&&t.classList.remove(i)},L=(t,e,i)=>{e&&!t.classList.contains(i)?t.classList.add(i):!e&&t.classList.contains(i)&&t.classList.remove(i)},O=(t,e)=>{if(!t||t.destroyed||!t.params)return;const i=e.closest(t.isElement?"swiper-slide":`.${t.params.slideClass}`);if(i){let e=i.querySelector(`.${t.params.lazyPreloaderClass}`);!e&&t.isElement&&(i.shadowRoot?e=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{i.shadowRoot&&(e=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),e&&e.remove())}))),e&&e.remove()}},R=(t,e)=>{if(!t.slides[e])return;const i=t.slides[e].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},F=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const i=t.slides.length;if(!i||!e||e<0)return;e=Math.min(e,i);const n="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const i=r,a=[i-e];return a.push(...Array.from({length:e}).map(((t,e)=>i+n+e))),void t.slides.forEach(((e,i)=>{a.includes(e.column)&&R(t,i)}))}const a=r+n-1;if(t.params.rewind||t.params.loop)for(let n=r-e;n<=a+e;n+=1){const e=(n%i+i)%i;(e<r||e>a)&&R(t,e)}else for(let n=Math.max(r-e,0);n<=Math.min(a+e,i-1);n+=1)n!==r&&(n>a||n<r)&&R(t,n)};var N={updateSize:function(){const t=this;let e,i;const n=t.el;e=void 0!==t.params.width&&null!==t.params.width?t.params.width:n.clientWidth,i=void 0!==t.params.height&&null!==t.params.height?t.params.height:n.clientHeight,0===e&&t.isHorizontal()||0===i&&t.isVertical()||(e=e-parseInt(y(n,"padding-left")||0,10)-parseInt(y(n,"padding-right")||0,10),i=i-parseInt(y(n,"padding-top")||0,10)-parseInt(y(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(i)&&(i=0),Object.assign(t,{width:e,height:i,size:t.isHorizontal()?e:i}))},updateSlides:function(){const t=this;function e(e,i){return parseFloat(e.getPropertyValue(t.getDirectionLabel(i))||0)}const i=t.params,{wrapperEl:n,slidesEl:r,size:a,rtlTranslate:s,wrongRTL:o}=t,l=t.virtual&&i.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,d=g(r,`.${t.params.slideClass}, swiper-slide`),h=l?t.virtual.slides.length:d.length;let f=[];const p=[],m=[];let _=i.slidesOffsetBefore;"function"==typeof _&&(_=i.slidesOffsetBefore.call(t));let v=i.slidesOffsetAfter;"function"==typeof v&&(v=i.slidesOffsetAfter.call(t));const b=t.snapGrid.length,k=t.slidesGrid.length;let x=i.spaceBetween,S=-_,T=0,E=0;if(void 0===a)return;"string"==typeof x&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*a:"string"==typeof x&&(x=parseFloat(x)),t.virtualSize=-x,d.forEach((t=>{s?t.style.marginLeft="":t.style.marginRight="",t.style.marginBottom="",t.style.marginTop=""})),i.centeredSlides&&i.cssMode&&(u(n,"--swiper-centered-offset-before",""),u(n,"--swiper-centered-offset-after",""));const C=i.grid&&i.grid.rows>1&&t.grid;let M;C?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();const P="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter((t=>void 0!==i.breakpoints[t].slidesPerView)).length>0;for(let n=0;n<h;n+=1){let r;if(M=0,d[n]&&(r=d[n]),C&&t.grid.updateSlide(n,r,d),!d[n]||"none"!==y(r,"display")){if("auto"===i.slidesPerView){P&&(d[n].style[t.getDirectionLabel("width")]="");const a=getComputedStyle(r),s=r.style.transform,o=r.style.webkitTransform;if(s&&(r.style.transform="none"),o&&(r.style.webkitTransform="none"),i.roundLengths)M=t.isHorizontal()?w(r,"width",!0):w(r,"height",!0);else{const t=e(a,"width"),i=e(a,"padding-left"),n=e(a,"padding-right"),s=e(a,"margin-left"),o=e(a,"margin-right"),l=a.getPropertyValue("box-sizing");if(l&&"border-box"===l)M=t+s+o;else{const{clientWidth:e,offsetWidth:a}=r;M=t+i+n+s+o+(a-e)}}s&&(r.style.transform=s),o&&(r.style.webkitTransform=o),i.roundLengths&&(M=Math.floor(M))}else M=(a-(i.slidesPerView-1)*x)/i.slidesPerView,i.roundLengths&&(M=Math.floor(M)),d[n]&&(d[n].style[t.getDirectionLabel("width")]=`${M}px`);d[n]&&(d[n].swiperSlideSize=M),m.push(M),i.centeredSlides?(S=S+M/2+T/2+x,0===T&&0!==n&&(S=S-a/2-x),0===n&&(S=S-a/2-x),Math.abs(S)<.001&&(S=0),i.roundLengths&&(S=Math.floor(S)),E%i.slidesPerGroup==0&&f.push(S),p.push(S)):(i.roundLengths&&(S=Math.floor(S)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup==0&&f.push(S),p.push(S),S=S+M+x),t.virtualSize+=M+x,T=M,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+v,s&&o&&("slide"===i.effect||"coverflow"===i.effect)&&(n.style.width=`${t.virtualSize+x}px`),i.setWrapperSize&&(n.style[t.getDirectionLabel("width")]=`${t.virtualSize+x}px`),C&&t.grid.updateWrapperSize(M,f),!i.centeredSlides){const e=[];for(let n=0;n<f.length;n+=1){let r=f[n];i.roundLengths&&(r=Math.floor(r)),f[n]<=t.virtualSize-a&&e.push(r)}f=e,Math.floor(t.virtualSize-a)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-a)}if(l&&i.loop){const e=m[0]+x;if(i.slidesPerGroup>1){const n=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/i.slidesPerGroup),r=e*i.slidesPerGroup;for(let t=0;t<n;t+=1)f.push(f[f.length-1]+r)}for(let n=0;n<t.virtual.slidesBefore+t.virtual.slidesAfter;n+=1)1===i.slidesPerGroup&&f.push(f[f.length-1]+e),p.push(p[p.length-1]+e),t.virtualSize+=e}if(0===f.length&&(f=[0]),0!==x){const e=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");d.filter(((t,e)=>!(i.cssMode&&!i.loop)||e!==d.length-1)).forEach((t=>{t.style[e]=`${x}px`}))}if(i.centeredSlides&&i.centeredSlidesBounds){let t=0;m.forEach((e=>{t+=e+(x||0)})),t-=x;const e=t-a;f=f.map((t=>t<=0?-_:t>e?e+v:t))}if(i.centerInsufficientSlides){let t=0;m.forEach((e=>{t+=e+(x||0)})),t-=x;const e=(i.slidesOffsetBefore||0)+(i.slidesOffsetAfter||0);if(t+e<a){const i=(a-t-e)/2;f.forEach(((t,e)=>{f[e]=t-i})),p.forEach(((t,e)=>{p[e]=t+i}))}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:p,slidesSizesGrid:m}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){u(n,"--swiper-centered-offset-before",-f[0]+"px"),u(n,"--swiper-centered-offset-after",t.size/2-m[m.length-1]/2+"px");const e=-t.snapGrid[0],i=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map((t=>t+e)),t.slidesGrid=t.slidesGrid.map((t=>t+i))}if(h!==c&&t.emit("slidesLengthChange"),f.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==k&&t.emit("slidesGridLengthChange"),i.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!(l||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const e=`${i.containerModifierClass}backface-hidden`,n=t.el.classList.contains(e);h<=i.maxBackfaceHiddenSlides?n||t.el.classList.add(e):n&&t.el.classList.remove(e)}},updateAutoHeight:function(t){const e=this,i=[],n=e.virtual&&e.params.virtual.enabled;let r,a=0;"number"==typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed);const s=t=>n?e.slides[e.getSlideIndexByData(t)]:e.slides[t];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach((t=>{i.push(t)}));else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const t=e.activeIndex+r;if(t>e.slides.length&&!n)break;i.push(s(t))}else i.push(s(e.activeIndex));for(r=0;r<i.length;r+=1)if(void 0!==i[r]){const t=i[r].offsetHeight;a=t>a?t:a}(a||0===a)&&(e.wrapperEl.style.height=`${a}px`)},updateSlidesOffset:function(){const t=this,e=t.slides,i=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-i-t.cssOverflowAdjustment()},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);const e=this,i=e.params,{slides:n,rtlTranslate:r,snapGrid:a}=e;if(0===n.length)return;void 0===n[0].swiperSlideOffset&&e.updateSlidesOffset();let s=-t;r&&(s=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=i.spaceBetween;"string"==typeof o&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:"string"==typeof o&&(o=parseFloat(o));for(let t=0;t<n.length;t+=1){const l=n[t];let c=l.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(c-=n[0].swiperSlideOffset);const d=(s+(i.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+o),h=(s-a[0]+(i.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+o),u=-(s-c),f=u+e.slidesSizesGrid[t],p=u>=0&&u<=e.size-e.slidesSizesGrid[t],g=u>=0&&u<e.size-1||f>1&&f<=e.size||u<=0&&f>=e.size;g&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(t)),I(l,g,i.slideVisibleClass),I(l,p,i.slideFullyVisibleClass),l.progress=r?-d:d,l.originalProgress=r?-h:h}},updateProgress:function(t){const e=this;if(void 0===t){const i=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*i||0}const i=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:a,isEnd:s,progressLoop:o}=e;const l=a,c=s;if(0===n)r=0,a=!0,s=!0;else{r=(t-e.minTranslate())/n;const i=Math.abs(t-e.minTranslate())<1,o=Math.abs(t-e.maxTranslate())<1;a=i||r<=0,s=o||r>=1,i&&(r=0),o&&(r=1)}if(i.loop){const i=e.getSlideIndexByData(0),n=e.getSlideIndexByData(e.slides.length-1),r=e.slidesGrid[i],a=e.slidesGrid[n],s=e.slidesGrid[e.slidesGrid.length-1],l=Math.abs(t);o=l>=r?(l-r)/s:(l+s-a)/s,o>1&&(o-=1)}Object.assign(e,{progress:r,progressLoop:o,isBeginning:a,isEnd:s}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&e.updateSlidesProgress(t),a&&!l&&e.emit("reachBeginning toEdge"),s&&!c&&e.emit("reachEnd toEdge"),(l&&!a||c&&!s)&&e.emit("fromEdge"),e.emit("progress",r)},updateSlidesClasses:function(){const t=this,{slides:e,params:i,slidesEl:n,activeIndex:r}=t,a=t.virtual&&i.virtual.enabled,s=t.grid&&i.grid&&i.grid.rows>1,o=t=>g(n,`.${i.slideClass}${t}, swiper-slide${t}`)[0];let l,c,d;if(a)if(i.loop){let e=r-t.virtual.slidesBefore;e<0&&(e=t.virtual.slides.length+e),e>=t.virtual.slides.length&&(e-=t.virtual.slides.length),l=o(`[data-swiper-slide-index="${e}"]`)}else l=o(`[data-swiper-slide-index="${r}"]`);else s?(l=e.filter((t=>t.column===r))[0],d=e.filter((t=>t.column===r+1))[0],c=e.filter((t=>t.column===r-1))[0]):l=e[r];l&&(s||(d=function(t,e){const i=[];for(;t.nextElementSibling;){const n=t.nextElementSibling;e?n.matches(e)&&i.push(n):i.push(n),t=n}return i}(l,`.${i.slideClass}, swiper-slide`)[0],i.loop&&!d&&(d=e[0]),c=function(t,e){const i=[];for(;t.previousElementSibling;){const n=t.previousElementSibling;e?n.matches(e)&&i.push(n):i.push(n),t=n}return i}(l,`.${i.slideClass}, swiper-slide`)[0],i.loop&&0===!c&&(c=e[e.length-1]))),e.forEach((t=>{L(t,t===l,i.slideActiveClass),L(t,t===d,i.slideNextClass),L(t,t===c,i.slidePrevClass)})),t.emitSlidesClasses()},updateActiveIndex:function(t){const e=this,i=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:r,activeIndex:a,realIndex:s,snapIndex:o}=e;let l,c=t;const d=t=>{let i=t-e.virtual.slidesBefore;return i<0&&(i=e.virtual.slides.length+i),i>=e.virtual.slides.length&&(i-=e.virtual.slides.length),i};if(void 0===c&&(c=function(t){const{slidesGrid:e,params:i}=t,n=t.rtlTranslate?t.translate:-t.translate;let r;for(let t=0;t<e.length;t+=1)void 0!==e[t+1]?n>=e[t]&&n<e[t+1]-(e[t+1]-e[t])/2?r=t:n>=e[t]&&n<e[t+1]&&(r=t+1):n>=e[t]&&(r=t);return i.normalizeSlideIndex&&(r<0||void 0===r)&&(r=0),r}(e)),n.indexOf(i)>=0)l=n.indexOf(i);else{const t=Math.min(r.slidesPerGroupSkip,c);l=t+Math.floor((c-t)/r.slidesPerGroup)}if(l>=n.length&&(l=n.length-1),c===a&&!e.params.loop)return void(l!==o&&(e.snapIndex=l,e.emit("snapIndexChange")));if(c===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled)return void(e.realIndex=d(c));const h=e.grid&&r.grid&&r.grid.rows>1;let u;if(e.virtual&&r.virtual.enabled&&r.loop)u=d(c);else if(h){const t=e.slides.filter((t=>t.column===c))[0];let i=parseInt(t.getAttribute("data-swiper-slide-index"),10);Number.isNaN(i)&&(i=Math.max(e.slides.indexOf(t),0)),u=Math.floor(i/r.grid.rows)}else if(e.slides[c]){const t=e.slides[c].getAttribute("data-swiper-slide-index");u=t?parseInt(t,10):c}else u=c;Object.assign(e,{previousSnapIndex:o,snapIndex:l,previousRealIndex:s,realIndex:u,previousIndex:a,activeIndex:c}),e.initialized&&F(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(s!==u&&e.emit("realIndexChange"),e.emit("slideChange"))},updateClickedSlide:function(t,e){const i=this,n=i.params;let r=t.closest(`.${n.slideClass}, swiper-slide`);!r&&i.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach((t=>{!r&&t.matches&&t.matches(`.${n.slideClass}, swiper-slide`)&&(r=t)}));let a,s=!1;if(r)for(let t=0;t<i.slides.length;t+=1)if(i.slides[t]===r){s=!0,a=t;break}if(!r||!s)return i.clickedSlide=void 0,void(i.clickedIndex=void 0);i.clickedSlide=r,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):i.clickedIndex=a,n.slideToClickedSlide&&void 0!==i.clickedIndex&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}},B={getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");const{params:e,rtlTranslate:i,translate:n,wrapperEl:r}=this;if(e.virtualTranslate)return i?-n:n;if(e.cssMode)return n;let a=c(r,t);return a+=this.cssOverflowAdjustment(),i&&(a=-a),a||0},setTranslate:function(t,e){const i=this,{rtlTranslate:n,params:r,wrapperEl:a,progress:s}=i;let o,l=0,c=0;i.isHorizontal()?l=n?-t:t:c=t,r.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?l:c,r.cssMode?a[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-l:-c:r.virtualTranslate||(i.isHorizontal()?l-=i.cssOverflowAdjustment():c-=i.cssOverflowAdjustment(),a.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const d=i.maxTranslate()-i.minTranslate();o=0===d?0:(t-i.minTranslate())/d,o!==s&&i.updateProgress(t),i.emit("setTranslate",i.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t,e,i,n,r){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===i&&(i=!0),void 0===n&&(n=!0);const a=this,{params:s,wrapperEl:o}=a;if(a.animating&&s.preventInteractionOnTransition)return!1;const l=a.minTranslate(),c=a.maxTranslate();let d;if(d=n&&t>l?l:n&&t<c?c:t,a.updateProgress(d),s.cssMode){const t=a.isHorizontal();if(0===e)o[t?"scrollLeft":"scrollTop"]=-d;else{if(!a.support.smoothScroll)return f({swiper:a,targetPosition:-d,side:t?"left":"top"}),!0;o.scrollTo({[t?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===e?(a.setTransition(0),a.setTranslate(d),i&&(a.emit("beforeTransitionStart",e,r),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(d),i&&(a.emit("beforeTransitionStart",e,r),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(t){a&&!a.destroyed&&t.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,i&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}};function z(t){let{swiper:e,runCallbacks:i,direction:n,step:r}=t;const{activeIndex:a,previousIndex:s}=e;let o=n;if(o||(o=a>s?"next":a<s?"prev":"reset"),e.emit(`transition${r}`),i&&a!==s){if("reset"===o)return void e.emit(`slideResetTransition${r}`);e.emit(`slideChangeTransition${r}`),"next"===o?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}var V={slideTo:function(t,e,i,n,r){void 0===t&&(t=0),void 0===i&&(i=!0),"string"==typeof t&&(t=parseInt(t,10));const a=this;let s=t;s<0&&(s=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:h,rtlTranslate:u,wrapperEl:p,enabled:g}=a;if(!g&&!n&&!r||a.destroyed||a.animating&&o.preventInteractionOnTransition)return!1;void 0===e&&(e=a.params.speed);const m=Math.min(a.params.slidesPerGroupSkip,s);let _=m+Math.floor((s-m)/a.params.slidesPerGroup);_>=l.length&&(_=l.length-1);const v=-l[_];if(o.normalizeSlideIndex)for(let t=0;t<c.length;t+=1){const e=-Math.floor(100*v),i=Math.floor(100*c[t]),n=Math.floor(100*c[t+1]);void 0!==c[t+1]?e>=i&&e<n-(n-i)/2?s=t:e>=i&&e<n&&(s=t+1):e>=i&&(s=t)}if(a.initialized&&s!==h){if(!a.allowSlideNext&&(u?v>a.translate&&v>a.minTranslate():v<a.translate&&v<a.minTranslate()))return!1;if(!a.allowSlidePrev&&v>a.translate&&v>a.maxTranslate()&&(h||0)!==s)return!1}let y;if(s!==(d||0)&&i&&a.emit("beforeSlideChangeStart"),a.updateProgress(v),y=s>h?"next":s<h?"prev":"reset",u&&-v===a.translate||!u&&v===a.translate)return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==o.effect&&a.setTranslate(v),"reset"!==y&&(a.transitionStart(i,y),a.transitionEnd(i,y)),!1;if(o.cssMode){const t=a.isHorizontal(),i=u?v:-v;if(0===e){const e=a.virtual&&a.params.virtual.enabled;e&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),e&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{p[t?"scrollLeft":"scrollTop"]=i}))):p[t?"scrollLeft":"scrollTop"]=i,e&&requestAnimationFrame((()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1}))}else{if(!a.support.smoothScroll)return f({swiper:a,targetPosition:i,side:t?"left":"top"}),!0;p.scrollTo({[t?"left":"top"]:i,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(v),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,n),a.transitionStart(i,y),0===e?a.transitionEnd(i,y):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(t){a&&!a.destroyed&&t.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(i,y))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(t,e,i,n){void 0===t&&(t=0),void 0===i&&(i=!0),"string"==typeof t&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;void 0===e&&(e=r.params.speed);const a=r.grid&&r.params.grid&&r.params.grid.rows>1;let s=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)s+=r.virtual.slidesBefore;else{let t;if(a){const e=s*r.params.grid.rows;t=r.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0].column}else t=r.getSlideIndexByData(s);const e=a?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:i}=r.params;let o=r.params.slidesPerView;"auto"===o?o=r.slidesPerViewDynamic():(o=Math.ceil(parseFloat(r.params.slidesPerView,10)),i&&o%2==0&&(o+=1));let l=e-t<o;if(i&&(l=l||t<Math.ceil(o/2)),n&&i&&"auto"!==r.params.slidesPerView&&!a&&(l=!1),l){const n=i?t<r.activeIndex?"prev":"next":t-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:n,slideTo:!0,activeSlideIndex:"next"===n?t+1:t-e+1,slideRealIndex:"next"===n?r.realIndex:void 0})}if(a){const t=s*r.params.grid.rows;s=r.slides.filter((e=>1*e.getAttribute("data-swiper-slide-index")===t))[0].column}else s=r.getSlideIndexByData(s)}return requestAnimationFrame((()=>{r.slideTo(s,e,i,n)})),r},slideNext:function(t,e,i){void 0===e&&(e=!0);const n=this,{enabled:r,params:a,animating:s}=n;if(!r||n.destroyed)return n;void 0===t&&(t=n.params.speed);let o=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(o=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<a.slidesPerGroupSkip?1:o,c=n.virtual&&a.virtual.enabled;if(a.loop){if(s&&!c&&a.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&a.cssMode)return requestAnimationFrame((()=>{n.slideTo(n.activeIndex+l,t,e,i)})),!0}return a.rewind&&n.isEnd?n.slideTo(0,t,e,i):n.slideTo(n.activeIndex+l,t,e,i)},slidePrev:function(t,e,i){void 0===e&&(e=!0);const n=this,{params:r,snapGrid:a,slidesGrid:s,rtlTranslate:o,enabled:l,animating:c}=n;if(!l||n.destroyed)return n;void 0===t&&(t=n.params.speed);const d=n.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}function h(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}const u=h(o?n.translate:-n.translate),f=a.map((t=>h(t)));let p=a[f.indexOf(u)-1];if(void 0===p&&r.cssMode){let t;a.forEach(((e,i)=>{u>=e&&(t=i)})),void 0!==t&&(p=a[t>0?t-1:t])}let g=0;if(void 0!==p&&(g=s.indexOf(p),g<0&&(g=n.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(g=g-n.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),r.rewind&&n.isBeginning){const r=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(r,t,e,i)}return r.loop&&0===n.activeIndex&&r.cssMode?(requestAnimationFrame((()=>{n.slideTo(g,t,e,i)})),!0):n.slideTo(g,t,e,i)},slideReset:function(t,e,i){void 0===e&&(e=!0);const n=this;if(!n.destroyed)return void 0===t&&(t=n.params.speed),n.slideTo(n.activeIndex,t,e,i)},slideToClosest:function(t,e,i,n){void 0===e&&(e=!0),void 0===n&&(n=.5);const r=this;if(r.destroyed)return;void 0===t&&(t=r.params.speed);let a=r.activeIndex;const s=Math.min(r.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[o]){const t=r.snapGrid[o];l-t>(r.snapGrid[o+1]-t)*n&&(a+=r.params.slidesPerGroup)}else{const t=r.snapGrid[o-1];l-t<=(r.snapGrid[o]-t)*n&&(a-=r.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,r.slidesGrid.length-1),r.slideTo(a,t,e,i)},slideToClickedSlide:function(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:i}=t,n="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let r,a=t.clickedIndex;const s=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<t.loopedSlides-n/2||a>t.slides.length-t.loopedSlides+n/2?(t.loopFix(),a=t.getSlideIndex(g(i,`${s}[data-swiper-slide-index="${r}"]`)[0]),o((()=>{t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-n?(t.loopFix(),a=t.getSlideIndex(g(i,`${s}[data-swiper-slide-index="${r}"]`)[0]),o((()=>{t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}},H={loopCreate:function(t){const e=this,{params:i,slidesEl:n}=e;if(!i.loop||e.virtual&&e.params.virtual.enabled)return;const r=()=>{g(n,`.${i.slideClass}, swiper-slide`).forEach(((t,e)=>{t.setAttribute("data-swiper-slide-index",e)}))},a=e.grid&&i.grid&&i.grid.rows>1,s=i.slidesPerGroup*(a?i.grid.rows:1),o=e.slides.length%s!=0,l=a&&e.slides.length%i.grid.rows!=0,c=t=>{for(let n=0;n<t;n+=1){const t=e.isElement?_("swiper-slide",[i.slideBlankClass]):_("div",[i.slideClass,i.slideBlankClass]);e.slidesEl.append(t)}};o?(i.loopAddBlankSlides?(c(s-e.slides.length%s),e.recalcSlides(),e.updateSlides()):m("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),r()):l?(i.loopAddBlankSlides?(c(i.grid.rows-e.slides.length%i.grid.rows),e.recalcSlides(),e.updateSlides()):m("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),r()):r(),e.loopFix({slideRealIndex:t,direction:i.centeredSlides?void 0:"next"})},loopFix:function(t){let{slideRealIndex:e,slideTo:i=!0,direction:n,setTranslate:r,activeSlideIndex:a,byController:s,byMousewheel:o}=void 0===t?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:h,slidesEl:u,params:f}=l,{centeredSlides:p}=f;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&f.virtual.enabled)return i&&(f.centeredSlides||0!==l.snapIndex?f.centeredSlides&&l.snapIndex<f.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=h,void l.emit("loopFix");let g=f.slidesPerView;"auto"===g?g=l.slidesPerViewDynamic():(g=Math.ceil(parseFloat(f.slidesPerView,10)),p&&g%2==0&&(g+=1));const _=f.slidesPerGroupAuto?g:f.slidesPerGroup;let v=_;v%_!=0&&(v+=_-v%_),v+=f.loopAdditionalSlides,l.loopedSlides=v;const y=l.grid&&f.grid&&f.grid.rows>1;c.length<g+v?m("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):y&&"row"===f.grid.fill&&m("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const b=[],k=[];let x=l.activeIndex;void 0===a?a=l.getSlideIndex(c.filter((t=>t.classList.contains(f.slideActiveClass)))[0]):x=a;const w="next"===n||!n,S="prev"===n||!n;let T=0,E=0;const C=y?Math.ceil(c.length/f.grid.rows):c.length,M=(y?c[a].column:a)+(p&&void 0===r?-g/2+.5:0);if(M<v){T=Math.max(v-M,_);for(let t=0;t<v-M;t+=1){const e=t-Math.floor(t/C)*C;if(y){const t=C-e-1;for(let e=c.length-1;e>=0;e-=1)c[e].column===t&&b.push(e)}else b.push(C-e-1)}}else if(M+g>C-v){E=Math.max(M-(C-2*v),_);for(let t=0;t<E;t+=1){const e=t-Math.floor(t/C)*C;y?c.forEach(((t,i)=>{t.column===e&&k.push(i)})):k.push(e)}}if(l.__preventObserver__=!0,requestAnimationFrame((()=>{l.__preventObserver__=!1})),S&&b.forEach((t=>{c[t].swiperLoopMoveDOM=!0,u.prepend(c[t]),c[t].swiperLoopMoveDOM=!1})),w&&k.forEach((t=>{c[t].swiperLoopMoveDOM=!0,u.append(c[t]),c[t].swiperLoopMoveDOM=!1})),l.recalcSlides(),"auto"===f.slidesPerView?l.updateSlides():y&&(b.length>0&&S||k.length>0&&w)&&l.slides.forEach(((t,e)=>{l.grid.updateSlide(e,t,l.slides)})),f.watchSlidesProgress&&l.updateSlidesOffset(),i)if(b.length>0&&S){if(void 0===e){const t=l.slidesGrid[x],e=l.slidesGrid[x+T]-t;o?l.setTranslate(l.translate-e):(l.slideTo(x+Math.ceil(T),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-e,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-e))}else if(r){const t=y?b.length/f.grid.rows:b.length;l.slideTo(l.activeIndex+t,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(k.length>0&&w)if(void 0===e){const t=l.slidesGrid[x],e=l.slidesGrid[x-E]-t;o?l.setTranslate(l.translate-e):(l.slideTo(x-E,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-e,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-e))}else{const t=y?k.length/f.grid.rows:k.length;l.slideTo(l.activeIndex-t,0,!1,!0)}if(l.allowSlidePrev=d,l.allowSlideNext=h,l.controller&&l.controller.control&&!s){const t={slideRealIndex:e,direction:n,setTranslate:r,activeSlideIndex:a,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach((e=>{!e.destroyed&&e.params.loop&&e.loopFix({...t,slideTo:e.params.slidesPerView===f.slidesPerView&&i})})):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...t,slideTo:l.controller.control.params.slidesPerView===f.slidesPerView&&i})}l.emit("loopFix")},loopDestroy:function(){const t=this,{params:e,slidesEl:i}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const n=[];t.slides.forEach((t=>{const e=void 0===t.swiperSlideIndex?1*t.getAttribute("data-swiper-slide-index"):t.swiperSlideIndex;n[e]=t})),t.slides.forEach((t=>{t.removeAttribute("data-swiper-slide-index")})),n.forEach((t=>{i.append(t)})),t.recalcSlides(),t.slideTo(t.realIndex,0)}};function j(t,e,i){const n=a(),{params:r}=t,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return!s||!(i<=o||i>=n.innerWidth-o)||"prevent"===s&&(e.preventDefault(),!0)}function G(t){const e=this,i=n();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if("pointerdown"===r.type){if(null!==s.pointerId&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else"touchstart"===r.type&&1===r.targetTouches.length&&(s.touchId=r.targetTouches[0].identifier);if("touchstart"===r.type)return void j(e,r,r.targetTouches[0].pageX);const{params:o,touches:c,enabled:d}=e;if(!d)return;if(!o.simulateTouch&&"mouse"===r.pointerType)return;if(e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=r.target;if("wrapper"===o.touchEventsTarget&&!function(t,e){const i=e.contains(t);return!i&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(t):i}(h,e.wrapperEl))return;if("which"in r&&3===r.which)return;if("button"in r&&r.button>0)return;if(s.isTouched&&s.isMoved)return;const u=!!o.noSwipingClass&&""!==o.noSwipingClass,f=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&f&&(h=f[0]);const p=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,g=!(!r.target||!r.target.shadowRoot);if(o.noSwiping&&(g?function(t,e){return void 0===e&&(e=this),function e(i){if(!i||i===n()||i===a())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return r||i.getRootNode?r||e(i.getRootNode().host):null}(e)}(p,h):h.closest(p)))return void(e.allowClick=!0);if(o.swipeHandler&&!h.closest(o.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const m=c.currentX,_=c.currentY;if(!j(e,r,m))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=m,c.startY=_,s.touchStartTime=l(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let v=!0;h.matches(s.focusableElements)&&(v=!1,"SELECT"===h.nodeName&&(s.isTouched=!1)),i.activeElement&&i.activeElement.matches(s.focusableElements)&&i.activeElement!==h&&i.activeElement.blur();const y=v&&e.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!y||h.isContentEditable||r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function W(t){const e=n(),i=this,r=i.touchEventsData,{params:a,touches:s,rtlTranslate:o,enabled:c}=i;if(!c)return;if(!a.simulateTouch&&"mouse"===t.pointerType)return;let d,h=t;if(h.originalEvent&&(h=h.originalEvent),"pointermove"===h.type){if(null!==r.touchId)return;if(h.pointerId!==r.pointerId)return}if("touchmove"===h.type){if(d=[...h.changedTouches].filter((t=>t.identifier===r.touchId))[0],!d||d.identifier!==r.touchId)return}else d=h;if(!r.isTouched)return void(r.startMoving&&r.isScrolling&&i.emit("touchMoveOpposite",h));const u=d.pageX,f=d.pageY;if(h.preventedByNestedSwiper)return s.startX=u,void(s.startY=f);if(!i.allowTouchMove)return h.target.matches(r.focusableElements)||(i.allowClick=!1),void(r.isTouched&&(Object.assign(s,{startX:u,startY:f,currentX:u,currentY:f}),r.touchStartTime=l()));if(a.touchReleaseOnEdges&&!a.loop)if(i.isVertical()){if(f<s.startY&&i.translate<=i.maxTranslate()||f>s.startY&&i.translate>=i.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(u<s.startX&&i.translate<=i.maxTranslate()||u>s.startX&&i.translate>=i.minTranslate())return;if(e.activeElement&&h.target===e.activeElement&&h.target.matches(r.focusableElements))return r.isMoved=!0,void(i.allowClick=!1);r.allowTouchCallbacks&&i.emit("touchMove",h),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=f;const p=s.currentX-s.startX,g=s.currentY-s.startY;if(i.params.threshold&&Math.sqrt(p**2+g**2)<i.params.threshold)return;if(void 0===r.isScrolling){let t;i.isHorizontal()&&s.currentY===s.startY||i.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:p*p+g*g>=25&&(t=180*Math.atan2(Math.abs(g),Math.abs(p))/Math.PI,r.isScrolling=i.isHorizontal()?t>a.touchAngle:90-t>a.touchAngle)}if(r.isScrolling&&i.emit("touchMoveOpposite",h),void 0===r.startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(r.startMoving=!0)),r.isScrolling||"touchmove"===h.type&&r.preventTouchMoveFromPointerMove)return void(r.isTouched=!1);if(!r.startMoving)return;i.allowClick=!1,!a.cssMode&&h.cancelable&&h.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&h.stopPropagation();let m=i.isHorizontal()?p:g,_=i.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;a.oneWayMovement&&(m=Math.abs(m)*(o?1:-1),_=Math.abs(_)*(o?1:-1)),s.diff=m,m*=a.touchRatio,o&&(m=-m,_=-_);const v=i.touchesDirection;i.swipeDirection=m>0?"prev":"next",i.touchesDirection=_>0?"prev":"next";const y=i.params.loop&&!a.cssMode,b="next"===i.touchesDirection&&i.allowSlideNext||"prev"===i.touchesDirection&&i.allowSlidePrev;if(!r.isMoved){if(y&&b&&i.loopFix({direction:i.swipeDirection}),r.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){const t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});i.wrapperEl.dispatchEvent(t)}r.allowMomentumBounce=!1,!a.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",h)}if((new Date).getTime(),r.isMoved&&r.allowThresholdMove&&v!==i.touchesDirection&&y&&b&&Math.abs(m)>=1)return Object.assign(s,{startX:u,startY:f,currentX:u,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,void(r.startTranslate=r.currentTranslate);i.emit("sliderMove",h),r.isMoved=!0,r.currentTranslate=m+r.startTranslate;let k=!0,x=a.resistanceRatio;if(a.touchReleaseOnEdges&&(x=0),m>0?(y&&b&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?i.minTranslate()-i.slidesSizesGrid[i.activeIndex+1]-("auto"!==a.slidesPerView&&i.slides.length-a.slidesPerView>=2?i.slidesSizesGrid[i.activeIndex+1]+i.params.spaceBetween:0)-i.params.spaceBetween:i.minTranslate())&&i.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>i.minTranslate()&&(k=!1,a.resistance&&(r.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+r.startTranslate+m)**x))):m<0&&(y&&b&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?i.maxTranslate()+i.slidesSizesGrid[i.slidesSizesGrid.length-1]+i.params.spaceBetween+("auto"!==a.slidesPerView&&i.slides.length-a.slidesPerView>=2?i.slidesSizesGrid[i.slidesSizesGrid.length-1]+i.params.spaceBetween:0):i.maxTranslate())&&i.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:i.slides.length-("auto"===a.slidesPerView?i.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<i.maxTranslate()&&(k=!1,a.resistance&&(r.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-r.startTranslate-m)**x))),k&&(h.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),i.allowSlidePrev||i.allowSlideNext||(r.currentTranslate=r.startTranslate),a.threshold>0){if(!(Math.abs(m)>a.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,void(s.diff=i.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}a.followFinger&&!a.cssMode&&((a.freeMode&&a.freeMode.enabled&&i.freeMode||a.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(r.currentTranslate),i.setTranslate(r.currentTranslate))}function q(t){const e=this,i=e.touchEventsData;let n,r=t;if(r.originalEvent&&(r=r.originalEvent),"touchend"===r.type||"touchcancel"===r.type){if(n=[...r.changedTouches].filter((t=>t.identifier===i.touchId))[0],!n||n.identifier!==i.touchId)return}else{if(null!==i.touchId)return;if(r.pointerId!==i.pointerId)return;n=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&(!["pointercancel","contextmenu"].includes(r.type)||!e.browser.isSafari&&!e.browser.isWebView))return;i.pointerId=null,i.touchId=null;const{params:a,touches:s,rtlTranslate:c,slidesGrid:d,enabled:h}=e;if(!h)return;if(!a.simulateTouch&&"mouse"===r.pointerType)return;if(i.allowTouchCallbacks&&e.emit("touchEnd",r),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&a.grabCursor&&e.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);a.grabCursor&&i.isMoved&&i.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const u=l(),f=u-i.touchStartTime;if(e.allowClick){const t=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(t&&t[0]||r.target,t),e.emit("tap click",r),f<300&&u-i.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(i.lastClickTime=l(),o((()=>{e.destroyed||(e.allowClick=!0)})),!i.isTouched||!i.isMoved||!e.swipeDirection||0===s.diff&&!i.loopSwapReset||i.currentTranslate===i.startTranslate&&!i.loopSwapReset)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let p;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,p=a.followFinger?c?e.translate:-e.translate:-i.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:p});const g=p>=-e.maxTranslate()&&!e.params.loop;let m=0,_=e.slidesSizesGrid[0];for(let t=0;t<d.length;t+=t<a.slidesPerGroupSkip?1:a.slidesPerGroup){const e=t<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;void 0!==d[t+e]?(g||p>=d[t]&&p<d[t+e])&&(m=t,_=d[t+e]-d[t]):(g||p>=d[t])&&(m=t,_=d[d.length-1]-d[d.length-2])}let v=null,y=null;a.rewind&&(e.isBeginning?y=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const b=(p-d[m])/_,k=m<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(f>a.longSwipesMs){if(!a.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(b>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?v:m+k):e.slideTo(m)),"prev"===e.swipeDirection&&(b>1-a.longSwipesRatio?e.slideTo(m+k):null!==y&&b<0&&Math.abs(b)>a.longSwipesRatio?e.slideTo(y):e.slideTo(m))}else{if(!a.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||r.target!==e.navigation.nextEl&&r.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==v?v:m+k),"prev"===e.swipeDirection&&e.slideTo(null!==y?y:m)):r.target===e.navigation.nextEl?e.slideTo(m+k):e.slideTo(m)}}function U(){const t=this,{params:e,el:i}=t;if(i&&0===i.offsetWidth)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:r,snapGrid:a}=t,s=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=s&&e.loop;!("auto"===e.slidesPerView||e.slidesPerView>1)||!t.isEnd||t.isBeginning||t.params.centeredSlides||o?t.params.loop&&!s?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0):t.slideTo(t.slides.length-1,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout((()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()}),500)),t.allowSlidePrev=r,t.allowSlideNext=n,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function Y(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function X(){const t=this,{wrapperEl:e,rtlTranslate:i,enabled:n}=t;if(!n)return;let r;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();const a=t.maxTranslate()-t.minTranslate();r=0===a?0:(t.translate-t.minTranslate())/a,r!==t.progress&&t.updateProgress(i?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function K(t){const e=this;O(e,t.target),e.params.cssMode||"auto"!==e.params.slidesPerView&&!e.params.autoHeight||e.update()}function J(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Z=(t,e)=>{const i=n(),{params:r,el:a,wrapperEl:s,device:o}=t,l=!!r.nested,c="on"===e?"addEventListener":"removeEventListener",d=e;a&&"string"!=typeof a&&(i[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),a[c]("touchstart",t.onTouchStart,{passive:!1}),a[c]("pointerdown",t.onTouchStart,{passive:!1}),i[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),i[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),i[c]("touchend",t.onTouchEnd,{passive:!0}),i[c]("pointerup",t.onTouchEnd,{passive:!0}),i[c]("pointercancel",t.onTouchEnd,{passive:!0}),i[c]("touchcancel",t.onTouchEnd,{passive:!0}),i[c]("pointerout",t.onTouchEnd,{passive:!0}),i[c]("pointerleave",t.onTouchEnd,{passive:!0}),i[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[c]("click",t.onClick,!0),r.cssMode&&s[c]("scroll",t.onScroll),r.updateOnWindowResize?t[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",U,!0):t[d]("observerUpdate",U,!0),a[c]("load",t.onLoad,{capture:!0}))},Q=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;var tt={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function et(t,e){return function(i){void 0===i&&(i={});const n=Object.keys(i)[0],r=i[n];"object"==typeof r&&null!==r?(!0===t[n]&&(t[n]={enabled:!0}),"navigation"===n&&t[n]&&t[n].enabled&&!t[n].prevEl&&!t[n].nextEl&&(t[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&t[n]&&t[n].enabled&&!t[n].el&&(t[n].auto=!0),n in t&&"enabled"in r?("object"!=typeof t[n]||"enabled"in t[n]||(t[n].enabled=!0),t[n]||(t[n]={enabled:!1}),h(e,i)):h(e,i)):h(e,i)}}const it={eventsEmitter:D,update:N,translate:B,transition:{setTransition:function(t,e){const i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${t}ms`,i.wrapperEl.style.transitionDelay=0===t?"0ms":""),i.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);const i=this,{params:n}=i;n.cssMode||(n.autoHeight&&i.updateAutoHeight(),z({swiper:i,runCallbacks:t,direction:e,step:"Start"}))},transitionEnd:function(t,e){void 0===t&&(t=!0);const i=this,{params:n}=i;i.animating=!1,n.cssMode||(i.setTransition(0),z({swiper:i,runCallbacks:t,direction:e,step:"End"}))}},slide:V,loop:H,grabCursor:{setGrabCursor:function(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const i="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1}))},unsetGrabCursor:function(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t["container"===t.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1})))}},events:{attachEvents:function(){const t=this,{params:e}=t;t.onTouchStart=G.bind(t),t.onTouchMove=W.bind(t),t.onTouchEnd=q.bind(t),t.onDocumentTouchStart=J.bind(t),e.cssMode&&(t.onScroll=X.bind(t)),t.onClick=Y.bind(t),t.onLoad=K.bind(t),Z(t,"on")},detachEvents:function(){Z(this,"off")}},breakpoints:{setBreakpoint:function(){const t=this,{realIndex:e,initialized:i,params:n,el:r}=t,a=n.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const s=t.getBreakpoint(a,t.params.breakpointsBase,t.el);if(!s||t.currentBreakpoint===s)return;const o=(s in a?a[s]:void 0)||t.originalParams,l=Q(t,n),c=Q(t,o),d=t.params.grabCursor,u=o.grabCursor,f=n.enabled;l&&!c?(r.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!l&&c&&(r.classList.add(`${n.containerModifierClass}grid`),(o.grid.fill&&"column"===o.grid.fill||!o.grid.fill&&"column"===n.grid.fill)&&r.classList.add(`${n.containerModifierClass}grid-column`),t.emitContainerClasses()),d&&!u?t.unsetGrabCursor():!d&&u&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach((e=>{if(void 0===o[e])return;const i=n[e]&&n[e].enabled,r=o[e]&&o[e].enabled;i&&!r&&t[e].disable(),!i&&r&&t[e].enable()}));const p=o.direction&&o.direction!==n.direction,g=n.loop&&(o.slidesPerView!==n.slidesPerView||p),m=n.loop;p&&i&&t.changeDirection(),h(t.params,o);const _=t.params.enabled,v=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!_?t.disable():!f&&_&&t.enable(),t.currentBreakpoint=s,t.emit("_beforeBreakpoint",o),i&&(g?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!m&&v?(t.loopCreate(e),t.updateSlides()):m&&!v&&t.loopDestroy()),t.emit("breakpoint",o)},getBreakpoint:function(t,e,i){if(void 0===e&&(e="window"),!t||"container"===e&&!i)return;let n=!1;const r=a(),s="window"===e?r.innerHeight:i.clientHeight,o=Object.keys(t).map((t=>{if("string"==typeof t&&0===t.indexOf("@")){const e=parseFloat(t.substr(1));return{value:s*e,point:t}}return{value:t,point:t}}));o.sort(((t,e)=>parseInt(t.value,10)-parseInt(e.value,10)));for(let t=0;t<o.length;t+=1){const{point:a,value:s}=o[t];"window"===e?r.matchMedia(`(min-width: ${s}px)`).matches&&(n=a):s<=i.clientWidth&&(n=a)}return n||"max"}},checkOverflow:{checkOverflow:function(){const t=this,{isLocked:e,params:i}=t,{slidesOffsetBefore:n}=i;if(n){const e=t.slides.length-1,i=t.slidesGrid[e]+t.slidesSizesGrid[e]+2*n;t.isLocked=t.size>i}else t.isLocked=1===t.snapGrid.length;!0===i.allowSlideNext&&(t.allowSlideNext=!t.isLocked),!0===i.allowSlidePrev&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const t=this,{classNames:e,params:i,rtl:n,el:r,device:a}=t,s=function(t,e){const i=[];return t.forEach((t=>{"object"==typeof t?Object.keys(t).forEach((n=>{t[n]&&i.push(e+n)})):"string"==typeof t&&i.push(e+t)})),i}(["initialized",i.direction,{"free-mode":t.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:n},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);e.push(...s),r.classList.add(...e),t.emitContainerClasses()},removeClasses:function(){const{el:t,classNames:e}=this;t&&"string"!=typeof t&&(t.classList.remove(...e),this.emitContainerClasses())}}},nt={};class rt{constructor(){let t,e;for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?e=r[0]:[t,e]=r,e||(e={}),e=h({},e),t&&!e.el&&(e.el=t);const s=n();if(e.el&&"string"==typeof e.el&&s.querySelectorAll(e.el).length>1){const t=[];return s.querySelectorAll(e.el).forEach((i=>{const n=h({},e,{el:i});t.push(new rt(n))})),t}const o=this;o.__swiper__=!0,o.support=P(),o.device=A({userAgent:e.userAgent}),o.browser=$(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],e.modules&&Array.isArray(e.modules)&&o.modules.push(...e.modules);const l={};o.modules.forEach((t=>{t({params:e,swiper:o,extendParams:et(e,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const c=h({},tt,l);return o.params=h({},c,nt,e),o.originalParams=h({},o.params),o.passedParams=h({},e),o.params&&o.params.on&&Object.keys(o.params.on).forEach((t=>{o.on(t,o.params.on[t])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:e,params:i}=this,n=b(g(e,`.${i.slideClass}, swiper-slide`)[0]);return b(t)-n}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter((e=>1*e.getAttribute("data-swiper-slide-index")===t))[0])}recalcSlides(){const{slidesEl:t,params:e}=this;this.slides=g(t,`.${e.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const i=this;t=Math.min(Math.max(t,0),1);const n=i.minTranslate(),r=(i.maxTranslate()-n)*t+n;i.translateTo(r,void 0===e?0:e),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter((e=>0===e.indexOf("swiper")||0===e.indexOf(t.params.containerModifierClass)));t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter((t=>0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass))).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach((i=>{const n=t.getSlideClasses(i);e.push({slideEl:i,classNames:n}),t.emit("_slideClass",i,n)})),t.emit("_slideClasses",e)}slidesPerViewDynamic(t,e){void 0===t&&(t="current"),void 0===e&&(e=!1);const{params:i,slides:n,slidesGrid:r,slidesSizesGrid:a,size:s,activeIndex:o}=this;let l=1;if("number"==typeof i.slidesPerView)return i.slidesPerView;if(i.centeredSlides){let t,e=n[o]?Math.ceil(n[o].swiperSlideSize):0;for(let i=o+1;i<n.length;i+=1)n[i]&&!t&&(e+=Math.ceil(n[i].swiperSlideSize),l+=1,e>s&&(t=!0));for(let i=o-1;i>=0;i-=1)n[i]&&!t&&(e+=n[i].swiperSlideSize,l+=1,e>s&&(t=!0))}else if("current"===t)for(let t=o+1;t<n.length;t+=1)(e?r[t]+a[t]-r[o]<s:r[t]-r[o]<s)&&(l+=1);else for(let t=o-1;t>=0;t-=1)r[o]-r[t]<s&&(l+=1);return l}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:i}=t;function n(){const e=t.rtlTranslate?-1*t.translate:t.translate,i=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(i),t.updateActiveIndex(),t.updateSlidesClasses()}let r;if(i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach((e=>{e.complete&&O(t,e)})),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode)n(),i.autoHeight&&t.updateAutoHeight();else{if(("auto"===i.slidesPerView||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides){const e=t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides;r=t.slideTo(e.length-1,0,!1,!0)}else r=t.slideTo(t.activeIndex,0,!1,!0);r||n()}i.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e){void 0===e&&(e=!0);const i=this,n=i.params.direction;return t||(t="horizontal"===n?"vertical":"horizontal"),t===n||"horizontal"!==t&&"vertical"!==t||(i.el.classList.remove(`${i.params.containerModifierClass}${n}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach((e=>{"vertical"===t?e.style.width="":e.style.height=""})),i.emit("changeDirection"),e&&i.update()),i}changeLanguageDirection(t){const e=this;e.rtl&&"rtl"===t||!e.rtl&&"ltr"===t||(e.rtl="rtl"===t,e.rtlTranslate="horizontal"===e.params.direction&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let i=t||e.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=e,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===e.params.swiperElementNodeName.toUpperCase()&&(e.isElement=!0);const n=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let r=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(n()):g(i,n())[0];return!r&&e.params.createElements&&(r=_("div",e.params.wrapperClass),i.append(r),g(i,`.${e.params.slideClass}`).forEach((t=>{r.append(t)}))),Object.assign(e,{el:i,wrapperEl:r,slidesEl:e.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:r,hostEl:e.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===y(i,"direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===y(i,"direction")),wrongRTL:"-webkit-box"===y(r,"display")}),!0}init(t){const e=this;if(e.initialized)return e;if(!1===e.mount(t))return e;e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(),e.attachEvents();const i=[...e.el.querySelectorAll('[loading="lazy"]')];return e.isElement&&i.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach((t=>{t.complete?O(e,t):t.addEventListener("load",(t=>{O(e,t.target)}))})),F(e),e.initialized=!0,F(e),e.emit("init"),e.emit("afterInit"),e}destroy(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);const i=this,{params:n,el:r,wrapperEl:a,slides:s}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),e&&(i.removeClasses(),r&&"string"!=typeof r&&r.removeAttribute("style"),a&&a.removeAttribute("style"),s&&s.length&&s.forEach((t=>{t.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),t.removeAttribute("style"),t.removeAttribute("data-swiper-slide-index")}))),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((t=>{i.off(t)})),!1!==t&&(i.el&&"string"!=typeof i.el&&(i.el.swiper=null),function(t){const e=t;Object.keys(e).forEach((t=>{try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}}))}(i)),i.destroyed=!0),null}static extendDefaults(t){h(nt,t)}static get extendedDefaults(){return nt}static get defaults(){return tt}static installModule(t){rt.prototype.__modules__||(rt.prototype.__modules__=[]);const e=rt.prototype.__modules__;"function"==typeof t&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach((t=>rt.installModule(t))),rt):(rt.installModule(t),rt)}}function at(t,e,i,n){return t.params.createElements&&Object.keys(n).forEach((r=>{if(!i[r]&&!0===i.auto){let a=g(t.el,`.${n[r]}`)[0];a||(a=_("div",n[r]),a.className=n[r],t.el.append(a)),i[r]=a,e[r]=a}})),i}function st(t){return void 0===t&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ot(t){const e=this,{params:i,slidesEl:n}=e;i.loop&&e.loopDestroy();const r=t=>{if("string"==typeof t){const e=document.createElement("div");e.innerHTML=t,n.append(e.children[0]),e.innerHTML=""}else n.append(t)};if("object"==typeof t&&"length"in t)for(let e=0;e<t.length;e+=1)t[e]&&r(t[e]);else r(t);e.recalcSlides(),i.loop&&e.loopCreate(),i.observer&&!e.isElement||e.update()}function lt(t){const e=this,{params:i,activeIndex:n,slidesEl:r}=e;i.loop&&e.loopDestroy();let a=n+1;const s=t=>{if("string"==typeof t){const e=document.createElement("div");e.innerHTML=t,r.prepend(e.children[0]),e.innerHTML=""}else r.prepend(t)};if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&s(t[e]);a=n+t.length}else s(t);e.recalcSlides(),i.loop&&e.loopCreate(),i.observer&&!e.isElement||e.update(),e.slideTo(a,0,!1)}function ct(t,e){const i=this,{params:n,activeIndex:r,slidesEl:a}=i;let s=r;n.loop&&(s-=i.loopedSlides,i.loopDestroy(),i.recalcSlides());const o=i.slides.length;if(t<=0)return void i.prependSlide(e);if(t>=o)return void i.appendSlide(e);let l=s>t?s+1:s;const c=[];for(let e=o-1;e>=t;e-=1){const t=i.slides[e];t.remove(),c.unshift(t)}if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&a.append(e[t]);l=s>t?s+e.length:s}else a.append(e);for(let t=0;t<c.length;t+=1)a.append(c[t]);i.recalcSlides(),n.loop&&i.loopCreate(),n.observer&&!i.isElement||i.update(),n.loop?i.slideTo(l+i.loopedSlides,0,!1):i.slideTo(l,0,!1)}function dt(t){const e=this,{params:i,activeIndex:n}=e;let r=n;i.loop&&(r-=e.loopedSlides,e.loopDestroy());let a,s=r;if("object"==typeof t&&"length"in t){for(let i=0;i<t.length;i+=1)a=t[i],e.slides[a]&&e.slides[a].remove(),a<s&&(s-=1);s=Math.max(s,0)}else a=t,e.slides[a]&&e.slides[a].remove(),a<s&&(s-=1),s=Math.max(s,0);e.recalcSlides(),i.loop&&e.loopCreate(),i.observer&&!e.isElement||e.update(),i.loop?e.slideTo(s+e.loopedSlides,0,!1):e.slideTo(s,0,!1)}function ht(){const t=this,e=[];for(let i=0;i<t.slides.length;i+=1)e.push(i);t.removeSlide(e)}function ut(t){const{effect:e,swiper:i,on:n,setTranslate:r,setTransition:a,overwriteParams:s,perspective:o,recreateShadows:l,getEffectParams:c}=t;let d;n("beforeInit",(()=>{if(i.params.effect!==e)return;i.classNames.push(`${i.params.containerModifierClass}${e}`),o&&o()&&i.classNames.push(`${i.params.containerModifierClass}3d`);const t=s?s():{};Object.assign(i.params,t),Object.assign(i.originalParams,t)})),n("setTranslate",(()=>{i.params.effect===e&&r()})),n("setTransition",((t,n)=>{i.params.effect===e&&a(n)})),n("transitionEnd",(()=>{if(i.params.effect===e&&l){if(!c||!c().slideShadows)return;i.slides.forEach((t=>{t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>t.remove()))})),l()}})),n("virtualUpdate",(()=>{i.params.effect===e&&(i.slides.length||(d=!0),requestAnimationFrame((()=>{d&&i.slides&&i.slides.length&&(r(),d=!1)})))}))}function ft(t,e){const i=p(e);return i!==e&&(i.style.backfaceVisibility="hidden",i.style["-webkit-backface-visibility"]="hidden"),i}function pt(t){let{swiper:e,duration:i,transformElements:n,allSlides:r}=t;const{activeIndex:a}=e;if(e.params.virtualTranslate&&0!==i){let t,i=!1;t=r?n:n.filter((t=>{const i=t.classList.contains("swiper-slide-transform")?(t=>t.parentElement?t.parentElement:e.slides.filter((e=>e.shadowRoot&&e.shadowRoot===t.parentNode))[0])(t):t;return e.getSlideIndex(i)===a})),t.forEach((t=>{x(t,(()=>{if(i)return;if(!e||e.destroyed)return;i=!0,e.animating=!1;const t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(t)}))}))}}function gt(t,e,i){const n=`swiper-slide-shadow${i?`-${i}`:""}${t?` swiper-slide-shadow-${t}`:""}`,r=p(e);let a=r.querySelector(`.${n.split(" ").join(".")}`);return a||(a=_("div",n.split(" ")),r.append(a)),a}Object.keys(it).forEach((t=>{Object.keys(it[t]).forEach((e=>{rt.prototype[e]=it[t][e]}))})),rt.use([function(t){let{swiper:e,on:i,emit:n}=t;const r=a();let s=null,o=null;const l=()=>{e&&!e.destroyed&&e.initialized&&(n("beforeResize"),n("resize"))},c=()=>{e&&!e.destroyed&&e.initialized&&n("orientationchange")};i("init",(()=>{e.params.resizeObserver&&void 0!==r.ResizeObserver?e&&!e.destroyed&&e.initialized&&(s=new ResizeObserver((t=>{o=r.requestAnimationFrame((()=>{const{width:i,height:n}=e;let r=i,a=n;t.forEach((t=>{let{contentBoxSize:i,contentRect:n,target:s}=t;s&&s!==e.el||(r=n?n.width:(i[0]||i).inlineSize,a=n?n.height:(i[0]||i).blockSize)})),r===i&&a===n||l()}))})),s.observe(e.el)):(r.addEventListener("resize",l),r.addEventListener("orientationchange",c))})),i("destroy",(()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",c)}))},function(t){let{swiper:e,extendParams:i,on:n,emit:r}=t;const s=[],o=a(),l=function(t,i){void 0===i&&(i={});const n=new(o.MutationObserver||o.WebkitMutationObserver)((t=>{if(e.__preventObserver__)return;if(1===t.length)return void r("observerUpdate",t[0]);const i=function(){r("observerUpdate",t[0])};o.requestAnimationFrame?o.requestAnimationFrame(i):o.setTimeout(i,0)}));n.observe(t,{attributes:void 0===i.attributes||i.attributes,childList:e.isElement||(void 0===i.childList||i).childList,characterData:void 0===i.characterData||i.characterData}),s.push(n)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",(()=>{if(e.params.observer){if(e.params.observeParents){const t=k(e.hostEl);for(let e=0;e<t.length;e+=1)l(t[e])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}})),n("destroy",(()=>{s.forEach((t=>{t.disconnect()})),s.splice(0,s.length)}))}]);const mt=[function(t){let e,{swiper:i,extendParams:r,on:a,emit:s}=t;r({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const o=n();i.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const l=o.createElement("div");function c(t,e){const n=i.params.virtual;if(n.cache&&i.virtual.cache[e])return i.virtual.cache[e];let r;return n.renderSlide?(r=n.renderSlide.call(i,t,e),"string"==typeof r&&(l.innerHTML=r,r=l.children[0])):r=i.isElement?_("swiper-slide"):_("div",i.params.slideClass),r.setAttribute("data-swiper-slide-index",e),n.renderSlide||(r.innerHTML=t),n.cache&&(i.virtual.cache[e]=r),r}function d(t,e){const{slidesPerView:n,slidesPerGroup:r,centeredSlides:a,loop:o,initialSlide:l}=i.params;if(e&&!o&&l>0)return;const{addSlidesBefore:d,addSlidesAfter:h}=i.params.virtual,{from:u,to:f,slides:p,slidesGrid:m,offset:_}=i.virtual;i.params.cssMode||i.updateActiveIndex();const v=i.activeIndex||0;let y,b,k;y=i.rtlTranslate?"right":i.isHorizontal()?"left":"top",a?(b=Math.floor(n/2)+r+h,k=Math.floor(n/2)+r+d):(b=n+(r-1)+h,k=(o?n:r)+d);let x=v-k,w=v+b;o||(x=Math.max(x,0),w=Math.min(w,p.length-1));let S=(i.slidesGrid[x]||0)-(i.slidesGrid[0]||0);function T(){i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),s("virtualUpdate")}if(o&&v>=k?(x-=k,a||(S+=i.slidesGrid[0])):o&&v<k&&(x=-k,a&&(S+=i.slidesGrid[0])),Object.assign(i.virtual,{from:x,to:w,offset:S,slidesGrid:i.slidesGrid,slidesBefore:k,slidesAfter:b}),u===x&&f===w&&!t)return i.slidesGrid!==m&&S!==_&&i.slides.forEach((t=>{t.style[y]=S-Math.abs(i.cssOverflowAdjustment())+"px"})),i.updateProgress(),void s("virtualUpdate");if(i.params.virtual.renderExternal)return i.params.virtual.renderExternal.call(i,{offset:S,from:x,to:w,slides:function(){const t=[];for(let e=x;e<=w;e+=1)t.push(p[e]);return t}()}),void(i.params.virtual.renderExternalUpdate?T():s("virtualUpdate"));const E=[],C=[],M=t=>{let e=t;return t<0?e=p.length+t:e>=p.length&&(e-=p.length),e};if(t)i.slides.filter((t=>t.matches(`.${i.params.slideClass}, swiper-slide`))).forEach((t=>{t.remove()}));else for(let t=u;t<=f;t+=1)if(t<x||t>w){const e=M(t);i.slides.filter((t=>t.matches(`.${i.params.slideClass}[data-swiper-slide-index="${e}"], swiper-slide[data-swiper-slide-index="${e}"]`))).forEach((t=>{t.remove()}))}const P=o?-p.length:0,A=o?2*p.length:p.length;for(let e=P;e<A;e+=1)if(e>=x&&e<=w){const i=M(e);void 0===f||t?C.push(i):(e>f&&C.push(i),e<u&&E.push(i))}if(C.forEach((t=>{i.slidesEl.append(c(p[t],t))})),o)for(let t=E.length-1;t>=0;t-=1){const e=E[t];i.slidesEl.prepend(c(p[e],e))}else E.sort(((t,e)=>e-t)),E.forEach((t=>{i.slidesEl.prepend(c(p[t],t))}));g(i.slidesEl,".swiper-slide, swiper-slide").forEach((t=>{t.style[y]=S-Math.abs(i.cssOverflowAdjustment())+"px"})),T()}a("beforeInit",(()=>{if(!i.params.virtual.enabled)return;let t;if(void 0===i.passedParams.virtual.slides){const e=[...i.slidesEl.children].filter((t=>t.matches(`.${i.params.slideClass}, swiper-slide`)));e&&e.length&&(i.virtual.slides=[...e],t=!0,e.forEach(((t,e)=>{t.setAttribute("data-swiper-slide-index",e),i.virtual.cache[e]=t,t.remove()})))}t||(i.virtual.slides=i.params.virtual.slides),i.classNames.push(`${i.params.containerModifierClass}virtual`),i.params.watchSlidesProgress=!0,i.originalParams.watchSlidesProgress=!0,d(!1,!0)})),a("setTranslate",(()=>{i.params.virtual.enabled&&(i.params.cssMode&&!i._immediateVirtual?(clearTimeout(e),e=setTimeout((()=>{d()}),100)):d())})),a("init update resize",(()=>{i.params.virtual.enabled&&i.params.cssMode&&u(i.wrapperEl,"--swiper-virtual-size",`${i.virtualSize}px`)})),Object.assign(i.virtual,{appendSlide:function(t){if("object"==typeof t&&"length"in t)for(let e=0;e<t.length;e+=1)t[e]&&i.virtual.slides.push(t[e]);else i.virtual.slides.push(t);d(!0)},prependSlide:function(t){const e=i.activeIndex;let n=e+1,r=1;if(Array.isArray(t)){for(let e=0;e<t.length;e+=1)t[e]&&i.virtual.slides.unshift(t[e]);n=e+t.length,r=t.length}else i.virtual.slides.unshift(t);if(i.params.virtual.cache){const t=i.virtual.cache,e={};Object.keys(t).forEach((i=>{const n=t[i],a=n.getAttribute("data-swiper-slide-index");a&&n.setAttribute("data-swiper-slide-index",parseInt(a,10)+r),e[parseInt(i,10)+r]=n})),i.virtual.cache=e}d(!0),i.slideTo(n,0)},removeSlide:function(t){if(null==t)return;let e=i.activeIndex;if(Array.isArray(t))for(let n=t.length-1;n>=0;n-=1)i.params.virtual.cache&&(delete i.virtual.cache[t[n]],Object.keys(i.virtual.cache).forEach((e=>{e>t&&(i.virtual.cache[e-1]=i.virtual.cache[e],i.virtual.cache[e-1].setAttribute("data-swiper-slide-index",e-1),delete i.virtual.cache[e])}))),i.virtual.slides.splice(t[n],1),t[n]<e&&(e-=1),e=Math.max(e,0);else i.params.virtual.cache&&(delete i.virtual.cache[t],Object.keys(i.virtual.cache).forEach((e=>{e>t&&(i.virtual.cache[e-1]=i.virtual.cache[e],i.virtual.cache[e-1].setAttribute("data-swiper-slide-index",e-1),delete i.virtual.cache[e])}))),i.virtual.slides.splice(t,1),t<e&&(e-=1),e=Math.max(e,0);d(!0),i.slideTo(e,0)},removeAllSlides:function(){i.virtual.slides=[],i.params.virtual.cache&&(i.virtual.cache={}),d(!0),i.slideTo(0,0)},update:d})},function(t){let{swiper:e,extendParams:i,on:r,emit:s}=t;const o=n(),l=a();function c(t){if(!e.enabled)return;const{rtlTranslate:i}=e;let n=t;n.originalEvent&&(n=n.originalEvent);const r=n.keyCode||n.charCode,a=e.params.keyboard.pageUpDown,c=a&&33===r,d=a&&34===r,h=37===r,u=39===r,f=38===r,p=40===r;if(!e.allowSlideNext&&(e.isHorizontal()&&u||e.isVertical()&&p||d))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&h||e.isVertical()&&f||c))return!1;if(!(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||o.activeElement&&o.activeElement.nodeName&&("input"===o.activeElement.nodeName.toLowerCase()||"textarea"===o.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(c||d||h||u||f||p)){let t=!1;if(k(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&0===k(e.el,`.${e.params.slideActiveClass}`).length)return;const n=e.el,r=n.clientWidth,a=n.clientHeight,s=l.innerWidth,o=l.innerHeight,c=v(n);i&&(c.left-=n.scrollLeft);const d=[[c.left,c.top],[c.left+r,c.top],[c.left,c.top+a],[c.left+r,c.top+a]];for(let e=0;e<d.length;e+=1){const i=d[e];if(i[0]>=0&&i[0]<=s&&i[1]>=0&&i[1]<=o){if(0===i[0]&&0===i[1])continue;t=!0}}if(!t)return}e.isHorizontal()?((c||d||h||u)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),((d||u)&&!i||(c||h)&&i)&&e.slideNext(),((c||h)&&!i||(d||u)&&i)&&e.slidePrev()):((c||d||f||p)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),(d||p)&&e.slideNext(),(c||f)&&e.slidePrev()),s("keyPress",r)}}function d(){e.keyboard.enabled||(o.addEventListener("keydown",c),e.keyboard.enabled=!0)}function h(){e.keyboard.enabled&&(o.removeEventListener("keydown",c),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},i({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),r("init",(()=>{e.params.keyboard.enabled&&d()})),r("destroy",(()=>{e.keyboard.enabled&&h()})),Object.assign(e.keyboard,{enable:d,disable:h})},function(t){let{swiper:e,extendParams:i,on:n,emit:r}=t;const s=a();let c;i({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let d,h=l();const u=[];function f(){e.enabled&&(e.mouseEntered=!0)}function p(){e.enabled&&(e.mouseEntered=!1)}function g(t){return!(e.params.mousewheel.thresholdDelta&&t.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&l()-h<e.params.mousewheel.thresholdTime||!(t.delta>=6&&l()-h<60)&&(t.direction<0?e.isEnd&&!e.params.loop||e.animating||(e.slideNext(),r("scroll",t.raw)):e.isBeginning&&!e.params.loop||e.animating||(e.slidePrev(),r("scroll",t.raw)),h=(new s.Date).getTime(),1))}function m(t){let i=t,n=!0;if(!e.enabled)return;if(t.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const a=e.params.mousewheel;e.params.cssMode&&i.preventDefault();let s=e.el;"container"!==e.params.mousewheel.eventsTarget&&(s=document.querySelector(e.params.mousewheel.eventsTarget));const h=s&&s.contains(i.target);if(!e.mouseEntered&&!h&&!a.releaseOnEdges)return!0;i.originalEvent&&(i=i.originalEvent);let f=0;const p=e.rtlTranslate?-1:1,m=function(t){let e=0,i=0,n=0,r=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),n=10*e,r=10*i,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(n=t.deltaX),t.shiftKey&&!n&&(n=r,r=0),(n||r)&&t.deltaMode&&(1===t.deltaMode?(n*=40,r*=40):(n*=800,r*=800)),n&&!e&&(e=n<1?-1:1),r&&!i&&(i=r<1?-1:1),{spinX:e,spinY:i,pixelX:n,pixelY:r}}(i);if(a.forceToAxis)if(e.isHorizontal()){if(!(Math.abs(m.pixelX)>Math.abs(m.pixelY)))return!0;f=-m.pixelX*p}else{if(!(Math.abs(m.pixelY)>Math.abs(m.pixelX)))return!0;f=-m.pixelY}else f=Math.abs(m.pixelX)>Math.abs(m.pixelY)?-m.pixelX*p:-m.pixelY;if(0===f)return!0;a.invert&&(f=-f);let _=e.getTranslate()+f*a.sensitivity;if(_>=e.minTranslate()&&(_=e.minTranslate()),_<=e.maxTranslate()&&(_=e.maxTranslate()),n=!!e.params.loop||!(_===e.minTranslate()||_===e.maxTranslate()),n&&e.params.nested&&i.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){const t={time:l(),delta:Math.abs(f),direction:Math.sign(f)},n=d&&t.time<d.time+500&&t.delta<=d.delta&&t.direction===d.direction;if(!n){d=void 0;let s=e.getTranslate()+f*a.sensitivity;const l=e.isBeginning,h=e.isEnd;if(s>=e.minTranslate()&&(s=e.minTranslate()),s<=e.maxTranslate()&&(s=e.maxTranslate()),e.setTransition(0),e.setTranslate(s),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!l&&e.isBeginning||!h&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:t.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(c),c=void 0,u.length>=15&&u.shift();const i=u.length?u[u.length-1]:void 0,n=u[0];if(u.push(t),i&&(t.delta>i.delta||t.direction!==i.direction))u.splice(0);else if(u.length>=15&&t.time-n.time<500&&n.delta-t.delta>=1&&t.delta<=6){const i=f>0?.8:.2;d=t,u.splice(0),c=o((()=>{!e.destroyed&&e.params&&e.slideToClosest(e.params.speed,!0,void 0,i)}),0)}c||(c=o((()=>{!e.destroyed&&e.params&&(d=t,u.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5))}),500))}if(n||r("scroll",i),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),a.releaseOnEdges&&(s===e.minTranslate()||s===e.maxTranslate()))return!0}}else{const i={time:l(),delta:Math.abs(f),direction:Math.sign(f),raw:t};u.length>=2&&u.shift();const n=u.length?u[u.length-1]:void 0;if(u.push(i),n?(i.direction!==n.direction||i.delta>n.delta||i.time>n.time+150)&&g(i):g(i),function(t){const i=e.params.mousewheel;if(t.direction<0){if(e.isEnd&&!e.params.loop&&i.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&i.releaseOnEdges)return!0;return!1}(i))return!0}return i.preventDefault?i.preventDefault():i.returnValue=!1,!1}function _(t){let i=e.el;"container"!==e.params.mousewheel.eventsTarget&&(i=document.querySelector(e.params.mousewheel.eventsTarget)),i[t]("mouseenter",f),i[t]("mouseleave",p),i[t]("wheel",m)}function v(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",m),!0):!e.mousewheel.enabled&&(_("addEventListener"),e.mousewheel.enabled=!0,!0)}function y(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,m),!0):!!e.mousewheel.enabled&&(_("removeEventListener"),e.mousewheel.enabled=!1,!0)}n("init",(()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&y(),e.params.mousewheel.enabled&&v()})),n("destroy",(()=>{e.params.cssMode&&v(),e.mousewheel.enabled&&y()})),Object.assign(e.mousewheel,{enable:v,disable:y})},function(t){let{swiper:e,extendParams:i,on:n,emit:r}=t;function a(t){let i;return t&&"string"==typeof t&&e.isElement&&(i=e.el.querySelector(t),i)?i:(t&&("string"==typeof t&&(i=[...document.querySelectorAll(t)]),e.params.uniqueNavElements&&"string"==typeof t&&i&&i.length>1&&1===e.el.querySelectorAll(t).length?i=e.el.querySelector(t):i&&1===i.length&&(i=i[0])),t&&!i?t:i)}function s(t,i){const n=e.params.navigation;(t=S(t)).forEach((t=>{t&&(t.classList[i?"add":"remove"](...n.disabledClass.split(" ")),"BUTTON"===t.tagName&&(t.disabled=i),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](n.lockClass))}))}function o(){const{nextEl:t,prevEl:i}=e.navigation;if(e.params.loop)return s(i,!1),void s(t,!1);s(i,e.isBeginning&&!e.params.rewind),s(t,e.isEnd&&!e.params.rewind)}function l(t){t.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function c(t){t.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){const t=e.params.navigation;if(e.params.navigation=at(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!t.nextEl&&!t.prevEl)return;let i=a(t.nextEl),n=a(t.prevEl);Object.assign(e.navigation,{nextEl:i,prevEl:n}),i=S(i),n=S(n);const r=(i,n)=>{i&&i.addEventListener("click","next"===n?c:l),!e.enabled&&i&&i.classList.add(...t.lockClass.split(" "))};i.forEach((t=>r(t,"next"))),n.forEach((t=>r(t,"prev")))}function h(){let{nextEl:t,prevEl:i}=e.navigation;t=S(t),i=S(i);const n=(t,i)=>{t.removeEventListener("click","next"===i?c:l),t.classList.remove(...e.params.navigation.disabledClass.split(" "))};t.forEach((t=>n(t,"next"))),i.forEach((t=>n(t,"prev")))}i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null},n("init",(()=>{!1===e.params.navigation.enabled?u():(d(),o())})),n("toEdge fromEdge lock unlock",(()=>{o()})),n("destroy",(()=>{h()})),n("enable disable",(()=>{let{nextEl:t,prevEl:i}=e.navigation;t=S(t),i=S(i),e.enabled?o():[...t,...i].filter((t=>!!t)).forEach((t=>t.classList.add(e.params.navigation.lockClass)))})),n("click",((t,i)=>{let{nextEl:n,prevEl:a}=e.navigation;n=S(n),a=S(a);const s=i.target;let o=a.includes(s)||n.includes(s);if(e.isElement&&!o){const t=i.path||i.composedPath&&i.composedPath();t&&(o=t.find((t=>n.includes(t)||a.includes(t))))}if(e.params.navigation.hideOnClick&&!o){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===s||e.pagination.el.contains(s)))return;let t;n.length?t=n[0].classList.contains(e.params.navigation.hiddenClass):a.length&&(t=a[0].classList.contains(e.params.navigation.hiddenClass)),r(!0===t?"navigationShow":"navigationHide"),[...n,...a].filter((t=>!!t)).forEach((t=>t.classList.toggle(e.params.navigation.hiddenClass)))}}));const u=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),o()},disable:u,update:o,init:d,destroy:h})},function(t){let{swiper:e,extendParams:i,on:n,emit:r}=t;const a="swiper-pagination";let s;i({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let o=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&0===e.pagination.el.length}function c(t,i){const{bulletActiveClass:n}=e.params.pagination;t&&(t=t[("prev"===i?"previous":"next")+"ElementSibling"])&&(t.classList.add(`${n}-${i}`),(t=t[("prev"===i?"previous":"next")+"ElementSibling"])&&t.classList.add(`${n}-${i}-${i}`))}function d(t){const i=t.target.closest(st(e.params.pagination.bulletClass));if(!i)return;t.preventDefault();const n=b(i)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===n)return;e.slideToLoop(n)}else e.slideTo(n)}function h(){const t=e.rtl,i=e.params.pagination;if(l())return;let n,a,d=e.pagination.el;d=S(d);const h=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,u=e.params.loop?Math.ceil(h/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(a=e.previousRealIndex||0,n=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):void 0!==e.snapIndex?(n=e.snapIndex,a=e.previousSnapIndex):(a=e.previousIndex||0,n=e.activeIndex||0),"bullets"===i.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const r=e.pagination.bullets;let l,h,u;if(i.dynamicBullets&&(s=w(r[0],e.isHorizontal()?"width":"height",!0),d.forEach((t=>{t.style[e.isHorizontal()?"width":"height"]=s*(i.dynamicMainBullets+4)+"px"})),i.dynamicMainBullets>1&&void 0!==a&&(o+=n-(a||0),o>i.dynamicMainBullets-1?o=i.dynamicMainBullets-1:o<0&&(o=0)),l=Math.max(n-o,0),h=l+(Math.min(r.length,i.dynamicMainBullets)-1),u=(h+l)/2),r.forEach((t=>{const e=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((t=>`${i.bulletActiveClass}${t}`))].map((t=>"string"==typeof t&&t.includes(" ")?t.split(" "):t)).flat();t.classList.remove(...e)})),d.length>1)r.forEach((t=>{const r=b(t);r===n?t.classList.add(...i.bulletActiveClass.split(" ")):e.isElement&&t.setAttribute("part","bullet"),i.dynamicBullets&&(r>=l&&r<=h&&t.classList.add(...`${i.bulletActiveClass}-main`.split(" ")),r===l&&c(t,"prev"),r===h&&c(t,"next"))}));else{const t=r[n];if(t&&t.classList.add(...i.bulletActiveClass.split(" ")),e.isElement&&r.forEach(((t,e)=>{t.setAttribute("part",e===n?"bullet-active":"bullet")})),i.dynamicBullets){const t=r[l],e=r[h];for(let t=l;t<=h;t+=1)r[t]&&r[t].classList.add(...`${i.bulletActiveClass}-main`.split(" "));c(t,"prev"),c(e,"next")}}if(i.dynamicBullets){const n=Math.min(r.length,i.dynamicMainBullets+4),a=(s*n-s)/2-u*s,o=t?"right":"left";r.forEach((t=>{t.style[e.isHorizontal()?o:"top"]=`${a}px`}))}}d.forEach(((t,a)=>{if("fraction"===i.type&&(t.querySelectorAll(st(i.currentClass)).forEach((t=>{t.textContent=i.formatFractionCurrent(n+1)})),t.querySelectorAll(st(i.totalClass)).forEach((t=>{t.textContent=i.formatFractionTotal(u)}))),"progressbar"===i.type){let r;r=i.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const a=(n+1)/u;let s=1,o=1;"horizontal"===r?s=a:o=a,t.querySelectorAll(st(i.progressbarFillClass)).forEach((t=>{t.style.transform=`translate3d(0,0,0) scaleX(${s}) scaleY(${o})`,t.style.transitionDuration=`${e.params.speed}ms`}))}"custom"===i.type&&i.renderCustom?(t.innerHTML=i.renderCustom(e,n+1,u),0===a&&r("paginationRender",t)):(0===a&&r("paginationRender",t),r("paginationUpdate",t)),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](i.lockClass)}))}function u(){const t=e.params.pagination;if(l())return;const i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let n=e.pagination.el;n=S(n);let a="";if("bullets"===t.type){let n=e.params.loop?Math.ceil(i/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&n>i&&(n=i);for(let i=0;i<n;i+=1)t.renderBullet?a+=t.renderBullet.call(e,i,t.bulletClass):a+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}"fraction"===t.type&&(a=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),"progressbar"===t.type&&(a=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],n.forEach((i=>{"custom"!==t.type&&(i.innerHTML=a||""),"bullets"===t.type&&e.pagination.bullets.push(...i.querySelectorAll(st(t.bulletClass)))})),"custom"!==t.type&&r("paginationRender",n[0])}function f(){e.params.pagination=at(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let i;"string"==typeof t.el&&e.isElement&&(i=e.el.querySelector(t.el)),i||"string"!=typeof t.el||(i=[...document.querySelectorAll(t.el)]),i||(i=t.el),i&&0!==i.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&Array.isArray(i)&&i.length>1&&(i=[...e.el.querySelectorAll(t.el)],i.length>1&&(i=i.filter((t=>k(t,".swiper")[0]===e.el))[0])),Array.isArray(i)&&1===i.length&&(i=i[0]),Object.assign(e.pagination,{el:i}),i=S(i),i.forEach((i=>{"bullets"===t.type&&t.clickable&&i.classList.add(...(t.clickableClass||"").split(" ")),i.classList.add(t.modifierClass+t.type),i.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),"bullets"===t.type&&t.dynamicBullets&&(i.classList.add(`${t.modifierClass}${t.type}-dynamic`),o=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&i.classList.add(t.progressbarOppositeClass),t.clickable&&i.addEventListener("click",d),e.enabled||i.classList.add(t.lockClass)})))}function p(){const t=e.params.pagination;if(l())return;let i=e.pagination.el;i&&(i=S(i),i.forEach((i=>{i.classList.remove(t.hiddenClass),i.classList.remove(t.modifierClass+t.type),i.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(i.classList.remove(...(t.clickableClass||"").split(" ")),i.removeEventListener("click",d))}))),e.pagination.bullets&&e.pagination.bullets.forEach((e=>e.classList.remove(...t.bulletActiveClass.split(" "))))}n("changeDirection",(()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:i}=e.pagination;i=S(i),i.forEach((i=>{i.classList.remove(t.horizontalClass,t.verticalClass),i.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)}))})),n("init",(()=>{!1===e.params.pagination.enabled?g():(f(),u(),h())})),n("activeIndexChange",(()=>{void 0===e.snapIndex&&h()})),n("snapIndexChange",(()=>{h()})),n("snapGridLengthChange",(()=>{u(),h()})),n("destroy",(()=>{p()})),n("enable disable",(()=>{let{el:t}=e.pagination;t&&(t=S(t),t.forEach((t=>t.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass))))})),n("lock unlock",(()=>{h()})),n("click",((t,i)=>{const n=i.target,a=S(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&a&&a.length>0&&!n.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&n===e.navigation.nextEl||e.navigation.prevEl&&n===e.navigation.prevEl))return;const t=a[0].classList.contains(e.params.pagination.hiddenClass);r(!0===t?"paginationShow":"paginationHide"),a.forEach((t=>t.classList.toggle(e.params.pagination.hiddenClass)))}}));const g=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=S(t),t.forEach((t=>t.classList.add(e.params.pagination.paginationDisabledClass)))),p()};Object.assign(e.pagination,{enable:()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=S(t),t.forEach((t=>t.classList.remove(e.params.pagination.paginationDisabledClass)))),f(),u(),h()},disable:g,render:u,update:h,init:f,destroy:p})},function(t){let{swiper:e,extendParams:i,on:r,emit:a}=t;const l=n();let c,d,h,u,f=!1,p=null,g=null;function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t,rtlTranslate:i}=e,{dragEl:n,el:r}=t,a=e.params.scrollbar,s=e.params.loop?e.progressLoop:e.progress;let o=d,l=(h-d)*s;i?(l=-l,l>0?(o=d-l,l=0):-l+d>h&&(o=h+l)):l<0?(o=d+l,l=0):l+d>h&&(o=h-l),e.isHorizontal()?(n.style.transform=`translate3d(${l}px, 0, 0)`,n.style.width=`${o}px`):(n.style.transform=`translate3d(0px, ${l}px, 0)`,n.style.height=`${o}px`),a.hide&&(clearTimeout(p),r.style.opacity=1,p=setTimeout((()=>{r.style.opacity=0,r.style.transitionDuration="400ms"}),1e3))}function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t}=e,{dragEl:i,el:n}=t;i.style.width="",i.style.height="",h=e.isHorizontal()?n.offsetWidth:n.offsetHeight,u=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),d="auto"===e.params.scrollbar.dragSize?h*u:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?i.style.width=`${d}px`:i.style.height=`${d}px`,n.style.display=u>=1?"none":"",e.params.scrollbar.hide&&(n.style.opacity=0),e.params.watchOverflow&&e.enabled&&t.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function b(t){return e.isHorizontal()?t.clientX:t.clientY}function k(t){const{scrollbar:i,rtlTranslate:n}=e,{el:r}=i;let a;a=(b(t)-v(r)[e.isHorizontal()?"left":"top"]-(null!==c?c:d/2))/(h-d),a=Math.max(Math.min(a,1),0),n&&(a=1-a);const s=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*a;e.updateProgress(s),e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}function x(t){const i=e.params.scrollbar,{scrollbar:n,wrapperEl:r}=e,{el:s,dragEl:o}=n;f=!0,c=t.target===o?b(t)-t.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,t.preventDefault(),t.stopPropagation(),r.style.transitionDuration="100ms",o.style.transitionDuration="100ms",k(t),clearTimeout(g),s.style.transitionDuration="0ms",i.hide&&(s.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),a("scrollbarDragStart",t)}function w(t){const{scrollbar:i,wrapperEl:n}=e,{el:r,dragEl:s}=i;f&&(t.preventDefault&&t.cancelable?t.preventDefault():t.returnValue=!1,k(t),n.style.transitionDuration="0ms",r.style.transitionDuration="0ms",s.style.transitionDuration="0ms",a("scrollbarDragMove",t))}function T(t){const i=e.params.scrollbar,{scrollbar:n,wrapperEl:r}=e,{el:s}=n;f&&(f=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",r.style.transitionDuration=""),i.hide&&(clearTimeout(g),g=o((()=>{s.style.opacity=0,s.style.transitionDuration="400ms"}),1e3)),a("scrollbarDragEnd",t),i.snapOnRelease&&e.slideToClosest())}function E(t){const{scrollbar:i,params:n}=e,r=i.el;if(!r)return;const a=r,s=!!n.passiveListeners&&{passive:!1,capture:!1},o=!!n.passiveListeners&&{passive:!0,capture:!1};if(!a)return;const c="on"===t?"addEventListener":"removeEventListener";a[c]("pointerdown",x,s),l[c]("pointermove",w,s),l[c]("pointerup",T,o)}function C(){const{scrollbar:t,el:i}=e;e.params.scrollbar=at(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const n=e.params.scrollbar;if(!n.el)return;let r,a;if("string"==typeof n.el&&e.isElement&&(r=e.el.querySelector(n.el)),r||"string"!=typeof n.el)r||(r=n.el);else if(r=l.querySelectorAll(n.el),!r.length)return;e.params.uniqueNavElements&&"string"==typeof n.el&&r.length>1&&1===i.querySelectorAll(n.el).length&&(r=i.querySelector(n.el)),r.length>0&&(r=r[0]),r.classList.add(e.isHorizontal()?n.horizontalClass:n.verticalClass),r&&(a=r.querySelector(st(e.params.scrollbar.dragClass)),a||(a=_("div",e.params.scrollbar.dragClass),r.append(a))),Object.assign(t,{el:r,dragEl:a}),n.draggable&&e.params.scrollbar.el&&e.scrollbar.el&&E("on"),r&&r.classList[e.enabled?"remove":"add"](...s(e.params.scrollbar.lockClass))}function M(){const t=e.params.scrollbar,i=e.scrollbar.el;i&&i.classList.remove(...s(e.isHorizontal()?t.horizontalClass:t.verticalClass)),e.params.scrollbar.el&&e.scrollbar.el&&E("off")}i({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null},r("changeDirection",(()=>{if(!e.scrollbar||!e.scrollbar.el)return;const t=e.params.scrollbar;let{el:i}=e.scrollbar;i=S(i),i.forEach((i=>{i.classList.remove(t.horizontalClass,t.verticalClass),i.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)}))})),r("init",(()=>{!1===e.params.scrollbar.enabled?P():(C(),y(),m())})),r("update resize observerUpdate lock unlock changeDirection",(()=>{y()})),r("setTranslate",(()=>{m()})),r("setTransition",((t,i)=>{!function(t){e.params.scrollbar.el&&e.scrollbar.el&&(e.scrollbar.dragEl.style.transitionDuration=`${t}ms`)}(i)})),r("enable disable",(()=>{const{el:t}=e.scrollbar;t&&t.classList[e.enabled?"remove":"add"](...s(e.params.scrollbar.lockClass))})),r("destroy",(()=>{M()}));const P=()=>{e.el.classList.add(...s(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...s(e.params.scrollbar.scrollbarDisabledClass)),M()};Object.assign(e.scrollbar,{enable:()=>{e.el.classList.remove(...s(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...s(e.params.scrollbar.scrollbarDisabledClass)),C(),y(),m()},disable:P,updateSize:y,setTranslate:m,init:C,destroy:M})},function(t){let{swiper:e,extendParams:i,on:n}=t;i({parallax:{enabled:!1}});const r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",a=(t,i)=>{const{rtl:n}=e,r=n?-1:1,a=t.getAttribute("data-swiper-parallax")||"0";let s=t.getAttribute("data-swiper-parallax-x"),o=t.getAttribute("data-swiper-parallax-y");const l=t.getAttribute("data-swiper-parallax-scale"),c=t.getAttribute("data-swiper-parallax-opacity"),d=t.getAttribute("data-swiper-parallax-rotate");if(s||o?(s=s||"0",o=o||"0"):e.isHorizontal()?(s=a,o="0"):(o=a,s="0"),s=s.indexOf("%")>=0?parseInt(s,10)*i*r+"%":s*i*r+"px",o=o.indexOf("%")>=0?parseInt(o,10)*i+"%":o*i+"px",null!=c){const e=c-(c-1)*(1-Math.abs(i));t.style.opacity=e}let h=`translate3d(${s}, ${o}, 0px)`;null!=l&&(h+=` scale(${l-(l-1)*(1-Math.abs(i))})`),d&&null!=d&&(h+=` rotate(${d*i*-1}deg)`),t.style.transform=h},s=()=>{const{el:t,slides:i,progress:n,snapGrid:s,isElement:o}=e,l=g(t,r);e.isElement&&l.push(...g(e.hostEl,r)),l.forEach((t=>{a(t,n)})),i.forEach(((t,i)=>{let o=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(o+=Math.ceil(i/2)-n*(s.length-1)),o=Math.min(Math.max(o,-1),1),t.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach((t=>{a(t,o)}))}))};n("beforeInit",(()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)})),n("init",(()=>{e.params.parallax.enabled&&s()})),n("setTranslate",(()=>{e.params.parallax.enabled&&s()})),n("setTransition",((t,i)=>{e.params.parallax.enabled&&function(t){void 0===t&&(t=e.params.speed);const{el:i,hostEl:n}=e,a=[...i.querySelectorAll(r)];e.isElement&&a.push(...n.querySelectorAll(r)),a.forEach((e=>{let i=parseInt(e.getAttribute("data-swiper-parallax-duration"),10)||t;0===t&&(i=0),e.style.transitionDuration=`${i}ms`}))}(i)}))},function(t){let{swiper:e,extendParams:i,on:n,emit:r}=t;const s=a();i({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let o,l,d=1,h=!1;const u=[],f={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},p={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},m={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let _,y=1;function b(){if(u.length<2)return 1;const t=u[0].pageX,e=u[0].pageY,i=u[1].pageX,n=u[1].pageY;return Math.sqrt((i-t)**2+(n-e)**2)}function x(){const t=e.params.zoom,i=f.imageWrapEl.getAttribute("data-swiper-zoom")||t.maxRatio;if(t.limitToOriginalSize&&f.imageEl&&f.imageEl.naturalWidth){const t=f.imageEl.naturalWidth/f.imageEl.offsetWidth;return Math.min(t,i)}return i}function w(t){const i=e.isElement?"swiper-slide":`.${e.params.slideClass}`;return!!t.target.matches(i)||e.slides.filter((e=>e.contains(t.target))).length>0}function S(t){if("mouse"===t.pointerType&&u.splice(0,u.length),!w(t))return;const i=e.params.zoom;if(o=!1,l=!1,u.push(t),!(u.length<2)){if(o=!0,f.scaleStart=b(),!f.slideEl){f.slideEl=t.target.closest(`.${e.params.slideClass}, swiper-slide`),f.slideEl||(f.slideEl=e.slides[e.activeIndex]);let n=f.slideEl.querySelector(`.${i.containerClass}`);if(n&&(n=n.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),f.imageEl=n,f.imageWrapEl=n?k(f.imageEl,`.${i.containerClass}`)[0]:void 0,!f.imageWrapEl)return void(f.imageEl=void 0);f.maxRatio=x()}if(f.imageEl){const[t,e]=function(){if(u.length<2)return{x:null,y:null};const t=f.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-t.x-s.scrollX)/d,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-t.y-s.scrollY)/d]}();f.originX=t,f.originY=e,f.imageEl.style.transitionDuration="0ms"}h=!0}}function T(t){if(!w(t))return;const i=e.params.zoom,n=e.zoom,r=u.findIndex((e=>e.pointerId===t.pointerId));r>=0&&(u[r]=t),u.length<2||(l=!0,f.scaleMove=b(),f.imageEl&&(n.scale=f.scaleMove/f.scaleStart*d,n.scale>f.maxRatio&&(n.scale=f.maxRatio-1+(n.scale-f.maxRatio+1)**.5),n.scale<i.minRatio&&(n.scale=i.minRatio+1-(i.minRatio-n.scale+1)**.5),f.imageEl.style.transform=`translate3d(0,0,0) scale(${n.scale})`))}function E(t){if(!w(t))return;if("mouse"===t.pointerType&&"pointerout"===t.type)return;const i=e.params.zoom,n=e.zoom,r=u.findIndex((e=>e.pointerId===t.pointerId));r>=0&&u.splice(r,1),o&&l&&(o=!1,l=!1,f.imageEl&&(n.scale=Math.max(Math.min(n.scale,f.maxRatio),i.minRatio),f.imageEl.style.transitionDuration=`${e.params.speed}ms`,f.imageEl.style.transform=`translate3d(0,0,0) scale(${n.scale})`,d=n.scale,h=!1,n.scale>1&&f.slideEl?f.slideEl.classList.add(`${i.zoomedSlideClass}`):n.scale<=1&&f.slideEl&&f.slideEl.classList.remove(`${i.zoomedSlideClass}`),1===n.scale&&(f.originX=0,f.originY=0,f.slideEl=void 0)))}function C(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function M(t){if(!w(t)||!function(t){const i=`.${e.params.zoom.containerClass}`;return!!t.target.matches(i)||[...e.hostEl.querySelectorAll(i)].filter((e=>e.contains(t.target))).length>0}(t))return;const i=e.zoom;if(!f.imageEl)return;if(!p.isTouched||!f.slideEl)return;p.isMoved||(p.width=f.imageEl.offsetWidth||f.imageEl.clientWidth,p.height=f.imageEl.offsetHeight||f.imageEl.clientHeight,p.startX=c(f.imageWrapEl,"x")||0,p.startY=c(f.imageWrapEl,"y")||0,f.slideWidth=f.slideEl.offsetWidth,f.slideHeight=f.slideEl.offsetHeight,f.imageWrapEl.style.transitionDuration="0ms");const n=p.width*i.scale,r=p.height*i.scale;if(p.minX=Math.min(f.slideWidth/2-n/2,0),p.maxX=-p.minX,p.minY=Math.min(f.slideHeight/2-r/2,0),p.maxY=-p.minY,p.touchesCurrent.x=u.length>0?u[0].pageX:t.pageX,p.touchesCurrent.y=u.length>0?u[0].pageY:t.pageY,Math.max(Math.abs(p.touchesCurrent.x-p.touchesStart.x),Math.abs(p.touchesCurrent.y-p.touchesStart.y))>5&&(e.allowClick=!1),!p.isMoved&&!h){if(e.isHorizontal()&&(Math.floor(p.minX)===Math.floor(p.startX)&&p.touchesCurrent.x<p.touchesStart.x||Math.floor(p.maxX)===Math.floor(p.startX)&&p.touchesCurrent.x>p.touchesStart.x))return p.isTouched=!1,void C();if(!e.isHorizontal()&&(Math.floor(p.minY)===Math.floor(p.startY)&&p.touchesCurrent.y<p.touchesStart.y||Math.floor(p.maxY)===Math.floor(p.startY)&&p.touchesCurrent.y>p.touchesStart.y))return p.isTouched=!1,void C()}t.cancelable&&t.preventDefault(),t.stopPropagation(),clearTimeout(_),e.touchEventsData.preventTouchMoveFromPointerMove=!0,_=setTimeout((()=>{C()})),p.isMoved=!0;const a=(i.scale-d)/(f.maxRatio-e.params.zoom.minRatio),{originX:s,originY:o}=f;p.currentX=p.touchesCurrent.x-p.touchesStart.x+p.startX+a*(p.width-2*s),p.currentY=p.touchesCurrent.y-p.touchesStart.y+p.startY+a*(p.height-2*o),p.currentX<p.minX&&(p.currentX=p.minX+1-(p.minX-p.currentX+1)**.8),p.currentX>p.maxX&&(p.currentX=p.maxX-1+(p.currentX-p.maxX+1)**.8),p.currentY<p.minY&&(p.currentY=p.minY+1-(p.minY-p.currentY+1)**.8),p.currentY>p.maxY&&(p.currentY=p.maxY-1+(p.currentY-p.maxY+1)**.8),m.prevPositionX||(m.prevPositionX=p.touchesCurrent.x),m.prevPositionY||(m.prevPositionY=p.touchesCurrent.y),m.prevTime||(m.prevTime=Date.now()),m.x=(p.touchesCurrent.x-m.prevPositionX)/(Date.now()-m.prevTime)/2,m.y=(p.touchesCurrent.y-m.prevPositionY)/(Date.now()-m.prevTime)/2,Math.abs(p.touchesCurrent.x-m.prevPositionX)<2&&(m.x=0),Math.abs(p.touchesCurrent.y-m.prevPositionY)<2&&(m.y=0),m.prevPositionX=p.touchesCurrent.x,m.prevPositionY=p.touchesCurrent.y,m.prevTime=Date.now(),f.imageWrapEl.style.transform=`translate3d(${p.currentX}px, ${p.currentY}px,0)`}function P(){const t=e.zoom;f.slideEl&&e.activeIndex!==e.slides.indexOf(f.slideEl)&&(f.imageEl&&(f.imageEl.style.transform="translate3d(0,0,0) scale(1)"),f.imageWrapEl&&(f.imageWrapEl.style.transform="translate3d(0,0,0)"),f.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),t.scale=1,d=1,f.slideEl=void 0,f.imageEl=void 0,f.imageWrapEl=void 0,f.originX=0,f.originY=0)}function A(t){const i=e.zoom,n=e.params.zoom;if(!f.slideEl){t&&t.target&&(f.slideEl=t.target.closest(`.${e.params.slideClass}, swiper-slide`)),f.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?f.slideEl=g(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:f.slideEl=e.slides[e.activeIndex]);let i=f.slideEl.querySelector(`.${n.containerClass}`);i&&(i=i.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),f.imageEl=i,f.imageWrapEl=i?k(f.imageEl,`.${n.containerClass}`)[0]:void 0}if(!f.imageEl||!f.imageWrapEl)return;let r,a,o,l,c,h,u,m,_,y,b,w,S,T,E,C,M,P;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),f.slideEl.classList.add(`${n.zoomedSlideClass}`),void 0===p.touchesStart.x&&t?(r=t.pageX,a=t.pageY):(r=p.touchesStart.x,a=p.touchesStart.y);const A="number"==typeof t?t:null;1===d&&A&&(r=void 0,a=void 0);const $=x();i.scale=A||$,d=A||$,!t||1===d&&A?(u=0,m=0):(M=f.slideEl.offsetWidth,P=f.slideEl.offsetHeight,o=v(f.slideEl).left+s.scrollX,l=v(f.slideEl).top+s.scrollY,c=o+M/2-r,h=l+P/2-a,_=f.imageEl.offsetWidth||f.imageEl.clientWidth,y=f.imageEl.offsetHeight||f.imageEl.clientHeight,b=_*i.scale,w=y*i.scale,S=Math.min(M/2-b/2,0),T=Math.min(P/2-w/2,0),E=-S,C=-T,u=c*i.scale,m=h*i.scale,u<S&&(u=S),u>E&&(u=E),m<T&&(m=T),m>C&&(m=C)),A&&1===i.scale&&(f.originX=0,f.originY=0),f.imageWrapEl.style.transitionDuration="300ms",f.imageWrapEl.style.transform=`translate3d(${u}px, ${m}px,0)`,f.imageEl.style.transitionDuration="300ms",f.imageEl.style.transform=`translate3d(0,0,0) scale(${i.scale})`}function $(){const t=e.zoom,i=e.params.zoom;if(!f.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?f.slideEl=g(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:f.slideEl=e.slides[e.activeIndex];let t=f.slideEl.querySelector(`.${i.containerClass}`);t&&(t=t.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),f.imageEl=t,f.imageWrapEl=t?k(f.imageEl,`.${i.containerClass}`)[0]:void 0}f.imageEl&&f.imageWrapEl&&(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),t.scale=1,d=1,f.imageWrapEl.style.transitionDuration="300ms",f.imageWrapEl.style.transform="translate3d(0,0,0)",f.imageEl.style.transitionDuration="300ms",f.imageEl.style.transform="translate3d(0,0,0) scale(1)",f.slideEl.classList.remove(`${i.zoomedSlideClass}`),f.slideEl=void 0,f.originX=0,f.originY=0)}function D(t){const i=e.zoom;i.scale&&1!==i.scale?$():A(t)}function I(){return{passiveListener:!!e.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!e.params.passiveListeners||{passive:!1,capture:!0}}}function L(){const t=e.zoom;if(t.enabled)return;t.enabled=!0;const{passiveListener:i,activeListenerWithCapture:n}=I();e.wrapperEl.addEventListener("pointerdown",S,i),e.wrapperEl.addEventListener("pointermove",T,n),["pointerup","pointercancel","pointerout"].forEach((t=>{e.wrapperEl.addEventListener(t,E,i)})),e.wrapperEl.addEventListener("pointermove",M,n)}function O(){const t=e.zoom;if(!t.enabled)return;t.enabled=!1;const{passiveListener:i,activeListenerWithCapture:n}=I();e.wrapperEl.removeEventListener("pointerdown",S,i),e.wrapperEl.removeEventListener("pointermove",T,n),["pointerup","pointercancel","pointerout"].forEach((t=>{e.wrapperEl.removeEventListener(t,E,i)})),e.wrapperEl.removeEventListener("pointermove",M,n)}Object.defineProperty(e.zoom,"scale",{get:()=>y,set(t){if(y!==t){const e=f.imageEl,i=f.slideEl;r("zoomChange",t,e,i)}y=t}}),n("init",(()=>{e.params.zoom.enabled&&L()})),n("destroy",(()=>{O()})),n("touchStart",((t,i)=>{e.zoom.enabled&&function(t){const i=e.device;if(!f.imageEl)return;if(p.isTouched)return;i.android&&t.cancelable&&t.preventDefault(),p.isTouched=!0;const n=u.length>0?u[0]:t;p.touchesStart.x=n.pageX,p.touchesStart.y=n.pageY}(i)})),n("touchEnd",((t,i)=>{e.zoom.enabled&&function(){const t=e.zoom;if(!f.imageEl)return;if(!p.isTouched||!p.isMoved)return p.isTouched=!1,void(p.isMoved=!1);p.isTouched=!1,p.isMoved=!1;let i=300,n=300;const r=m.x*i,a=p.currentX+r,s=m.y*n,o=p.currentY+s;0!==m.x&&(i=Math.abs((a-p.currentX)/m.x)),0!==m.y&&(n=Math.abs((o-p.currentY)/m.y));const l=Math.max(i,n);p.currentX=a,p.currentY=o;const c=p.width*t.scale,d=p.height*t.scale;p.minX=Math.min(f.slideWidth/2-c/2,0),p.maxX=-p.minX,p.minY=Math.min(f.slideHeight/2-d/2,0),p.maxY=-p.minY,p.currentX=Math.max(Math.min(p.currentX,p.maxX),p.minX),p.currentY=Math.max(Math.min(p.currentY,p.maxY),p.minY),f.imageWrapEl.style.transitionDuration=`${l}ms`,f.imageWrapEl.style.transform=`translate3d(${p.currentX}px, ${p.currentY}px,0)`}()})),n("doubleTap",((t,i)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&D(i)})),n("transitionEnd",(()=>{e.zoom.enabled&&e.params.zoom.enabled&&P()})),n("slideChange",(()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&P()})),Object.assign(e.zoom,{enable:L,disable:O,in:A,out:$,toggle:D})},function(t){let{swiper:e,extendParams:i,on:n}=t;function r(t,e){const i=function(){let t,e,i;return(n,r)=>{for(e=-1,t=n.length;t-e>1;)i=t+e>>1,n[i]<=r?e=i:t=i;return t}}();let n,r;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(r=i(this.x,t),n=r-1,(t-this.x[n])*(this.y[r]-this.y[n])/(this.x[r]-this.x[n])+this.y[n]):0},this}function a(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}i({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},n("beforeInit",(()=>{"undefined"!=typeof window&&("string"==typeof e.params.controller.control||e.params.controller.control instanceof HTMLElement)?("string"==typeof e.params.controller.control?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach((t=>{if(e.controller.control||(e.controller.control=[]),t&&t.swiper)e.controller.control.push(t.swiper);else if(t){const i=`${e.params.eventsPrefix}init`,n=r=>{e.controller.control.push(r.detail[0]),e.update(),t.removeEventListener(i,n)};t.addEventListener(i,n)}})):e.controller.control=e.params.controller.control})),n("update",(()=>{a()})),n("resize",(()=>{a()})),n("observerUpdate",(()=>{a()})),n("setTranslate",((t,i,n)=>{e.controller.control&&!e.controller.control.destroyed&&e.controller.setTranslate(i,n)})),n("setTransition",((t,i,n)=>{e.controller.control&&!e.controller.control.destroyed&&e.controller.setTransition(i,n)})),Object.assign(e.controller,{setTranslate:function(t,i){const n=e.controller.control;let a,s;const o=e.constructor;function l(t){if(t.destroyed)return;const i=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(function(t){e.controller.spline=e.params.loop?new r(e.slidesGrid,t.slidesGrid):new r(e.snapGrid,t.snapGrid)}(t),s=-e.controller.spline.interpolate(-i)),s&&"container"!==e.params.controller.by||(a=(t.maxTranslate()-t.minTranslate())/(e.maxTranslate()-e.minTranslate()),!Number.isNaN(a)&&Number.isFinite(a)||(a=1),s=(i-e.minTranslate())*a+t.minTranslate()),e.params.controller.inverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setTranslate(s,e),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(n))for(let t=0;t<n.length;t+=1)n[t]!==i&&n[t]instanceof o&&l(n[t]);else n instanceof o&&i!==n&&l(n)},setTransition:function(t,i){const n=e.constructor,r=e.controller.control;let a;function s(i){i.destroyed||(i.setTransition(t,e),0!==t&&(i.transitionStart(),i.params.autoHeight&&o((()=>{i.updateAutoHeight()})),x(i.wrapperEl,(()=>{r&&i.transitionEnd()}))))}if(Array.isArray(r))for(a=0;a<r.length;a+=1)r[a]!==i&&r[a]instanceof n&&s(r[a]);else r instanceof n&&i!==r&&s(r)}})},function(t){let{swiper:e,extendParams:i,on:r}=t;i({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let a,s,o=null,l=(new Date).getTime();function c(t){const e=o;0!==e.length&&(e.innerHTML="",e.innerHTML=t)}function d(t){(t=S(t)).forEach((t=>{t.setAttribute("tabIndex","0")}))}function h(t){(t=S(t)).forEach((t=>{t.setAttribute("tabIndex","-1")}))}function u(t,e){(t=S(t)).forEach((t=>{t.setAttribute("role",e)}))}function f(t,e){(t=S(t)).forEach((t=>{t.setAttribute("aria-roledescription",e)}))}function p(t,e){(t=S(t)).forEach((t=>{t.setAttribute("aria-label",e)}))}function g(t){(t=S(t)).forEach((t=>{t.setAttribute("aria-disabled",!0)}))}function m(t){(t=S(t)).forEach((t=>{t.setAttribute("aria-disabled",!1)}))}function v(t){if(13!==t.keyCode&&32!==t.keyCode)return;const i=e.params.a11y,n=t.target;if(!e.pagination||!e.pagination.el||n!==e.pagination.el&&!e.pagination.el.contains(t.target)||t.target.matches(st(e.params.pagination.bulletClass))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const t=S(e.navigation.prevEl);S(e.navigation.nextEl).includes(n)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?c(i.lastSlideMessage):c(i.nextSlideMessage)),t.includes(n)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?c(i.firstSlideMessage):c(i.prevSlideMessage))}e.pagination&&n.matches(st(e.params.pagination.bulletClass))&&n.click()}}function y(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function k(){return y()&&e.params.pagination.clickable}const x=(t,e,i)=>{d(t),"BUTTON"!==t.tagName&&(u(t,"button"),t.addEventListener("keydown",v)),p(t,i),function(t,e){(t=S(t)).forEach((t=>{t.setAttribute("aria-controls",e)}))}(t,e)},w=t=>{s&&s!==t.target&&!s.contains(t.target)&&(a=!0),e.a11y.clicked=!0},T=()=>{a=!1,requestAnimationFrame((()=>{requestAnimationFrame((()=>{e.destroyed||(e.a11y.clicked=!1)}))}))},E=t=>{l=(new Date).getTime()},C=t=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus)return;if((new Date).getTime()-l<100)return;const i=t.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!i||!e.slides.includes(i))return;s=i;const n=e.slides.indexOf(i)===e.activeIndex,r=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(i);n||r||t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame((()=>{a||(e.params.loop?e.slideToLoop(parseInt(i.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(i),0),a=!1)})))},M=()=>{const t=e.params.a11y;t.itemRoleDescriptionMessage&&f(e.slides,t.itemRoleDescriptionMessage),t.slideRole&&u(e.slides,t.slideRole);const i=e.slides.length;t.slideLabelMessage&&e.slides.forEach(((n,r)=>{const a=e.params.loop?parseInt(n.getAttribute("data-swiper-slide-index"),10):r;p(n,t.slideLabelMessage.replace(/\{\{index\}\}/,a+1).replace(/\{\{slidesLength\}\}/,i))}))};r("beforeInit",(()=>{o=_("span",e.params.a11y.notificationClass),o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true")})),r("afterInit",(()=>{e.params.a11y.enabled&&(()=>{const t=e.params.a11y;e.el.append(o);const i=e.el;t.containerRoleDescriptionMessage&&f(i,t.containerRoleDescriptionMessage),t.containerMessage&&p(i,t.containerMessage);const r=e.wrapperEl,a=t.id||r.getAttribute("id")||`swiper-wrapper-${s=16,void 0===s&&(s=16),"x".repeat(s).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}`;var s;const l=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";var c;c=a,S(r).forEach((t=>{t.setAttribute("id",c)})),function(t,e){(t=S(t)).forEach((t=>{t.setAttribute("aria-live",e)}))}(r,l),M();let{nextEl:d,prevEl:h}=e.navigation?e.navigation:{};d=S(d),h=S(h),d&&d.forEach((e=>x(e,a,t.nextSlideMessage))),h&&h.forEach((e=>x(e,a,t.prevSlideMessage))),k()&&S(e.pagination.el).forEach((t=>{t.addEventListener("keydown",v)})),n().addEventListener("visibilitychange",E),e.el.addEventListener("focus",C,!0),e.el.addEventListener("focus",C,!0),e.el.addEventListener("pointerdown",w,!0),e.el.addEventListener("pointerup",T,!0)})()})),r("slidesLengthChange snapGridLengthChange slidesGridLengthChange",(()=>{e.params.a11y.enabled&&M()})),r("fromEdge toEdge afterInit lock unlock",(()=>{e.params.a11y.enabled&&function(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:t,prevEl:i}=e.navigation;i&&(e.isBeginning?(g(i),h(i)):(m(i),d(i))),t&&(e.isEnd?(g(t),h(t)):(m(t),d(t)))}()})),r("paginationUpdate",(()=>{e.params.a11y.enabled&&function(){const t=e.params.a11y;y()&&e.pagination.bullets.forEach((i=>{e.params.pagination.clickable&&(d(i),e.params.pagination.renderBullet||(u(i,"button"),p(i,t.paginationBulletMessage.replace(/\{\{index\}\}/,b(i)+1)))),i.matches(st(e.params.pagination.bulletActiveClass))?i.setAttribute("aria-current","true"):i.removeAttribute("aria-current")}))}()})),r("destroy",(()=>{e.params.a11y.enabled&&function(){o&&o.remove();let{nextEl:t,prevEl:i}=e.navigation?e.navigation:{};t=S(t),i=S(i),t&&t.forEach((t=>t.removeEventListener("keydown",v))),i&&i.forEach((t=>t.removeEventListener("keydown",v))),k()&&S(e.pagination.el).forEach((t=>{t.removeEventListener("keydown",v)})),n().removeEventListener("visibilitychange",E),e.el&&"string"!=typeof e.el&&(e.el.removeEventListener("focus",C,!0),e.el.removeEventListener("pointerdown",w,!0),e.el.removeEventListener("pointerup",T,!0))}()}))},function(t){let{swiper:e,extendParams:i,on:n}=t;i({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,s={};const o=t=>t.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),l=t=>{const e=a();let i;i=t?new URL(t):e.location;const n=i.pathname.slice(1).split("/").filter((t=>""!==t)),r=n.length;return{key:n[r-2],value:n[r-1]}},c=(t,i)=>{const n=a();if(!r||!e.params.history.enabled)return;let s;s=e.params.url?new URL(e.params.url):n.location;const l=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${i}"]`):e.slides[i];let c=o(l.getAttribute("data-history"));if(e.params.history.root.length>0){let i=e.params.history.root;"/"===i[i.length-1]&&(i=i.slice(0,i.length-1)),c=`${i}/${t?`${t}/`:""}${c}`}else s.pathname.includes(t)||(c=`${t?`${t}/`:""}${c}`);e.params.history.keepQuery&&(c+=s.search);const d=n.history.state;d&&d.value===c||(e.params.history.replaceState?n.history.replaceState({value:c},null,c):n.history.pushState({value:c},null,c))},d=(t,i,n)=>{if(i)for(let r=0,a=e.slides.length;r<a;r+=1){const a=e.slides[r];if(o(a.getAttribute("data-history"))===i){const i=e.getSlideIndex(a);e.slideTo(i,t,n)}}else e.slideTo(0,t,n)},h=()=>{s=l(e.params.url),d(e.params.speed,s.value,!1)};n("init",(()=>{e.params.history.enabled&&(()=>{const t=a();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);r=!0,s=l(e.params.url),s.key||s.value?(d(0,s.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",h)):e.params.history.replaceState||t.addEventListener("popstate",h)}})()})),n("destroy",(()=>{e.params.history.enabled&&(()=>{const t=a();e.params.history.replaceState||t.removeEventListener("popstate",h)})()})),n("transitionEnd _freeModeNoMomentumRelease",(()=>{r&&c(e.params.history.key,e.activeIndex)})),n("slideChange",(()=>{r&&e.params.cssMode&&c(e.params.history.key,e.activeIndex)}))},function(t){let{swiper:e,extendParams:i,emit:r,on:s}=t,o=!1;const l=n(),c=a();i({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(t,i){if(e.virtual&&e.params.virtual.enabled){const t=e.slides.filter((t=>t.getAttribute("data-hash")===i))[0];return t?parseInt(t.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(g(e.slidesEl,`.${e.params.slideClass}[data-hash="${i}"], swiper-slide[data-hash="${i}"]`)[0])}}});const d=()=>{r("hashChange");const t=l.location.hash.replace("#",""),i=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex];if(t!==(i?i.getAttribute("data-hash"):"")){const i=e.params.hashNavigation.getSlideIndex(e,t);if(void 0===i||Number.isNaN(i))return;e.slideTo(i)}},h=()=>{if(!o||!e.params.hashNavigation.enabled)return;const t=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],i=t?t.getAttribute("data-hash")||t.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&c.history&&c.history.replaceState?(c.history.replaceState(null,null,`#${i}`||""),r("hashSet")):(l.location.hash=i||"",r("hashSet"))};s("init",(()=>{e.params.hashNavigation.enabled&&(()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;o=!0;const t=l.location.hash.replace("#","");if(t){const i=0,n=e.params.hashNavigation.getSlideIndex(e,t);e.slideTo(n||0,i,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&c.addEventListener("hashchange",d)})()})),s("destroy",(()=>{e.params.hashNavigation.enabled&&e.params.hashNavigation.watchState&&c.removeEventListener("hashchange",d)})),s("transitionEnd _freeModeNoMomentumRelease",(()=>{o&&h()})),s("slideChange",(()=>{o&&e.params.cssMode&&h()}))},function(t){let e,i,{swiper:r,extendParams:a,on:s,emit:o,params:l}=t;r.autoplay={running:!1,paused:!1,timeLeft:0},a({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,d,h,u,f,p,g,m,_=l&&l.autoplay?l.autoplay.delay:3e3,v=l&&l.autoplay?l.autoplay.delay:3e3,y=(new Date).getTime();function b(t){r&&!r.destroyed&&r.wrapperEl&&t.target===r.wrapperEl&&(r.wrapperEl.removeEventListener("transitionend",b),m||t.detail&&t.detail.bySwiperTouchMove||E())}const k=()=>{if(r.destroyed||!r.autoplay.running)return;r.autoplay.paused?d=!0:d&&(v=c,d=!1);const t=r.autoplay.paused?c:y+v-(new Date).getTime();r.autoplay.timeLeft=t,o("autoplayTimeLeft",t,t/_),i=requestAnimationFrame((()=>{k()}))},x=t=>{if(r.destroyed||!r.autoplay.running)return;cancelAnimationFrame(i),k();let n=void 0===t?r.params.autoplay.delay:t;_=r.params.autoplay.delay,v=r.params.autoplay.delay;const a=(()=>{let t;if(t=r.virtual&&r.params.virtual.enabled?r.slides.filter((t=>t.classList.contains("swiper-slide-active")))[0]:r.slides[r.activeIndex],t)return parseInt(t.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(a)&&a>0&&void 0===t&&(n=a,_=a,v=a),c=n;const s=r.params.speed,l=()=>{r&&!r.destroyed&&(r.params.autoplay.reverseDirection?!r.isBeginning||r.params.loop||r.params.rewind?(r.slidePrev(s,!0,!0),o("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(r.slides.length-1,s,!0,!0),o("autoplay")):!r.isEnd||r.params.loop||r.params.rewind?(r.slideNext(s,!0,!0),o("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(0,s,!0,!0),o("autoplay")),r.params.cssMode&&(y=(new Date).getTime(),requestAnimationFrame((()=>{x()}))))};return n>0?(clearTimeout(e),e=setTimeout((()=>{l()}),n)):requestAnimationFrame((()=>{l()})),n},w=()=>{y=(new Date).getTime(),r.autoplay.running=!0,x(),o("autoplayStart")},S=()=>{r.autoplay.running=!1,clearTimeout(e),cancelAnimationFrame(i),o("autoplayStop")},T=(t,i)=>{if(r.destroyed||!r.autoplay.running)return;clearTimeout(e),t||(g=!0);const n=()=>{o("autoplayPause"),r.params.autoplay.waitForTransition?r.wrapperEl.addEventListener("transitionend",b):E()};if(r.autoplay.paused=!0,i)return p&&(c=r.params.autoplay.delay),p=!1,void n();const a=c||r.params.autoplay.delay;c=a-((new Date).getTime()-y),r.isEnd&&c<0&&!r.params.loop||(c<0&&(c=0),n())},E=()=>{r.isEnd&&c<0&&!r.params.loop||r.destroyed||!r.autoplay.running||(y=(new Date).getTime(),g?(g=!1,x(c)):x(),r.autoplay.paused=!1,o("autoplayResume"))},C=()=>{if(r.destroyed||!r.autoplay.running)return;const t=n();"hidden"===t.visibilityState&&(g=!0,T(!0)),"visible"===t.visibilityState&&E()},M=t=>{"mouse"===t.pointerType&&(g=!0,m=!0,r.animating||r.autoplay.paused||T(!0))},P=t=>{"mouse"===t.pointerType&&(m=!1,r.autoplay.paused&&E())};s("init",(()=>{r.params.autoplay.enabled&&(r.params.autoplay.pauseOnMouseEnter&&(r.el.addEventListener("pointerenter",M),r.el.addEventListener("pointerleave",P)),n().addEventListener("visibilitychange",C),w())})),s("destroy",(()=>{r.el&&"string"!=typeof r.el&&(r.el.removeEventListener("pointerenter",M),r.el.removeEventListener("pointerleave",P)),n().removeEventListener("visibilitychange",C),r.autoplay.running&&S()})),s("_freeModeStaticRelease",(()=>{(u||g)&&E()})),s("_freeModeNoMomentumRelease",(()=>{r.params.autoplay.disableOnInteraction?S():T(!0,!0)})),s("beforeTransitionStart",((t,e,i)=>{!r.destroyed&&r.autoplay.running&&(i||!r.params.autoplay.disableOnInteraction?T(!0,!0):S())})),s("sliderFirstMove",(()=>{!r.destroyed&&r.autoplay.running&&(r.params.autoplay.disableOnInteraction?S():(h=!0,u=!1,g=!1,f=setTimeout((()=>{g=!0,u=!0,T(!0)}),200)))})),s("touchEnd",(()=>{if(!r.destroyed&&r.autoplay.running&&h){if(clearTimeout(f),clearTimeout(e),r.params.autoplay.disableOnInteraction)return u=!1,void(h=!1);u&&r.params.cssMode&&E(),u=!1,h=!1}})),s("slideChange",(()=>{!r.destroyed&&r.autoplay.running&&(p=!0)})),Object.assign(r.autoplay,{start:w,stop:S,pause:T,resume:E})},function(t){let{swiper:e,extendParams:i,on:r}=t;i({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,s=!1;function o(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const i=t.clickedIndex,n=t.clickedSlide;if(n&&n.classList.contains(e.params.thumbs.slideThumbActiveClass))return;if(null==i)return;let r;r=t.params.loop?parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10):i,e.params.loop?e.slideToLoop(r):e.slideTo(r)}function l(){const{thumbs:t}=e.params;if(a)return!1;a=!0;const i=e.constructor;if(t.swiper instanceof i)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(d(t.swiper)){const n=Object.assign({},t.swiper);Object.assign(n,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new i(n),s=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function c(t){const i=e.thumbs.swiper;if(!i||i.destroyed)return;const n="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView;let r=1;const a=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(r=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(r=1),r=Math.floor(r),i.slides.forEach((t=>t.classList.remove(a))),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(let t=0;t<r;t+=1)g(i.slidesEl,`[data-swiper-slide-index="${e.realIndex+t}"]`).forEach((t=>{t.classList.add(a)}));else for(let t=0;t<r;t+=1)i.slides[e.realIndex+t]&&i.slides[e.realIndex+t].classList.add(a);const s=e.params.thumbs.autoScrollOffset,o=s&&!i.params.loop;if(e.realIndex!==i.realIndex||o){const r=i.activeIndex;let a,l;if(i.params.loop){const t=i.slides.filter((t=>t.getAttribute("data-swiper-slide-index")===`${e.realIndex}`))[0];a=i.slides.indexOf(t),l=e.activeIndex>e.previousIndex?"next":"prev"}else a=e.realIndex,l=a>e.previousIndex?"next":"prev";o&&(a+="next"===l?s:-1*s),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(a)<0&&(i.params.centeredSlides?a=a>r?a-Math.floor(n/2)+1:a+Math.floor(n/2)-1:a>r&&i.params.slidesPerGroup,i.slideTo(a,t?0:void 0))}}e.thumbs={swiper:null},r("beforeInit",(()=>{const{thumbs:t}=e.params;if(t&&t.swiper)if("string"==typeof t.swiper||t.swiper instanceof HTMLElement){const i=n(),r=()=>{const n="string"==typeof t.swiper?i.querySelector(t.swiper):t.swiper;if(n&&n.swiper)t.swiper=n.swiper,l(),c(!0);else if(n){const i=`${e.params.eventsPrefix}init`,r=a=>{t.swiper=a.detail[0],n.removeEventListener(i,r),l(),c(!0),t.swiper.update(),e.update()};n.addEventListener(i,r)}return n},a=()=>{e.destroyed||r()||requestAnimationFrame(a)};requestAnimationFrame(a)}else l(),c(!0)})),r("slideChange update resize observerUpdate",(()=>{c()})),r("setTransition",((t,i)=>{const n=e.thumbs.swiper;n&&!n.destroyed&&n.setTransition(i)})),r("beforeDestroy",(()=>{const t=e.thumbs.swiper;t&&!t.destroyed&&s&&t.destroy()})),Object.assign(e.thumbs,{init:l,update:c})},function(t){let{swiper:e,extendParams:i,emit:n,once:r}=t;i({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchStart:function(){if(e.params.cssMode)return;const t=e.getTranslate();e.setTranslate(t),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})},onTouchMove:function(){if(e.params.cssMode)return;const{touchEventsData:t,touches:i}=e;0===t.velocities.length&&t.velocities.push({position:i[e.isHorizontal()?"startX":"startY"],time:t.touchStartTime}),t.velocities.push({position:i[e.isHorizontal()?"currentX":"currentY"],time:l()})},onTouchEnd:function(t){let{currentPos:i}=t;if(e.params.cssMode)return;const{params:a,wrapperEl:s,rtlTranslate:o,snapGrid:c,touchEventsData:d}=e,h=l()-d.touchStartTime;if(i<-e.minTranslate())e.slideTo(e.activeIndex);else if(i>-e.maxTranslate())e.slides.length<c.length?e.slideTo(c.length-1):e.slideTo(e.slides.length-1);else{if(a.freeMode.momentum){if(d.velocities.length>1){const t=d.velocities.pop(),i=d.velocities.pop(),n=t.position-i.position,r=t.time-i.time;e.velocity=n/r,e.velocity/=2,Math.abs(e.velocity)<a.freeMode.minimumVelocity&&(e.velocity=0),(r>150||l()-t.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=a.freeMode.momentumVelocityRatio,d.velocities.length=0;let t=1e3*a.freeMode.momentumRatio;const i=e.velocity*t;let h=e.translate+i;o&&(h=-h);let u,f=!1;const p=20*Math.abs(e.velocity)*a.freeMode.momentumBounceRatio;let g;if(h<e.maxTranslate())a.freeMode.momentumBounce?(h+e.maxTranslate()<-p&&(h=e.maxTranslate()-p),u=e.maxTranslate(),f=!0,d.allowMomentumBounce=!0):h=e.maxTranslate(),a.loop&&a.centeredSlides&&(g=!0);else if(h>e.minTranslate())a.freeMode.momentumBounce?(h-e.minTranslate()>p&&(h=e.minTranslate()+p),u=e.minTranslate(),f=!0,d.allowMomentumBounce=!0):h=e.minTranslate(),a.loop&&a.centeredSlides&&(g=!0);else if(a.freeMode.sticky){let t;for(let e=0;e<c.length;e+=1)if(c[e]>-h){t=e;break}h=Math.abs(c[t]-h)<Math.abs(c[t-1]-h)||"next"===e.swipeDirection?c[t]:c[t-1],h=-h}if(g&&r("transitionEnd",(()=>{e.loopFix()})),0!==e.velocity){if(t=o?Math.abs((-h-e.translate)/e.velocity):Math.abs((h-e.translate)/e.velocity),a.freeMode.sticky){const i=Math.abs((o?-h:h)-e.translate),n=e.slidesSizesGrid[e.activeIndex];t=i<n?a.speed:i<2*n?1.5*a.speed:2.5*a.speed}}else if(a.freeMode.sticky)return void e.slideToClosest();a.freeMode.momentumBounce&&f?(e.updateProgress(u),e.setTransition(t),e.setTranslate(h),e.transitionStart(!0,e.swipeDirection),e.animating=!0,x(s,(()=>{e&&!e.destroyed&&d.allowMomentumBounce&&(n("momentumBounce"),e.setTransition(a.speed),setTimeout((()=>{e.setTranslate(u),x(s,(()=>{e&&!e.destroyed&&e.transitionEnd()}))}),0))}))):e.velocity?(n("_freeModeNoMomentumRelease"),e.updateProgress(h),e.setTransition(t),e.setTranslate(h),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,x(s,(()=>{e&&!e.destroyed&&e.transitionEnd()})))):e.updateProgress(h),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(a.freeMode.sticky)return void e.slideToClosest();a.freeMode&&n("_freeModeNoMomentumRelease")}(!a.freeMode.momentum||h>=a.longSwipesMs)&&(n("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})},function(t){let e,i,n,r,{swiper:a,extendParams:s,on:o}=t;s({grid:{rows:1,fill:"column"}});const l=()=>{let t=a.params.spaceBetween;return"string"==typeof t&&t.indexOf("%")>=0?t=parseFloat(t.replace("%",""))/100*a.size:"string"==typeof t&&(t=parseFloat(t)),t};o("init",(()=>{r=a.params.grid&&a.params.grid.rows>1})),o("update",(()=>{const{params:t,el:e}=a,i=t.grid&&t.grid.rows>1;r&&!i?(e.classList.remove(`${t.containerModifierClass}grid`,`${t.containerModifierClass}grid-column`),n=1,a.emitContainerClasses()):!r&&i&&(e.classList.add(`${t.containerModifierClass}grid`),"column"===t.grid.fill&&e.classList.add(`${t.containerModifierClass}grid-column`),a.emitContainerClasses()),r=i})),a.grid={initSlides:t=>{const{slidesPerView:r}=a.params,{rows:s,fill:o}=a.params.grid,l=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:t.length;n=Math.floor(l/s),e=Math.floor(l/s)===l/s?l:Math.ceil(l/s)*s,"auto"!==r&&"row"===o&&(e=Math.max(e,r*s)),i=e/s},unsetSlides:()=>{a.slides&&a.slides.forEach((t=>{t.swiperSlideGridSet&&(t.style.height="",t.style[a.getDirectionLabel("margin-top")]="")}))},updateSlide:(t,r,s)=>{const{slidesPerGroup:o}=a.params,c=l(),{rows:d,fill:h}=a.params.grid,u=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:s.length;let f,p,g;if("row"===h&&o>1){const i=Math.floor(t/(o*d)),n=t-d*o*i,a=0===i?o:Math.min(Math.ceil((u-i*d*o)/d),o);g=Math.floor(n/a),p=n-g*a+i*o,f=p+g*e/d,r.style.order=f}else"column"===h?(p=Math.floor(t/d),g=t-p*d,(p>n||p===n&&g===d-1)&&(g+=1,g>=d&&(g=0,p+=1))):(g=Math.floor(t/i),p=t-g*i);r.row=g,r.column=p,r.style.height=`calc((100% - ${(d-1)*c}px) / ${d})`,r.style[a.getDirectionLabel("margin-top")]=0!==g?c&&`${c}px`:"",r.swiperSlideGridSet=!0},updateWrapperSize:(t,i)=>{const{centeredSlides:n,roundLengths:r}=a.params,s=l(),{rows:o}=a.params.grid;if(a.virtualSize=(t+s)*e,a.virtualSize=Math.ceil(a.virtualSize/o)-s,a.params.cssMode||(a.wrapperEl.style[a.getDirectionLabel("width")]=`${a.virtualSize+s}px`),n){const t=[];for(let e=0;e<i.length;e+=1){let n=i[e];r&&(n=Math.floor(n)),i[e]<a.virtualSize+i[0]&&t.push(n)}i.splice(0,i.length),i.push(...t)}}}},function(t){let{swiper:e}=t;Object.assign(e,{appendSlide:ot.bind(e),prependSlide:lt.bind(e),addSlide:ct.bind(e),removeSlide:dt.bind(e),removeAllSlides:ht.bind(e)})},function(t){let{swiper:e,extendParams:i,on:n}=t;i({fadeEffect:{crossFade:!1}}),ut({effect:"fade",swiper:e,on:n,setTranslate:()=>{const{slides:t}=e;e.params.fadeEffect;for(let i=0;i<t.length;i+=1){const t=e.slides[i];let n=-t.swiperSlideOffset;e.params.virtualTranslate||(n-=e.translate);let r=0;e.isHorizontal()||(r=n,n=0);const a=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(t.progress),0):1+Math.min(Math.max(t.progress,-1),0),s=ft(0,t);s.style.opacity=a,s.style.transform=`translate3d(${n}px, ${r}px, 0px)`}},setTransition:t=>{const i=e.slides.map((t=>p(t)));i.forEach((e=>{e.style.transitionDuration=`${t}ms`})),pt({swiper:e,duration:t,transformElements:i,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function(t){let{swiper:e,extendParams:i,on:n}=t;i({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(t,e,i)=>{let n=i?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),r=i?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");n||(n=_("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(i?"left":"top")).split(" ")),t.append(n)),r||(r=_("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(i?"right":"bottom")).split(" ")),t.append(r)),n&&(n.style.opacity=Math.max(-e,0)),r&&(r.style.opacity=Math.max(e,0))};ut({effect:"cube",swiper:e,on:n,setTranslate:()=>{const{el:t,wrapperEl:i,slides:n,width:a,height:s,rtlTranslate:o,size:l,browser:c}=e,d=T(e),h=e.params.cubeEffect,u=e.isHorizontal(),f=e.virtual&&e.params.virtual.enabled;let p,g=0;h.shadow&&(u?(p=e.wrapperEl.querySelector(".swiper-cube-shadow"),p||(p=_("div","swiper-cube-shadow"),e.wrapperEl.append(p)),p.style.height=`${a}px`):(p=t.querySelector(".swiper-cube-shadow"),p||(p=_("div","swiper-cube-shadow"),t.append(p))));for(let t=0;t<n.length;t+=1){const e=n[t];let i=t;f&&(i=parseInt(e.getAttribute("data-swiper-slide-index"),10));let a=90*i,s=Math.floor(a/360);o&&(a=-a,s=Math.floor(-a/360));const c=Math.max(Math.min(e.progress,1),-1);let p=0,m=0,_=0;i%4==0?(p=4*-s*l,_=0):(i-1)%4==0?(p=0,_=4*-s*l):(i-2)%4==0?(p=l+4*s*l,_=l):(i-3)%4==0&&(p=-l,_=3*l+4*l*s),o&&(p=-p),u||(m=p,p=0);const v=`rotateX(${d(u?0:-a)}deg) rotateY(${d(u?a:0)}deg) translate3d(${p}px, ${m}px, ${_}px)`;c<=1&&c>-1&&(g=90*i+90*c,o&&(g=90*-i-90*c)),e.style.transform=v,h.slideShadows&&r(e,c,u)}if(i.style.transformOrigin=`50% 50% -${l/2}px`,i.style["-webkit-transform-origin"]=`50% 50% -${l/2}px`,h.shadow)if(u)p.style.transform=`translate3d(0px, ${a/2+h.shadowOffset}px, ${-a/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${h.shadowScale})`;else{const t=Math.abs(g)-90*Math.floor(Math.abs(g)/90),e=1.5-(Math.sin(2*t*Math.PI/360)/2+Math.cos(2*t*Math.PI/360)/2),i=h.shadowScale,n=h.shadowScale/e,r=h.shadowOffset;p.style.transform=`scale3d(${i}, 1, ${n}) translate3d(0px, ${s/2+r}px, ${-s/2/n}px) rotateX(-89.99deg)`}const m=(c.isSafari||c.isWebView)&&c.needPerspectiveFix?-l/2:0;i.style.transform=`translate3d(0px,0,${m}px) rotateX(${d(e.isHorizontal()?0:g)}deg) rotateY(${d(e.isHorizontal()?-g:0)}deg)`,i.style.setProperty("--swiper-cube-translate-z",`${m}px`)},setTransition:t=>{const{el:i,slides:n}=e;if(n.forEach((e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>{e.style.transitionDuration=`${t}ms`}))})),e.params.cubeEffect.shadow&&!e.isHorizontal()){const e=i.querySelector(".swiper-cube-shadow");e&&(e.style.transitionDuration=`${t}ms`)}},recreateShadows:()=>{const t=e.isHorizontal();e.slides.forEach((e=>{const i=Math.max(Math.min(e.progress,1),-1);r(e,i,t)}))},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function(t){let{swiper:e,extendParams:i,on:n}=t;i({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(t,i)=>{let n=e.isHorizontal()?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),r=e.isHorizontal()?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");n||(n=gt("flip",t,e.isHorizontal()?"left":"top")),r||(r=gt("flip",t,e.isHorizontal()?"right":"bottom")),n&&(n.style.opacity=Math.max(-i,0)),r&&(r.style.opacity=Math.max(i,0))};ut({effect:"flip",swiper:e,on:n,setTranslate:()=>{const{slides:t,rtlTranslate:i}=e,n=e.params.flipEffect,a=T(e);for(let s=0;s<t.length;s+=1){const o=t[s];let l=o.progress;e.params.flipEffect.limitRotation&&(l=Math.max(Math.min(o.progress,1),-1));const c=o.swiperSlideOffset;let d=-180*l,h=0,u=e.params.cssMode?-c-e.translate:-c,f=0;e.isHorizontal()?i&&(d=-d):(f=u,u=0,h=-d,d=0),o.style.zIndex=-Math.abs(Math.round(l))+t.length,n.slideShadows&&r(o,l);const p=`translate3d(${u}px, ${f}px, 0px) rotateX(${a(h)}deg) rotateY(${a(d)}deg)`;ft(0,o).style.transform=p}},setTransition:t=>{const i=e.slides.map((t=>p(t)));i.forEach((e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>{e.style.transitionDuration=`${t}ms`}))})),pt({swiper:e,duration:t,transformElements:i})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach((t=>{let i=t.progress;e.params.flipEffect.limitRotation&&(i=Math.max(Math.min(t.progress,1),-1)),r(t,i)}))},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function(t){let{swiper:e,extendParams:i,on:n}=t;i({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),ut({effect:"coverflow",swiper:e,on:n,setTranslate:()=>{const{width:t,height:i,slides:n,slidesSizesGrid:r}=e,a=e.params.coverflowEffect,s=e.isHorizontal(),o=e.translate,l=s?t/2-o:i/2-o,c=s?a.rotate:-a.rotate,d=a.depth,h=T(e);for(let t=0,e=n.length;t<e;t+=1){const e=n[t],i=r[t],o=(l-e.swiperSlideOffset-i/2)/i,u="function"==typeof a.modifier?a.modifier(o):o*a.modifier;let f=s?c*u:0,p=s?0:c*u,g=-d*Math.abs(u),m=a.stretch;"string"==typeof m&&-1!==m.indexOf("%")&&(m=parseFloat(a.stretch)/100*i);let _=s?0:m*u,v=s?m*u:0,y=1-(1-a.scale)*Math.abs(u);Math.abs(v)<.001&&(v=0),Math.abs(_)<.001&&(_=0),Math.abs(g)<.001&&(g=0),Math.abs(f)<.001&&(f=0),Math.abs(p)<.001&&(p=0),Math.abs(y)<.001&&(y=0);const b=`translate3d(${v}px,${_}px,${g}px)  rotateX(${h(p)}deg) rotateY(${h(f)}deg) scale(${y})`;if(ft(0,e).style.transform=b,e.style.zIndex=1-Math.abs(Math.round(u)),a.slideShadows){let t=s?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),i=s?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");t||(t=gt("coverflow",e,s?"left":"top")),i||(i=gt("coverflow",e,s?"right":"bottom")),t&&(t.style.opacity=u>0?u:0),i&&(i.style.opacity=-u>0?-u:0)}}},setTransition:t=>{e.slides.map((t=>p(t))).forEach((e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>{e.style.transitionDuration=`${t}ms`}))}))},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function(t){let{swiper:e,extendParams:i,on:n}=t;i({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const r=t=>"string"==typeof t?t:`${t}px`;ut({effect:"creative",swiper:e,on:n,setTranslate:()=>{const{slides:t,wrapperEl:i,slidesSizesGrid:n}=e,a=e.params.creativeEffect,{progressMultiplier:s}=a,o=e.params.centeredSlides,l=T(e);if(o){const t=n[0]/2-e.params.slidesOffsetBefore||0;i.style.transform=`translateX(calc(50% - ${t}px))`}for(let i=0;i<t.length;i+=1){const n=t[i],c=n.progress,d=Math.min(Math.max(n.progress,-a.limitProgress),a.limitProgress);let h=d;o||(h=Math.min(Math.max(n.originalProgress,-a.limitProgress),a.limitProgress));const u=n.swiperSlideOffset,f=[e.params.cssMode?-u-e.translate:-u,0,0],p=[0,0,0];let g=!1;e.isHorizontal()||(f[1]=f[0],f[0]=0);let m={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};d<0?(m=a.next,g=!0):d>0&&(m=a.prev,g=!0),f.forEach(((t,e)=>{f[e]=`calc(${t}px + (${r(m.translate[e])} * ${Math.abs(d*s)}))`})),p.forEach(((t,e)=>{let i=m.rotate[e]*Math.abs(d*s);p[e]=i})),n.style.zIndex=-Math.abs(Math.round(c))+t.length;const _=f.join(", "),v=`rotateX(${l(p[0])}deg) rotateY(${l(p[1])}deg) rotateZ(${l(p[2])}deg)`,y=h<0?`scale(${1+(1-m.scale)*h*s})`:`scale(${1-(1-m.scale)*h*s})`,b=h<0?1+(1-m.opacity)*h*s:1-(1-m.opacity)*h*s,k=`translate3d(${_}) ${v} ${y}`;if(g&&m.shadow||!g){let t=n.querySelector(".swiper-slide-shadow");if(!t&&m.shadow&&(t=gt("creative",n)),t){const e=a.shadowPerProgress?d*(1/a.limitProgress):d;t.style.opacity=Math.min(Math.max(Math.abs(e),0),1)}}const x=ft(0,n);x.style.transform=k,x.style.opacity=b,m.origin&&(x.style.transformOrigin=m.origin)}},setTransition:t=>{const i=e.slides.map((t=>p(t)));i.forEach((e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow").forEach((e=>{e.style.transitionDuration=`${t}ms`}))})),pt({swiper:e,duration:t,transformElements:i,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})},function(t){let{swiper:e,extendParams:i,on:n}=t;i({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),ut({effect:"cards",swiper:e,on:n,setTranslate:()=>{const{slides:t,activeIndex:i,rtlTranslate:n}=e,r=e.params.cardsEffect,{startTranslate:a,isTouched:s}=e.touchEventsData,o=n?-e.translate:e.translate;for(let l=0;l<t.length;l+=1){const c=t[l],d=c.progress,h=Math.min(Math.max(d,-4),4);let u=c.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(u-=t[0].swiperSlideOffset);let f=e.params.cssMode?-u-e.translate:-u,p=0;const g=-100*Math.abs(h);let m=1,_=-r.perSlideRotate*h,v=r.perSlideOffset-.75*Math.abs(h);const y=e.virtual&&e.params.virtual.enabled?e.virtual.from+l:l,b=(y===i||y===i-1)&&h>0&&h<1&&(s||e.params.cssMode)&&o<a,k=(y===i||y===i+1)&&h<0&&h>-1&&(s||e.params.cssMode)&&o>a;if(b||k){const t=(1-Math.abs((Math.abs(h)-.5)/.5))**.5;_+=-28*h*t,m+=-.5*t,v+=96*t,p=-25*t*Math.abs(h)+"%"}if(f=h<0?`calc(${f}px ${n?"-":"+"} (${v*Math.abs(h)}%))`:h>0?`calc(${f}px ${n?"-":"+"} (-${v*Math.abs(h)}%))`:`${f}px`,!e.isHorizontal()){const t=p;p=f,f=t}const x=h<0?""+(1+(1-m)*h):""+(1-(1-m)*h),w=`\n        translate3d(${f}, ${p}, ${g}px)\n        rotateZ(${r.rotate?n?-_:_:0}deg)\n        scale(${x})\n      `;if(r.slideShadows){let t=c.querySelector(".swiper-slide-shadow");t||(t=gt("cards",c)),t&&(t.style.opacity=Math.min(Math.max((Math.abs(h)-.5)/.5,0),1))}c.style.zIndex=-Math.abs(Math.round(d))+t.length,ft(0,c).style.transform=w}},setTransition:t=>{const i=e.slides.map((t=>p(t)));i.forEach((e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow").forEach((e=>{e.style.transitionDuration=`${t}ms`}))})),pt({swiper:e,duration:t,transformElements:i})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}];return rt.use(mt),rt}();
/*!
 * GSAP 3.12.5
 * https://gsap.com
 * 
 * @license Copyright 2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,(function(t){"use strict";function e(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(t){return"string"==typeof t}function r(t){return"function"==typeof t}function a(t){return"number"==typeof t}function s(t){return void 0===t}function o(t){return"object"==typeof t}function l(t){return!1!==t}function c(){return"undefined"!=typeof window}function d(t){return r(t)||n(t)}function h(t){return(Tt=we(t,he))&&Bi}function u(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")}function f(t,e){return!e&&console.warn(t)}function p(t,e){return t&&(he[t]=e)&&Tt&&(Tt[t]=e)||he}function g(){return 0}function m(t){var e,i,n=t[0];if(o(n)||r(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(i=ke.length;i--&&!ke[i].targetTest(n););e=ke[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Ye(t[i],e)))||t.splice(i,1);return t}function _(t){return t._gsap||m(Ae(t))[0]._gsap}function v(t,e,i){return(i=t[e])&&r(i)?t[e]():s(i)&&t.getAttribute&&t.getAttribute(e)||i}function y(t,e){return(t=t.split(",")).forEach(e)||t}function b(t){return Math.round(1e5*t)/1e5||0}function k(t){return Math.round(1e7*t)/1e7||0}function x(t,e){var i=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),"+"===i?t+n:"-"===i?t-n:"*"===i?t*n:t/n}function w(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i}function S(){var t,e,i=me.length,n=me.slice(0);for(_e={},t=me.length=0;t<i;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function T(t,e,i,n){me.length&&!yt&&S(),t.render(e,i,n||yt&&e<0&&(t._initted||t._startAt)),me.length&&!yt&&S()}function E(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(ce).length<2?e:n(t)?t.trim():t}function C(t){return t}function M(t,e){for(var i in e)i in t||(t[i]=e[i]);return t}function P(t,e){for(var i in e)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=o(e[i])?P(t[i]||(t[i]={}),e[i]):e[i]);return t}function A(t,e){var i,n={};for(i in t)i in e||(n[i]=t[i]);return n}function $(t){var e=t.parent||kt,i=t.keyframes?function(t){return function(e,i){for(var n in i)n in e||"duration"===n&&t||"ease"===n||(e[n]=i[n])}}(ne(t.keyframes)):M;if(l(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t}function D(t,e,i,n,r){void 0===i&&(i="_first"),void 0===n&&(n="_last");var a,s=t[n];if(r)for(a=e[r];s&&s[r]>a;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=s,e.parent=e._dp=t,e}function I(t,e,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r=e._prev,a=e._next;r?r._next=a:t[i]===e&&(t[i]=a),a?a._prev=r:t[n]===e&&(t[n]=r),e._next=e._prev=e.parent=null}function L(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0}function O(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t}function R(t,e,i,n){return t._startAt&&(yt?t._startAt.revert(fe):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))}function F(t){return t._repeat?Se(t._tTime,t=t.duration()+t._rDelay)*t:0}function N(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function B(t){return t._end=k(t._start+(t._tDur/Math.abs(t._ts||t._rts||Xt)||0))}function z(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=k(i._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),B(t),i._dirty||O(i,t)),t}function V(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=N(t.rawTime(),e),(!e._dur||Me(0,e.totalDuration(),i)-e._tTime>Xt)&&e.render(i,!0)),O(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)0<=i.rawTime()&&i.totalTime(i._tTime),i=i._dp;t._zTime=-Xt}}function H(t,e,i,n){return e.parent&&L(e),e._start=k((a(i)?i:i||t!==kt?Ce(t,i,e):t._time)+e._delay),e._end=k(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),D(t,e,"_first","_last",t._sort?"_start":0),Te(e)||(t._recent=e),n||V(t,e),t._ts<0&&z(t,t._tTime),t}function j(t,e){return(he.ScrollTrigger||u("scrollTrigger",e))&&he.ScrollTrigger.create(e,t)}function G(t,e,i,n,r){return ni(t,e,r),t._initted?!i&&t._pt&&!yt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&Ct!==Ne.frame?(me.push(t),t._lazy=[r,n],1):void 0:1}function W(t,e,i,n){var r=t._repeat,a=k(e)||0,s=t._tTime/t._tDur;return s&&!n&&(t._time*=a/t._dur),t._dur=a,t._tDur=r?r<0?1e10:k(a*(r+1)+t._rDelay*r):a,0<s&&!n&&z(t,t._tTime=t._tDur*s),t.parent&&B(t),i||O(t.parent,t),t}function q(t){return t instanceof Je?O(t):W(t,t._dur)}function U(t,e,i){var n,r,s=a(e[1]),o=(s?2:1)+(t<2?0:1),c=e[o];if(s&&(c.duration=e[1]),c.parent=i,t){for(n=c,r=i;r&&!("immediateRender"in n);)n=r.vars.defaults||{},r=l(r.vars.inherit)&&r.parent;c.immediateRender=l(n.immediateRender),t<2?c.runBackwards=1:c.startAt=e[o-1]}return new oi(e[0],c,e[1+o])}function Y(t,e){return t||0===t?e(t):e}function X(t,e){return n(t)&&(e=de.exec(t))?e[1]:""}function K(t,e){return t&&o(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&o(t[0]))&&!t.nodeType&&t!==xt}function J(t){return t=Ae(t)[0]||f("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return Ae(e,i.querySelectorAll?i:i===t?f("Invalid scope")||St.createElement("div"):t)}}function Z(t){return t.sort((function(){return.5-Math.random()}))}function Q(t){if(r(t))return t;var e=o(t)?t:{each:t},i=Ge(e.ease),a=e.from||0,s=parseFloat(e.base)||0,l={},c=0<a&&a<1,d=isNaN(a)||c,h=e.axis,u=a,f=a;return n(a)?u=f={center:.5,edges:.5,end:1}[a]||0:!c&&d&&(u=a[0],f=a[1]),function(t,n,r){var o,c,p,g,m,_,v,y,b,x=(r||e).length,w=l[x];if(!w){if(!(b="auto"===e.grid?0:(e.grid||[1,Yt])[1])){for(v=-Yt;v<(v=r[b++].getBoundingClientRect().left)&&b<x;);b<x&&b--}for(w=l[x]=[],o=d?Math.min(b,x)*u-.5:a%b,c=b===Yt?0:d?x*f/b-.5:a/b|0,y=Yt,_=v=0;_<x;_++)p=_%b-o,g=c-(_/b|0),w[_]=m=h?Math.abs("y"===h?g:p):Qt(p*p+g*g),v<m&&(v=m),m<y&&(y=m);"random"===a&&Z(w),w.max=v-y,w.min=y,w.v=x=(parseFloat(e.amount)||parseFloat(e.each)*(x<b?x-1:h?"y"===h?x/b:b:Math.max(b,x/b))||0)*("edges"===a?-1:1),w.b=x<0?s-x:s,w.u=X(e.amount||e.each)||0,i=i&&x<0?je(i):i}return x=(w[t]-w.min)/w.max||0,k(w.b+(i?i(x):x)*w.v)+w.u}}function tt(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var n=k(Math.round(parseFloat(i)/t)*t*e);return(n-n%1)/e+(a(i)?0:X(i))}}function et(t,e){var i,n,s=ne(t);return!s&&o(t)&&(i=s=t.radius||Yt,t.values?(t=Ae(t.values),(n=!a(t[0]))&&(i*=i)):t=tt(t.increment)),Y(e,s?r(t)?function(e){return n=t(e),Math.abs(n-e)<=i?n:e}:function(e){for(var r,s,o=parseFloat(n?e.x:e),l=parseFloat(n?e.y:0),c=Yt,d=0,h=t.length;h--;)(r=n?(r=t[h].x-o)*r+(s=t[h].y-l)*s:Math.abs(t[h]-o))<c&&(c=r,d=h);return d=!i||c<=i?t[d]:e,n||d===e||a(e)?d:d+X(e)}:tt(t))}function it(t,e,i,n){return Y(ne(t)?!e:!0===i?!!(i=0):!n,(function(){return ne(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*n)/n}))}function nt(t,e,i){return Y(i,(function(i){return t[~~e(i)]}))}function rt(t){for(var e,i,n,r,a=0,s="";~(e=t.indexOf("random(",a));)n=t.indexOf(")",e),r="["===t.charAt(e+7),i=t.substr(e+7,n-e-7).match(r?ce:re),s+=t.substr(a,e-a)+it(r?i:+i[0],r?0:+i[1],+i[2]||1e-5),a=n+1;return s+t.substr(a,t.length-a)}function at(t,e,i){var n,r,a,s=t.labels,o=Yt;for(n in s)(r=s[n]-e)<0==!!i&&r&&o>(r=Math.abs(r))&&(a=n,o=r);return a}function st(t){return L(t),t.scrollTrigger&&t.scrollTrigger.kill(!!yt),t.progress()<1&&De(t,"onInterrupt"),t}function ot(t){if(t)if(t=!t.name&&t.default||t,c()||t.headless){var e=t.name,i=r(t),n=e&&!i&&t.init?function(){this._props=[]}:t,a={init:g,render:_i,add:ii,kill:yi,modifier:vi,rawVars:0},s={targetTest:0,get:0,getSetter:fi,aliases:{},register:0};if(Be(),t!==n){if(ve[e])return;M(n,M(A(t,a),s)),we(n.prototype,we(a,A(t,s))),ve[n.prop=e]=n,t.targetTest&&(ke.push(n),ge[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}p(e,n),t.register&&t.register(Bi,n,ki)}else Ie.push(t)}function lt(t,e,i){return(6*(t+=t<0?1:1<t?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*Le+.5|0}function ct(t,e,i){var n,r,s,o,l,c,d,h,u,f,p=t?a(t)?[t>>16,t>>8&Le,t&Le]:0:Oe.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Oe[t])p=Oe[t];else if("#"===t.charAt(0)){if(t.length<6&&(t="#"+(n=t.charAt(1))+n+(r=t.charAt(2))+r+(s=t.charAt(3))+s+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&Le,p&Le,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&Le,t&Le]}else if("hsl"===t.substr(0,3))if(p=f=t.match(re),e){if(~t.indexOf("="))return p=t.match(ae),i&&p.length<4&&(p[3]=1),p}else o=+p[0]%360/360,l=p[1]/100,n=2*(c=p[2]/100)-(r=c<=.5?c*(l+1):c+l-c*l),3<p.length&&(p[3]*=1),p[0]=lt(o+1/3,n,r),p[1]=lt(o,n,r),p[2]=lt(o-1/3,n,r);else p=t.match(re)||Oe.transparent;p=p.map(Number)}return e&&!f&&(n=p[0]/Le,r=p[1]/Le,s=p[2]/Le,c=((d=Math.max(n,r,s))+(h=Math.min(n,r,s)))/2,d===h?o=l=0:(u=d-h,l=.5<c?u/(2-d-h):u/(d+h),o=d===n?(r-s)/u+(r<s?6:0):d===r?(s-n)/u+2:(n-r)/u+4,o*=60),p[0]=~~(o+.5),p[1]=~~(100*l+.5),p[2]=~~(100*c+.5)),i&&p.length<4&&(p[3]=1),p}function dt(t){var e=[],i=[],n=-1;return t.split(Re).forEach((function(t){var r=t.match(se)||[];e.push.apply(e,r),i.push(n+=r.length+1)})),e.c=i,e}function ht(t,e,i){var n,r,a,s,o="",l=(t+o).match(Re),c=e?"hsla(":"rgba(",d=0;if(!l)return t;if(l=l.map((function(t){return(t=ct(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),i&&(a=dt(t),(n=i.c).join(o)!==a.c.join(o)))for(s=(r=t.replace(Re,"1").split(se)).length-1;d<s;d++)o+=r[d]+(~n.indexOf(d)?l.shift()||c+"0,0,0,0)":(a.length?a:l.length?l:i).shift());if(!r)for(s=(r=t.split(Re)).length-1;d<s;d++)o+=r[d]+l[d];return o+r[s]}function ut(t){var e,i=t.join(" ");if(Re.lastIndex=0,Re.test(i))return e=Fe.test(i),t[1]=ht(t[1],e),t[0]=ht(t[0],e,dt(t[1])),!0}function ft(t,e){for(var i,n=t._first;n;)n instanceof Je?ft(n,e):!n.vars.yoyoEase||n._yoyo&&n._repeat||n._yoyo===e||(n.timeline?ft(n.timeline,e):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=e)),n=n._next}function pt(t,e,i,n){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,a={easeIn:e,easeOut:i,easeInOut:n};return y(t,(function(t){for(var e in ze[t]=he[t]=a,ze[r=t.toLowerCase()]=i,a)ze[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=ze[t+"."+e]=a[e]})),a}function gt(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}}function mt(t,e,i){function n(t){return 1===t?1:r*Math.pow(2,-10*t)*ee((t-s)*a)+1}var r=1<=e?e:1,a=(i||(t?.3:.45))/(e<1?e:1),s=a/Kt*(Math.asin(1/r)||0),o="out"===t?n:"in"===t?function(t){return 1-n(1-t)}:gt(n);return a=Kt/a,o.config=function(e,i){return mt(t,e,i)},o}function _t(t,e){function i(t){return t?--t*t*((e+1)*t+e)+1:0}void 0===e&&(e=1.70158);var n="out"===t?i:"in"===t?function(t){return 1-i(1-t)}:gt(i);return n.config=function(e){return _t(t,e)},n}var vt,yt,bt,kt,xt,wt,St,Tt,Et,Ct,Mt,Pt,At,$t,Dt,It,Lt,Ot,Rt,Ft,Nt,Bt,zt,Vt,Ht,jt,Gt,Wt,qt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ut={duration:.5,overwrite:!1,delay:0},Yt=1e8,Xt=1/Yt,Kt=2*Math.PI,Jt=Kt/4,Zt=0,Qt=Math.sqrt,te=Math.cos,ee=Math.sin,ie="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ne=Array.isArray,re=/(?:-?\.?\d|\.)+/gi,ae=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,se=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,oe=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,le=/[+-]=-?[.\d]+/,ce=/[^,'"\[\]\s]+/gi,de=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,he={},ue={suppressEvents:!0,isStart:!0,kill:!1},fe={suppressEvents:!0,kill:!1},pe={suppressEvents:!0},ge={},me=[],_e={},ve={},ye={},be=30,ke=[],xe="",we=function(t,e){for(var i in e)t[i]=e[i];return t},Se=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},Te=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Ee={_start:0,endTime:g,totalDuration:g},Ce=function t(e,i,r){var a,s,o,l=e.labels,c=e._recent||Ee,d=e.duration()>=Yt?c.endTime(!1):e._dur;return n(i)&&(isNaN(i)||i in l)?(s=i.charAt(0),o="%"===i.substr(-1),a=i.indexOf("="),"<"===s||">"===s?(0<=a&&(i=i.replace(/=/,"")),("<"===s?c._start:c.endTime(0<=c._repeat))+(parseFloat(i.substr(1))||0)*(o?(a<0?c:r).totalDuration()/100:1)):a<0?(i in l||(l[i]=d),l[i]):(s=parseFloat(i.charAt(a-1)+i.substr(a+1)),o&&r&&(s=s/100*(ne(r)?r[0]:r).totalDuration()),1<a?t(e,i.substr(0,a-1),r)+s:d+s)):null==i?d:+i},Me=function(t,e,i){return i<t?t:e<i?e:i},Pe=[].slice,Ae=function(t,e,i){return bt&&!e&&bt.selector?bt.selector(t):!n(t)||i||!wt&&Be()?ne(t)?function(t,e,i){return void 0===i&&(i=[]),t.forEach((function(t){return n(t)&&!e||K(t,1)?i.push.apply(i,Ae(t)):i.push(t)}))||i}(t,i):K(t)?Pe.call(t,0):t?[t]:[]:Pe.call((e||St).querySelectorAll(t),0)},$e=function(t,e,i,n,r){var a=e-t,s=n-i;return Y(r,(function(e){return i+((e-t)/a*s||0)}))},De=function(t,e,i){var n,r,a,s=t.vars,o=s[e],l=bt,c=t._ctx;if(o)return n=s[e+"Params"],r=s.callbackScope||t,i&&me.length&&S(),c&&(bt=c),a=n?o.apply(r,n):o.call(r),bt=l,a},Ie=[],Le=255,Oe={aqua:[0,Le,Le],lime:[0,Le,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Le],navy:[0,0,128],white:[Le,Le,Le],olive:[128,128,0],yellow:[Le,Le,0],orange:[Le,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Le,0,0],pink:[Le,192,203],cyan:[0,Le,Le],transparent:[Le,Le,Le,0]},Re=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Oe)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Fe=/hsl[a]?\(/,Ne=(Rt=Date.now,Ft=500,Nt=33,Bt=Rt(),zt=Bt,Ht=Vt=1e3/240,It={time:0,frame:0,tick:function(){We(!0)},deltaRatio:function(t){return Lt/(1e3/(t||60))},wake:function(){Et&&(!wt&&c()&&(xt=wt=window,St=xt.document||{},he.gsap=Bi,(xt.gsapVersions||(xt.gsapVersions=[])).push(Bi.version),h(Tt||xt.GreenSockGlobals||!xt.gsap&&xt||{}),Ie.forEach(ot)),Dt="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,At&&It.sleep(),$t=Dt||function(t){return setTimeout(t,Ht-1e3*It.time+1|0)},Pt=1,We(2))},sleep:function(){(Dt?cancelAnimationFrame:clearTimeout)(At),Pt=0,$t=g},lagSmoothing:function(t,e){Ft=t||1/0,Nt=Math.min(e||33,Ft)},fps:function(t){Vt=1e3/(t||240),Ht=1e3*It.time+Vt},add:function(t,e,i){var n=e?function(e,i,r,a){t(e,i,r,a),It.remove(n)}:t;return It.remove(t),jt[i?"unshift":"push"](n),Be(),n},remove:function(t,e){~(e=jt.indexOf(t))&&jt.splice(e,1)&&e<=Ot&&Ot--},_listeners:jt=[]}),Be=function(){return!Pt&&Ne.wake()},ze={},Ve=/^[\d.\-M][\d.\-,\s]/,He=/["']/g,je=function(t){return function(e){return 1-t(1-e)}},Ge=function(t,e){return t&&(r(t)?t:ze[t]||function(t){var e=(t+"").split("("),i=ze[e[0]];return i&&1<e.length&&i.config?i.config.apply(null,~t.indexOf("{")?[function(t){for(var e,i,n,r={},a=t.substr(1,t.length-3).split(":"),s=a[0],o=1,l=a.length;o<l;o++)i=a[o],e=o!==l-1?i.lastIndexOf(","):i.length,n=i.substr(0,e),r[s]=isNaN(n)?n.replace(He,"").trim():+n,s=i.substr(e+1).trim();return r}(e[1])]:function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),n=t.indexOf("(",e);return t.substring(e,~n&&n<i?t.indexOf(")",i+1):i)}(t).split(",").map(E)):ze._CE&&Ve.test(t)?ze._CE("",t):i}(t))||e};function We(t){var e,i,n,r,a=Rt()-zt,s=!0===t;if((Ft<a||a<0)&&(Bt+=a-Nt),(0<(e=(n=(zt+=a)-Bt)-Ht)||s)&&(r=++It.frame,Lt=n-1e3*It.time,It.time=n/=1e3,Ht+=e+(Vt<=e?4:Vt-e),i=1),s||(At=$t(We)),i)for(Ot=0;Ot<jt.length;Ot++)jt[Ot](n,Lt,r,t)}function qe(t){return t<Wt?Gt*t*t:t<.7272727272727273?Gt*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?Gt*(t-=2.25/2.75)*t+.9375:Gt*Math.pow(t-2.625/2.75,2)+.984375}y("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var i=e<5?e+1:e;pt(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},(function(t){return 1-Math.pow(1-t,i)}),(function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2}))})),ze.Linear.easeNone=ze.none=ze.Linear.easeIn,pt("Elastic",mt("in"),mt("out"),mt()),Gt=7.5625,Wt=1/2.75,pt("Bounce",(function(t){return 1-qe(1-t)}),qe),pt("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),pt("Circ",(function(t){return-(Qt(1-t*t)-1)})),pt("Sine",(function(t){return 1===t?1:1-te(t*Jt)})),pt("Back",_t("in"),_t("out"),_t()),ze.SteppedEase=ze.steps=he.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,n=t+(e?0:1),r=e?1:0;return function(t){return((n*Me(0,.99999999,t)|0)+r)*i}}},Ut.ease=ze["quad.out"],y("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return xe+=t+","+t+"Params,"}));var Ue,Ye=function(t,e){this.id=Zt++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:v,this.set=e?e.getSetter:fi},Xe=((Ue=Ke.prototype).delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},Ue.duration=function(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},Ue.totalDuration=function(t){return arguments.length?(this._dirty=0,W(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Ue.totalTime=function(t,e){if(Be(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(z(this,t),!i._dp||i.parent||V(i,this);i&&i.parent;)i.parent._time!==i._start+(0<=i._ts?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&t<this._tDur||this._ts<0&&0<t||!this._tDur&&!t)&&H(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Xt||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),T(this,t,e)),this},Ue.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+F(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},Ue.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):0<this.rawTime()?1:0},Ue.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+F(this),e):this.duration()?Math.min(1,this._time/this._dur):0<this.rawTime()?1:0},Ue.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?Se(this._tTime,i)+1:1},Ue.timeScale=function(t,e){if(!arguments.length)return this._rts===-Xt?0:this._rts;if(this._rts===t)return this;var i=this.parent&&this._ts?N(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-Xt?0:this._rts,this.totalTime(Me(-Math.abs(this._delay),this._tDur,i),!1!==e),B(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},Ue.paused=function(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Be(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Xt&&(this._tTime-=Xt)))),this):this._ps},Ue.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||H(e,this,t-this._delay),this}return this._start},Ue.endTime=function(t){return this._start+(l(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},Ue.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?N(e.rawTime(t),this):this._tTime:this._tTime},Ue.revert=function(t){void 0===t&&(t=pe);var e=yt;return yt=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),yt=e,this},Ue.globalTime=function(t){for(var e=this,i=arguments.length?t:e.rawTime();e;)i=e._start+i/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):i},Ue.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,q(this)):-2===this._repeat?1/0:this._repeat},Ue.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,q(this),e?this.time(e):this}return this._rDelay},Ue.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},Ue.seek=function(t,e){return this.totalTime(Ce(this,t),l(e))},Ue.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,l(e))},Ue.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},Ue.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},Ue.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},Ue.resume=function(){return this.paused(!1)},Ue.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-Xt:0)),this):this._rts<0},Ue.invalidate=function(){return this._initted=this._act=0,this._zTime=-Xt,this},Ue.isActive=function(){var t,e=this.parent||this._dp,i=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<this.endTime(!0)-Xt))},Ue.eventCallback=function(t,e,i){var n=this.vars;return 1<arguments.length?(e?(n[t]=e,i&&(n[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},Ue.then=function(t){var e=this;return new Promise((function(i){function n(){var t=e.then;e.then=null,r(a)&&(a=a(e))&&(a.then||a===e)&&(e.then=t),i(a),e.then=t}var a=r(t)?t:C;e._initted&&1===e.totalProgress()&&0<=e._ts||!e._tTime&&e._ts<0?n():e._prom=n}))},Ue.kill=function(){st(this)},Ke);function Ke(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,W(this,+t.duration,1,1),this.data=t.data,bt&&(this._ctx=bt).data.push(this),Pt||Ne.wake()}M(Xe.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Xt,_prom:0,_ps:!1,_rts:1});var Je=function(t){function s(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=l(e.sortChildren),kt&&H(e.parent||kt,i(r),n),e.reversed&&r.reverse(),e.paused&&r.paused(!0),e.scrollTrigger&&j(i(r),e.scrollTrigger),r}e(s,t);var o=s.prototype;return o.to=function(t,e,i){return U(0,arguments,this),this},o.from=function(t,e,i){return U(1,arguments,this),this},o.fromTo=function(t,e,i,n){return U(2,arguments,this),this},o.set=function(t,e,i){return e.duration=0,e.parent=this,$(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new oi(t,e,Ce(this,i),1),this},o.call=function(t,e,i){return H(this,oi.delayedCall(0,t,e),i)},o.staggerTo=function(t,e,i,n,r,a,s){return i.duration=e,i.stagger=i.stagger||n,i.onComplete=a,i.onCompleteParams=s,i.parent=this,new oi(t,i,Ce(this,r)),this},o.staggerFrom=function(t,e,i,n,r,a,s){return i.runBackwards=1,$(i).immediateRender=l(i.immediateRender),this.staggerTo(t,e,i,n,r,a,s)},o.staggerFromTo=function(t,e,i,n,r,a,s,o){return n.startAt=i,$(n).immediateRender=l(n.immediateRender),this.staggerTo(t,e,n,r,a,s,o)},o.render=function(t,e,i){var n,r,a,s,o,l,c,d,h,u,f,p,g=this._time,m=this._dirty?this.totalDuration():this._tDur,_=this._dur,v=t<=0?0:k(t),y=this._zTime<0!=t<0&&(this._initted||!_);if(this!==kt&&m<v&&0<=t&&(v=m),v!==this._tTime||i||y){if(g!==this._time&&_&&(v+=this._time-g,t+=this._time-g),n=v,h=this._start,l=!(d=this._ts),y&&(_||(g=this._zTime),!t&&e||(this._zTime=t)),this._repeat){if(f=this._yoyo,o=_+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,i);if(n=k(v%o),v===m?(s=this._repeat,n=_):((s=~~(v/o))&&s===v/o&&(n=_,s--),_<n&&(n=_)),u=Se(this._tTime,o),!g&&this._tTime&&u!==s&&this._tTime-u*o-this._dur<=0&&(u=s),f&&1&s&&(n=_-n,p=1),s!==u&&!this._lock){var b=f&&1&u,x=b===(f&&1&s);if(s<u&&(b=!b),g=b?0:v%_?_:v,this._lock=1,this.render(g||(p?0:k(s*o)),e,!_)._lock=0,this._tTime=v,!e&&this.parent&&De(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),g&&g!==this._time||l!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(_=this._dur,m=this._tDur,x&&(this._lock=2,g=b?_:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;ft(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(t,e,i){var n;if(e<i)for(n=t._first;n&&n._start<=i;){if("isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if("isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,k(g),k(n)))&&(v-=n-(n=c._start)),this._tTime=v,this._time=n,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&n&&!e&&!s&&(De(this,"onStart"),this._tTime!==v))return this;if(g<=n&&0<=t)for(r=this._first;r;){if(a=r._next,(r._act||n>=r._start)&&r._ts&&c!==r){if(r.parent!==this)return this.render(t,e,i);if(r.render(0<r._ts?(n-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(n-r._start)*r._ts,e,i),n!==this._time||!this._ts&&!l){c=0,a&&(v+=this._zTime=-Xt);break}}r=a}else{r=this._last;for(var w=t<0?t:n;r;){if(a=r._prev,(r._act||w<=r._end)&&r._ts&&c!==r){if(r.parent!==this)return this.render(t,e,i);if(r.render(0<r._ts?(w-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(w-r._start)*r._ts,e,i||yt&&(r._initted||r._startAt)),n!==this._time||!this._ts&&!l){c=0,a&&(v+=this._zTime=w?-Xt:Xt);break}}r=a}}if(c&&!e&&(this.pause(),c.render(g<=n?0:-Xt)._zTime=g<=n?1:-1,this._ts))return this._start=h,B(this),this.render(t,e,i);this._onUpdate&&!e&&De(this,"onUpdate",!0),(v===m&&this._tTime>=this.totalDuration()||!v&&g)&&(h!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||(!t&&_||!(v===m&&0<this._ts||!v&&this._ts<0)||L(this,1),e||t<0&&!g||!v&&!g&&m||(De(this,v===m&&0<=t?"onComplete":"onReverseComplete",!0),!this._prom||v<m&&0<this.timeScale()||this._prom())))}return this},o.add=function(t,e){var i=this;if(a(e)||(e=Ce(this,e,t)),!(t instanceof Xe)){if(ne(t))return t.forEach((function(t){return i.add(t,e)})),this;if(n(t))return this.addLabel(t,e);if(!r(t))return this;t=oi.delayedCall(0,t)}return this!==t?H(this,t,e):this},o.getChildren=function(t,e,i,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=-Yt);for(var r=[],a=this._first;a;)a._start>=n&&(a instanceof oi?e&&r.push(a):(i&&r.push(a),t&&r.push.apply(r,a.getChildren(!0,e,i)))),a=a._next;return r},o.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},o.remove=function(t){return n(t)?this.removeLabel(t):r(t)?this.killTweensOf(t):(I(this,t),t===this._recent&&(this._recent=this._last),O(this))},o.totalTime=function(e,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=k(Ne.time-(0<this._ts?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,i),this._forcing=0,this):this._tTime},o.addLabel=function(t,e){return this.labels[t]=Ce(this,e),this},o.removeLabel=function(t){return delete this.labels[t],this},o.addPause=function(t,e,i){var n=oi.delayedCall(0,e||g,i);return n.data="isPause",this._hasPause=1,H(this,n,Ce(this,t))},o.removePause=function(t){var e=this._first;for(t=Ce(this,t);e;)e._start===t&&"isPause"===e.data&&L(e),e=e._next},o.killTweensOf=function(t,e,i){for(var n=this.getTweensOf(t,i),r=n.length;r--;)ti!==n[r]&&n[r].kill(t,e);return this},o.getTweensOf=function(t,e){for(var i,n=[],r=Ae(t),s=this._first,o=a(e);s;)s instanceof oi?w(s._targets,r)&&(o?(!ti||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&n.push(s):(i=s.getTweensOf(r,e)).length&&n.push.apply(n,i),s=s._next;return n},o.tweenTo=function(t,e){e=e||{};var i,n=this,r=Ce(n,t),a=e.startAt,s=e.onStart,o=e.onStartParams,l=e.immediateRender,c=oi.to(n,M({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(a&&"time"in a?a.time:n._time))/n.timeScale())||Xt,onStart:function(){if(n.pause(),!i){var t=e.duration||Math.abs((r-(a&&"time"in a?a.time:n._time))/n.timeScale());c._dur!==t&&W(c,t,0,1).render(c._time,!0,!0),i=1}s&&s.apply(c,o||[])}},e));return l?c.render(0):c},o.tweenFromTo=function(t,e,i){return this.tweenTo(e,M({startAt:{time:Ce(this,t)}},i))},o.recent=function(){return this._recent},o.nextLabel=function(t){return void 0===t&&(t=this._time),at(this,Ce(this,t))},o.previousLabel=function(t){return void 0===t&&(t=this._time),at(this,Ce(this,t),1)},o.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Xt)},o.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var n,r=this._first,a=this.labels;r;)r._start>=i&&(r._start+=t,r._end+=t),r=r._next;if(e)for(n in a)a[n]>=i&&(a[n]+=t);return O(this)},o.invalidate=function(e){var i=this._first;for(this._lock=0;i;)i.invalidate(e),i=i._next;return t.prototype.invalidate.call(this,e)},o.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),O(this)},o.totalDuration=function(t){var e,i,n,r=0,a=this,s=a._last,o=Yt;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-t:t));if(a._dirty){for(n=a.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),o<(i=s._start)&&a._sort&&s._ts&&!a._lock?(a._lock=1,H(a,s,i-s._delay,1)._lock=0):o=i,i<0&&s._ts&&(r-=i,(!n&&!a._dp||n&&n.smoothChildTiming)&&(a._start+=i/a._ts,a._time-=i,a._tTime-=i),a.shiftChildren(-i,!1,-1/0),o=0),s._end>r&&s._ts&&(r=s._end),s=e;W(a,a===kt&&a._time>r?a._time:r,1,1),a._dirty=0}return a._tDur},s.updateRoot=function(t){if(kt._ts&&(T(kt,N(t,kt)),Ct=Ne.frame),Ne.frame>=be){be+=qt.autoSleep||120;var e=kt._first;if((!e||!e._ts)&&qt.autoSleep&&Ne._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Ne.sleep()}}},s}(Xe);function Ze(t,e,i,a,s,l){var c,d,h,u;if(ve[t]&&!1!==(c=new ve[t]).init(s,c.rawVars?e[t]:function(t,e,i,a,s){if(r(t)&&(t=ri(t,s,e,i,a)),!o(t)||t.style&&t.nodeType||ne(t)||ie(t))return n(t)?ri(t,s,e,i,a):t;var l,c={};for(l in t)c[l]=ri(t[l],s,e,i,a);return c}(e[t],a,s,l,i),i,a,l)&&(i._pt=d=new ki(i._pt,s,t,0,1,c.render,c,0,c.priority),i!==Mt))for(h=i._ptLookup[i._targets.indexOf(s)],u=c._props.length;u--;)h[c._props[u]]=d;return c}function Qe(t,e,i,n){var r,a,s=e.ease||n||"power1.inOut";if(ne(e))a=i[t]||(i[t]=[]),e.forEach((function(t,i){return a.push({t:i/(e.length-1)*100,v:t,e:s})}));else for(r in e)a=i[r]||(i[r]=[]),"ease"===r||a.push({t:parseFloat(t),v:e[r],e:s})}M(Je.prototype,{_lock:0,_hasPause:0,_forcing:0});var ti,ei,ii=function(t,e,i,a,s,o,l,c,d,h){r(a)&&(a=a(s||0,t,o));var f,p=t[e],g="get"!==i?i:r(p)?d?t[e.indexOf("set")||!r(t["get"+e.substr(3)])?e:"get"+e.substr(3)](d):t[e]():p,m=r(p)?d?ui:hi:di;if(n(a)&&(~a.indexOf("random(")&&(a=rt(a)),"="===a.charAt(1)&&(!(f=x(g,a)+(X(g)||0))&&0!==f||(a=f))),!h||g!==a||ei)return isNaN(g*a)||""===a?(p||e in t||u(e,a),function(t,e,i,n,r,a,s){var o,l,c,d,h,u,f,p,g=new ki(this._pt,t,e,0,1,mi,null,r),m=0,_=0;for(g.b=i,g.e=n,i+="",(f=~(n+="").indexOf("random("))&&(n=rt(n)),a&&(a(p=[i,n],t,e),i=p[0],n=p[1]),l=i.match(oe)||[];o=oe.exec(n);)d=o[0],h=n.substring(m,o.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),d!==l[_++]&&(u=parseFloat(l[_-1])||0,g._pt={_next:g._pt,p:h||1===_?h:",",s:u,c:"="===d.charAt(1)?x(u,d)-u:parseFloat(d)-u,m:c&&c<4?Math.round:0},m=oe.lastIndex);return g.c=m<n.length?n.substring(m,n.length):"",g.fp=s,(le.test(n)||f)&&(g.e=0),this._pt=g}.call(this,t,e,g,a,m,c||qt.stringFilter,d)):(f=new ki(this._pt,t,e,+g||0,a-(g||0),"boolean"==typeof p?gi:pi,0,m),d&&(f.fp=d),l&&f.modifier(l,this,t),this._pt=f)},ni=function t(e,i,n){var r,a,s,o,c,d,h,u,f,p,g,v,y,b=e.vars,k=b.ease,x=b.startAt,w=b.immediateRender,T=b.lazy,E=b.onUpdate,C=b.runBackwards,P=b.yoyoEase,$=b.keyframes,D=b.autoRevert,I=e._dur,O=e._startAt,R=e._targets,F=e.parent,N=F&&"nested"===F.data?F.vars.targets:R,B="auto"===e._overwrite&&!vt,z=e.timeline;if(!z||$&&k||(k="none"),e._ease=Ge(k,Ut.ease),e._yEase=P?je(Ge(!0===P?k:P,Ut.ease)):0,P&&e._yoyo&&!e._repeat&&(P=e._yEase,e._yEase=e._ease,e._ease=P),e._from=!z&&!!b.runBackwards,!z||$&&!b.stagger){if(v=(u=R[0]?_(R[0]).harness:0)&&b[u.prop],r=A(b,ge),O&&(O._zTime<0&&O.progress(1),i<0&&C&&w&&!D?O.render(-1,!0):O.revert(C&&I?fe:ue),O._lazy=0),x){if(L(e._startAt=oi.set(R,M({data:"isStart",overwrite:!1,parent:F,immediateRender:!0,lazy:!O&&l(T),startAt:null,delay:0,onUpdate:E&&function(){return De(e,"onUpdate")},stagger:0},x))),e._startAt._dp=0,e._startAt._sat=e,i<0&&(yt||!w&&!D)&&e._startAt.revert(fe),w&&I&&i<=0&&n<=0)return void(i&&(e._zTime=i))}else if(C&&I&&!O)if(i&&(w=!1),s=M({overwrite:!1,data:"isFromStart",lazy:w&&!O&&l(T),immediateRender:w,stagger:0,parent:F},r),v&&(s[u.prop]=v),L(e._startAt=oi.set(R,s)),e._startAt._dp=0,e._startAt._sat=e,i<0&&(yt?e._startAt.revert(fe):e._startAt.render(-1,!0)),e._zTime=i,w){if(!i)return}else t(e._startAt,Xt,Xt);for(e._pt=e._ptCache=0,T=I&&l(T)||T&&!I,a=0;a<R.length;a++){if(h=(c=R[a])._gsap||m(R)[a]._gsap,e._ptLookup[a]=p={},_e[h.id]&&me.length&&S(),g=N===R?a:N.indexOf(c),u&&!1!==(f=new u).init(c,v||r,e,g,N)&&(e._pt=o=new ki(e._pt,c,f.name,0,1,f.render,f,0,f.priority),f._props.forEach((function(t){p[t]=o})),f.priority&&(d=1)),!u||v)for(s in r)ve[s]&&(f=Ze(s,r,e,g,c,N))?f.priority&&(d=1):p[s]=o=ii.call(e,c,s,"get",r[s],g,N,0,b.stringFilter);e._op&&e._op[a]&&e.kill(c,e._op[a]),B&&e._pt&&(ti=e,kt.killTweensOf(c,p,e.globalTime(i)),y=!e.parent,ti=0),e._pt&&T&&(_e[h.id]=1)}d&&bi(e),e._onInit&&e._onInit(e)}e._onUpdate=E,e._initted=(!e._op||e._pt)&&!y,$&&i<=0&&z.render(Yt,!0,!0)},ri=function(t,e,i,a,s){return r(t)?t.call(e,i,a,s):n(t)&&~t.indexOf("random(")?rt(t):t},ai=xe+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",si={};y(ai+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return si[t]=1}));var oi=function(t){function r(e,n,r,s){var c;"number"==typeof n&&(r.duration=n,n=r,r=null);var h,u,p,g,_,v,y,b,x=(c=t.call(this,s?n:$(n))||this).vars,w=x.duration,S=x.delay,T=x.immediateRender,E=x.stagger,C=x.overwrite,P=x.keyframes,D=x.defaults,I=x.scrollTrigger,L=x.yoyoEase,O=n.parent||kt,R=(ne(e)||ie(e)?a(e[0]):"length"in n)?[e]:Ae(e);if(c._targets=R.length?m(R):f("GSAP target "+e+" not found. https://gsap.com",!qt.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=C,P||E||d(w)||d(S)){if(n=c.vars,(h=c.timeline=new Je({data:"nested",defaults:D||{},targets:O&&"nested"===O.data?O.vars.targets:R})).kill(),h.parent=h._dp=i(c),h._start=0,E||d(w)||d(S)){if(g=R.length,y=E&&Q(E),o(E))for(_ in E)~ai.indexOf(_)&&((b=b||{})[_]=E[_]);for(u=0;u<g;u++)(p=A(n,si)).stagger=0,L&&(p.yoyoEase=L),b&&we(p,b),v=R[u],p.duration=+ri(w,i(c),u,v,R),p.delay=(+ri(S,i(c),u,v,R)||0)-c._delay,!E&&1===g&&p.delay&&(c._delay=S=p.delay,c._start+=S,p.delay=0),h.to(v,p,y?y(u,v,R):0),h._ease=ze.none;h.duration()?w=S=0:c.timeline=0}else if(P){$(M(h.vars.defaults,{ease:"none"})),h._ease=Ge(P.ease||n.ease||"none");var F,N,B,z=0;if(ne(P))P.forEach((function(t){return h.to(R,t,">")})),h.duration();else{for(_ in p={},P)"ease"===_||"easeEach"===_||Qe(_,P[_],p,P.easeEach);for(_ in p)for(F=p[_].sort((function(t,e){return t.t-e.t})),u=z=0;u<F.length;u++)(B={ease:(N=F[u]).e,duration:(N.t-(u?F[u-1].t:0))/100*w})[_]=N.v,h.to(R,B,z),z+=B.duration;h.duration()<w&&h.to({},{duration:w-h.duration()})}}w||c.duration(w=h.duration())}else c.timeline=0;return!0!==C||vt||(ti=i(c),kt.killTweensOf(R),ti=0),H(O,i(c),r),n.reversed&&c.reverse(),n.paused&&c.paused(!0),(T||!w&&!P&&c._start===k(O._time)&&l(T)&&function t(e){return!e||e._ts&&t(e.parent)}(i(c))&&"nested"!==O.data)&&(c._tTime=-Xt,c.render(Math.max(0,-S)||0)),I&&j(i(c),I),c}e(r,t);var s=r.prototype;return s.render=function(t,e,i){var n,r,a,s,o,l,c,d,h,u=this._time,f=this._tDur,p=this._dur,g=t<0,m=f-Xt<t&&!g?f:t<Xt?0:t;if(p){if(m!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=g){if(n=m,d=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*s+t,e,i);if(n=k(m%s),m===f?(a=this._repeat,n=p):((a=~~(m/s))&&a===k(m/s)&&(n=p,a--),p<n&&(n=p)),(l=this._yoyo&&1&a)&&(h=this._yEase,n=p-n),o=Se(this._tTime,s),n===u&&!i&&this._initted&&a===o)return this._tTime=m,this;a!==o&&(d&&this._yEase&&ft(d,l),this.vars.repeatRefresh&&!l&&!this._lock&&this._time!==s&&this._initted&&(this._lock=i=1,this.render(k(s*a),!0).invalidate()._lock=0))}if(!this._initted){if(G(this,g?t:n,i,e,m))return this._tTime=0,this;if(!(u===this._time||i&&this.vars.repeatRefresh&&a!==o))return this;if(p!==this._dur)return this.render(t,e,i)}if(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(n/p),this._from&&(this.ratio=c=1-c),n&&!u&&!e&&!a&&(De(this,"onStart"),this._tTime!==m))return this;for(r=this._pt;r;)r.r(c,r.d),r=r._next;d&&d.render(t<0?t:d._dur*d._ease(n/this._dur),e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(g&&R(this,t,0,i),De(this,"onUpdate")),this._repeat&&a!==o&&this.vars.onRepeat&&!e&&this.parent&&De(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(g&&!this._onUpdate&&R(this,t,0,!0),!t&&p||!(m===this._tDur&&0<this._ts||!m&&this._ts<0)||L(this,1),e||g&&!u||!(m||u||l)||(De(this,m===f?"onComplete":"onReverseComplete",!0),!this._prom||m<f&&0<this.timeScale()||this._prom()))}}else!function(t,e,i,n){var r,a,s,o=t.ratio,l=e<0||!e&&(!t._start&&function t(e){var i=e.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||t(i))}(t)&&(t._initted||!Te(t))||(t._ts<0||t._dp._ts<0)&&!Te(t))?0:1,c=t._rDelay,d=0;if(c&&t._repeat&&(d=Me(0,t._tDur,e),a=Se(d,c),t._yoyo&&1&a&&(l=1-l),a!==Se(t._tTime,c)&&(o=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==o||yt||n||t._zTime===Xt||!e&&t._zTime){if(!t._initted&&G(t,e,n,i,d))return;for(s=t._zTime,t._zTime=e||(i?Xt:0),i=i||e&&!s,t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=d,r=t._pt;r;)r.r(l,r.d),r=r._next;e<0&&R(t,e,0,!0),t._onUpdate&&!i&&De(t,"onUpdate"),d&&t._repeat&&!i&&t.parent&&De(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&L(t,1),i||yt||(De(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,i);return this},s.targets=function(){return this._targets},s.invalidate=function(e){return e&&this.vars.runBackwards||(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},s.resetTo=function(t,e,i,n,r){Pt||Ne.wake(),this._ts||this.play();var a=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||ni(this,a),function(t,e,i,n,r,a,s,o){var l,c,d,h,u=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!u)for(u=t._ptCache[e]=[],d=t._ptLookup,h=t._targets.length;h--;){if((l=d[h][e])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==e&&l.fp!==e;)l=l._next;if(!l)return ei=1,t.vars[e]="+=0",ni(t,s),ei=0,o?f(e+" not eligible for reset"):1;u.push(l)}for(h=u.length;h--;)(l=(c=u[h])._pt||c).s=!n&&0!==n||r?l.s+(n||0)+a*l.c:n,l.c=i-l.s,c.e&&(c.e=b(i)+X(c.e)),c.b&&(c.b=l.s+X(c.b))}(this,t,e,i,n,this._ease(a/this._dur),a,r)?this.resetTo(t,e,i,n,1):(z(this,0),this.parent||D(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},s.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?st(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,ti&&!0!==ti.vars.overwrite)._first||st(this),this.parent&&i!==this.timeline.totalDuration()&&W(this,this._dur*this.timeline._tDur/i,0,1),this}var r,a,s,o,l,c,d,h=this._targets,u=t?Ae(t):h,f=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0}(h,u))return"all"===e&&(this._pt=0),st(this);for(r=this._op=this._op||[],"all"!==e&&(n(e)&&(l={},y(e,(function(t){return l[t]=1})),e=l),e=function(t,e){var i,n,r,a,s=t[0]?_(t[0]).harness:0,o=s&&s.aliases;if(!o)return e;for(n in i=we({},e),o)if(n in i)for(r=(a=o[n].split(",")).length;r--;)i[a[r]]=i[n];return i}(h,e)),d=h.length;d--;)if(~u.indexOf(h[d]))for(l in a=f[d],"all"===e?(r[d]=e,o=a,s={}):(s=r[d]=r[d]||{},o=e),o)(c=a&&a[l])&&("kill"in c.d&&!0!==c.d.kill(l)||I(this,c,"_pt"),delete a[l]),"all"!==s&&(s[l]=1);return this._initted&&!this._pt&&p&&st(this),this},r.to=function(t,e,i){return new r(t,e,i)},r.from=function(t,e){return U(1,arguments)},r.delayedCall=function(t,e,i,n){return new r(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:n})},r.fromTo=function(t,e,i){return U(2,arguments)},r.set=function(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new r(t,e)},r.killTweensOf=function(t,e,i){return kt.killTweensOf(t,e,i)},r}(Xe);function li(t,e,i){return t.setAttribute(e,i)}function ci(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)}M(oi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),y("staggerTo,staggerFrom,staggerFromTo",(function(t){oi[t]=function(){var e=new Je,i=Pe.call(arguments,0);return i.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,i)}}));var di=function(t,e,i){return t[e]=i},hi=function(t,e,i){return t[e](i)},ui=function(t,e,i,n){return t[e](n.fp,i)},fi=function(t,e){return r(t[e])?hi:s(t[e])&&t.setAttribute?li:di},pi=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},gi=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},mi=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},_i=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},vi=function(t,e,i,n){for(var r,a=this._pt;a;)r=a._next,a.p===n&&a.modifier(t,e,i),a=r},yi=function(t){for(var e,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?I(this,n,"_pt"):n.dep||(e=1),n=i;return!e},bi=function(t){for(var e,i,n,r,a=t._pt;a;){for(e=a._next,i=n;i&&i.pr>a.pr;)i=i._next;(a._prev=i?i._prev:r)?a._prev._next=a:n=a,(a._next=i)?i._prev=a:r=a,a=e}t._pt=n},ki=(xi.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=ci,this.m=t,this.mt=i,this.tween=e},xi);function xi(t,e,i,n,r,a,s,o,l){this.t=e,this.s=n,this.c=r,this.p=i,this.r=a||pi,this.d=s||this,this.set=o||di,this.pr=l||0,(this._next=t)&&(t._prev=this)}function wi(t){return(Ci[t]||Mi).map((function(t){return t()}))}function Si(){var t=Date.now(),e=[];2<t-Pi&&(wi("matchMediaInit"),Ei.forEach((function(t){var i,n,r,a,s=t.queries,o=t.conditions;for(n in s)(i=xt.matchMedia(s[n]).matches)&&(r=1),i!==o[n]&&(o[n]=i,a=1);a&&(t.revert(),r&&e.push(t))})),wi("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),Pi=t,wi("matchMedia"))}y(xe+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return ge[t]=1})),he.TweenMax=he.TweenLite=oi,he.TimelineLite=he.TimelineMax=Je,kt=new Je({sortChildren:!1,defaults:Ut,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),qt.stringFilter=ut;var Ti,Ei=[],Ci={},Mi=[],Pi=0,Ai=0,$i=((Ti=Di.prototype).add=function(t,e,i){function n(){var t,n=bt,s=a.selector;return n&&n!==a&&n.data.push(a),i&&(a.selector=J(i)),bt=a,r(t=e.apply(a,arguments))&&a._r.push(t),bt=n,a.selector=s,a.isReverted=!1,t}r(t)&&(i=e,e=t,t=r);var a=this;return a.last=n,t===r?n(a,(function(t){return a.add(null,t)})):t?a[t]=n:n},Ti.ignore=function(t){var e=bt;bt=null,t(this),bt=e},Ti.getTweens=function(){var t=[];return this.data.forEach((function(e){return e instanceof Di?t.push.apply(t,e.getTweens()):e instanceof oi&&!(e.parent&&"nested"===e.parent.data)&&t.push(e)})),t},Ti.clear=function(){this._r.length=this.data.length=0},Ti.kill=function(t,e){var i=this;if(t?function(){for(var e,n=i.getTweens(),r=i.data.length;r--;)"isFlip"===(e=i.data[r]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return n.splice(n.indexOf(t),1)})));for(n.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t:t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),r=i.data.length;r--;)(e=i.data[r])instanceof Je?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):e instanceof oi||!e.revert||e.revert(t);i._r.forEach((function(e){return e(t,i)})),i.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var n=Ei.length;n--;)Ei[n].id===this.id&&Ei.splice(n,1)},Ti.revert=function(t){this.kill(t||{})},Di);function Di(t,e){this.selector=e&&J(e),this.data=[],this._r=[],this.isReverted=!1,this.id=Ai++,t&&this.add(t)}var Ii,Li=((Ii=Oi.prototype).add=function(t,e,i){o(t)||(t={matches:t});var n,r,a,s=new $i(0,i||this.scope),l=s.conditions={};for(r in bt&&!s.selector&&(s.selector=bt.selector),this.contexts.push(s),e=s.add("onMatch",e),s.queries=t)"all"===r?a=1:(n=xt.matchMedia(t[r]))&&(Ei.indexOf(s)<0&&Ei.push(s),(l[r]=n.matches)&&(a=1),n.addListener?n.addListener(Si):n.addEventListener("change",Si));return a&&e(s,(function(t){return s.add(null,t)})),this},Ii.revert=function(t){this.kill(t||{})},Ii.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},Oi);function Oi(t){this.contexts=[],this.scope=t,bt&&bt.data.push(this)}var Ri={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach((function(t){return ot(t)}))},timeline:function(t){return new Je(t)},getTweensOf:function(t,e){return kt.getTweensOf(t,e)},getProperty:function(t,e,i,r){n(t)&&(t=Ae(t)[0]);var a=_(t||{}).get,s=i?C:E;return"native"===i&&(i=""),t?e?s((ve[e]&&ve[e].get||a)(t,e,i,r)):function(e,i,n){return s((ve[e]&&ve[e].get||a)(t,e,i,n))}:t},quickSetter:function(t,e,i){if(1<(t=Ae(t)).length){var n=t.map((function(t){return Bi.quickSetter(t,e,i)})),r=n.length;return function(t){for(var e=r;e--;)n[e](t)}}t=t[0]||{};var a=ve[e],s=_(t),o=s.harness&&(s.harness.aliases||{})[e]||e,l=a?function(e){var n=new a;Mt._pt=0,n.init(t,i?e+i:e,Mt,0,[t]),n.render(1,n),Mt._pt&&_i(1,Mt)}:s.set(t,o);return a?l:function(e){return l(t,o,i?e+i:e,s,1)}},quickTo:function(t,e,i){function n(t,i,n){return a.resetTo(e,t,i,n)}var r,a=Bi.to(t,we(((r={})[e]="+=0.1",r.paused=!0,r),i||{}));return n.tween=a,n},isTweening:function(t){return 0<kt.getTweensOf(t,!0).length},defaults:function(t){return t&&t.ease&&(t.ease=Ge(t.ease,Ut.ease)),P(Ut,t||{})},config:function(t){return P(qt,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,n=t.plugins,r=t.defaults,a=t.extendTimeline;(n||"").split(",").forEach((function(t){return t&&!ve[t]&&!he[t]&&f(e+" effect requires "+t+" plugin.")})),ye[e]=function(t,e,n){return i(Ae(t),M(e||{},r),n)},a&&(Je.prototype[e]=function(t,i,n){return this.add(ye[e](t,o(i)?i:(n=i)&&{},this),n)})},registerEase:function(t,e){ze[t]=Ge(e)},parseEase:function(t,e){return arguments.length?Ge(t,e):ze},getById:function(t){return kt.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,n,r=new Je(t);for(r.smoothChildTiming=l(t.smoothChildTiming),kt.remove(r),r._dp=0,r._time=r._tTime=kt._time,i=kt._first;i;)n=i._next,!e&&!i._dur&&i instanceof oi&&i.vars.onComplete===i._targets[0]||H(r,i,i._start-i._delay),i=n;return H(kt,r,0),r},context:function(t,e){return t?new $i(t,e):bt},matchMedia:function(t){return new Li(t)},matchMediaRefresh:function(){return Ei.forEach((function(t){var e,i,n=t.conditions;for(i in n)n[i]&&(n[i]=!1,e=1);e&&t.revert()}))||Si()},addEventListener:function(t,e){var i=Ci[t]||(Ci[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=Ci[t],n=i&&i.indexOf(e);0<=n&&i.splice(n,1)},utils:{wrap:function t(e,i,n){var r=i-e;return ne(e)?nt(e,t(0,e.length),i):Y(n,(function(t){return(r+(t-e)%r)%r+e}))},wrapYoyo:function t(e,i,n){var r=i-e,a=2*r;return ne(e)?nt(e,t(0,e.length-1),i):Y(n,(function(t){return e+(r<(t=(a+(t-e)%a)%a||0)?a-t:t)}))},distribute:Q,random:it,snap:et,normalize:function(t,e,i){return $e(t,e,0,1,i)},getUnit:X,clamp:function(t,e,i){return Y(i,(function(i){return Me(t,e,i)}))},splitColor:ct,toArray:Ae,selector:J,mapRange:$e,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||X(i))}},interpolate:function t(e,i,r,a){var s=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!s){var o,l,c,d,h,u=n(e),f={};if(!0===r&&(a=1)&&(r=null),u)e={p:e},i={p:i};else if(ne(e)&&!ne(i)){for(c=[],d=e.length,h=d-2,l=1;l<d;l++)c.push(t(e[l-1],e[l]));d--,s=function(t){t*=d;var e=Math.min(h,~~t);return c[e](t-e)},r=i}else a||(e=we(ne(e)?[]:{},e));if(!c){for(o in i)ii.call(f,e,o,"get",i[o]);s=function(t){return _i(t,f)||(u?e.p:e)}}}return Y(r,s)},shuffle:Z},install:h,effects:ye,ticker:Ne,updateRoot:Je.updateRoot,plugins:ve,globalTimeline:kt,core:{PropTween:ki,globals:p,Tween:oi,Timeline:Je,Animation:Xe,getCache:_,_removeLinkedListItem:I,reverting:function(){return yt},context:function(t){return t&&bt&&(bt.data.push(t),t._ctx=bt),bt},suppressOverwrites:function(t){return vt=t}}};function Fi(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i}function Ni(t,e){return{name:t,rawVars:1,init:function(t,i,r){r._onInit=function(t){var r,a;if(n(i)&&(r={},y(i,(function(t){return r[t]=1})),i=r),e){for(a in r={},i)r[a]=e(i[a]);i=r}!function(t,e){var i,n,r,a=t._targets;for(i in e)for(n=a.length;n--;)(r=(r=t._ptLookup[n][i])&&r.d)&&(r._pt&&(r=Fi(r,i)),r&&r.modifier&&r.modifier(e[i],t,a[n],i))}(t,i)}}}}y("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Ri[t]=oi[t]})),Ne.add(Je.updateRoot),Mt=Ri.to({},{duration:0});var Bi=Ri.registerPlugin({name:"attr",init:function(t,e,i,n,r){var a,s,o;for(a in this.tween=i,e)o=t.getAttribute(a)||"",(s=this.add(t,"setAttribute",(o||0)+"",e[a],n,r,0,0,a)).op=a,s.b=o,this._props.push(a)},render:function(t,e){for(var i=e._pt;i;)yt?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},Ni("roundProps",tt),Ni("modifiers"),Ni("snap",et))||Ri;function zi(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function Vi(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function Hi(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function ji(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)}function Gi(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function Wi(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function qi(t,e,i){return t.style[e]=i}function Ui(t,e,i){return t.style.setProperty(e,i)}function Yi(t,e,i){return t._gsap[e]=i}function Xi(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i}function Ki(t,e,i,n,r){var a=t._gsap;a.scaleX=a.scaleY=i,a.renderTransform(r,a)}function Ji(t,e,i,n,r){var a=t._gsap;a[e]=i,a.renderTransform(r,a)}function Zi(t,e){var i=this,n=this.target,r=n.style,a=n._gsap;if(t in Kn&&r){if(this.tfm=this.tfm||{},"transform"===t)return nr.transform.split(",").forEach((function(t){return Zi.call(i,t,e)}));if(~(t=nr[t]||t).indexOf(",")?t.split(",").forEach((function(t){return i.tfm[t]=dr(n,t)})):this.tfm[t]=a.x?a[t]:dr(n,t),t===ar&&(this.tfm.zOrigin=a.zOrigin),0<=this.props.indexOf(rr))return;a.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(ar,e,"")),t=rr}(r||e)&&this.props.push(t,e,r[t])}function Qi(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))}function tn(){var t,e,i=this.props,n=this.target,r=n.style,a=n._gsap;for(t=0;t<i.length;t+=3)i[t+1]?n[i[t]]=i[t+2]:i[t+2]?r[i[t]]=i[t+2]:r.removeProperty("--"===i[t].substr(0,2)?i[t]:i[t].replace(tr,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)a[e]=this.tfm[e];a.svg&&(a.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(t=An())&&t.isStart||r[rr]||(Qi(r),a.zOrigin&&r[ar]&&(r[ar]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}}function en(t,e){var i={target:t,props:[],revert:tn,save:Zi};return t._gsap||Bi.core.getCache(t),e&&e.split(",").forEach((function(t){return i.save(t)})),i}function nn(t,e){var i=Tn.createElementNS?Tn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Tn.createElement(t);return i&&i.style?i:Tn.createElement(t)}function rn(t,e,i){var n=getComputedStyle(t);return n[e]||n.getPropertyValue(e.replace(tr,"-$1").toLowerCase())||n.getPropertyValue(e)||!i&&rn(t,or(e)||e,1)||""}function an(){"undefined"!=typeof window&&window.document&&(Sn=window,Tn=Sn.document,En=Tn.documentElement,Mn=nn("div")||{style:{}},nn("div"),rr=or(rr),ar=rr+"Origin",Mn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",$n=!!or("perspective"),An=Bi.core.reverting,Cn=1)}function sn(t){var e,i=nn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,a=this.style.cssText;if(En.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=sn}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return n&&(r?n.insertBefore(this,r):n.appendChild(this)),En.removeChild(i),this.style.cssText=a,e}function on(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])}function ln(t){var e;try{e=t.getBBox()}catch(i){e=sn.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===sn||(e=sn.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+on(t,["x","cx","x1"])||0,y:+on(t,["y","cy","y1"])||0,width:0,height:0}}function cn(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!ln(t))}function dn(t,e){if(e){var i,n=t.style;e in Kn&&e!==ar&&(e=rr),n.removeProperty?("ms"!==(i=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty("--"===i?e:e.replace(tr,"-$1").toLowerCase())):n.removeAttribute(e)}}function hn(t,e,i,n,r,a){var s=new ki(t._pt,e,i,0,1,a?Wi:Gi);return(t._pt=s).b=n,s.e=r,t._props.push(i),s}function un(t,e,i,n){var r,a,s,o,l=parseFloat(i)||0,c=(i+"").trim().substr((l+"").length)||"px",d=Mn.style,h=er.test(e),u="svg"===t.tagName.toLowerCase(),f=(u?"client":"offset")+(h?"Width":"Height"),p="px"===n,g="%"===n;if(n===c||!l||lr[n]||lr[c])return l;if("px"===c||p||(l=un(t,e,i,"px")),o=t.getCTM&&cn(t),(g||"%"===c)&&(Kn[e]||~e.indexOf("adius")))return r=o?t.getBBox()[h?"width":"height"]:t[f],b(g?l/r*100:l/100*r);if(d[h?"width":"height"]=100+(p?c:n),a=~e.indexOf("adius")||"em"===n&&t.appendChild&&!u?t:t.parentNode,o&&(a=(t.ownerSVGElement||{}).parentNode),a&&a!==Tn&&a.appendChild||(a=Tn.body),(s=a._gsap)&&g&&s.width&&h&&s.time===Ne.time&&!s.uncache)return b(l/s.width*100);if(!g||"height"!==e&&"width"!==e)!g&&"%"!==c||cr[rn(a,"display")]||(d.position=rn(t,"position")),a===t&&(d.position="static"),a.appendChild(Mn),r=Mn[f],a.removeChild(Mn),d.position="absolute";else{var m=t.style[e];t.style[e]=100+n,r=t[f],m?t.style[e]=m:dn(t,e)}return h&&g&&((s=_(a)).time=Ne.time,s.width=a[f]),b(p?r*l/100:r&&l?100/r*l:0)}function fn(t,e,i,n){if(!i||"none"===i){var r=or(e,t,1),a=r&&rn(t,r,1);a&&a!==i?(e=r,i=a):"borderColor"===e&&(i=rn(t,"borderTopColor"))}var s,o,l,c,d,h,u,f,p,g,m,_=new ki(this._pt,t.style,e,0,1,mi),v=0,y=0;if(_.b=i,_.e=n,i+="","auto"==(n+="")&&(h=t.style[e],t.style[e]=n,n=rn(t,e)||n,h?t.style[e]=h:dn(t,e)),ut(s=[i,n]),n=s[1],l=(i=s[0]).match(se)||[],(n.match(se)||[]).length){for(;o=se.exec(n);)u=o[0],p=n.substring(v,o.index),d?d=(d+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(d=1),u!==(h=l[y++]||"")&&(c=parseFloat(h)||0,m=h.substr((c+"").length),"="===u.charAt(1)&&(u=x(c,u)+m),f=parseFloat(u),g=u.substr((f+"").length),v=se.lastIndex-g.length,g||(g=g||qt.units[e]||m,v===n.length&&(n+=g,_.e+=g)),m!==g&&(c=un(t,e,h,g)||0),_._pt={_next:_._pt,p:p||1===y?p:",",s:c,c:f-c,m:d&&d<4||"zIndex"===e?Math.round:0});_.c=v<n.length?n.substring(v,n.length):""}else _.r="display"===e&&"none"===n?Wi:Gi;return le.test(n)&&(_.e=0),this._pt=_}function pn(t){var e=t.split(" "),i=e[0],n=e[1]||"50%";return"top"!==i&&"bottom"!==i&&"left"!==n&&"right"!==n||(t=i,i=n,n=t),e[0]=hr[i]||i,e[1]=hr[n]||n,e.join(" ")}function gn(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,n,r,a=e.t,s=a.style,o=e.u,l=a._gsap;if("all"===o||!0===o)s.cssText="",n=1;else for(r=(o=o.split(",")).length;-1<--r;)i=o[r],Kn[i]&&(n=1,i="transformOrigin"===i?ar:rr),dn(a,i);n&&(dn(a,rr),l&&(l.svg&&a.removeAttribute("transform"),gr(a,1),l.uncache=1,Qi(s)))}}function mn(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function _n(t){var e=rn(t,rr);return mn(e)?fr:e.substr(7).match(ae).map(b)}function vn(t,e){var i,n,r,a,s=t._gsap||_(t),o=t.style,l=_n(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?fr:l:(l!==fr||t.offsetParent||t===En||s.svg||(r=o.display,o.display="block",(i=t.parentNode)&&t.offsetParent||(a=1,n=t.nextElementSibling,En.appendChild(t)),l=_n(t),r?o.display=r:dn(t,"display"),a&&(n?i.insertBefore(t,n):i?i.appendChild(t):En.removeChild(t))),e&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)}function yn(t,e,i,n,r,a){var s,o,l,c=t._gsap,d=r||vn(t,!0),h=c.xOrigin||0,u=c.yOrigin||0,f=c.xOffset||0,p=c.yOffset||0,g=d[0],m=d[1],_=d[2],v=d[3],y=d[4],b=d[5],k=e.split(" "),x=parseFloat(k[0])||0,w=parseFloat(k[1])||0;i?d!==fr&&(o=g*v-m*_)&&(l=x*(-m/o)+w*(g/o)-(g*b-m*y)/o,x=x*(v/o)+w*(-_/o)+(_*b-v*y)/o,w=l):(x=(s=ln(t)).x+(~k[0].indexOf("%")?x/100*s.width:x),w=s.y+(~(k[1]||k[0]).indexOf("%")?w/100*s.height:w)),n||!1!==n&&c.smooth?(y=x-h,b=w-u,c.xOffset=f+(y*g+b*_)-y,c.yOffset=p+(y*m+b*v)-b):c.xOffset=c.yOffset=0,c.xOrigin=x,c.yOrigin=w,c.smooth=!!n,c.origin=e,c.originIsAbsolute=!!i,t.style[ar]="0px 0px",a&&(hn(a,c,"xOrigin",h,x),hn(a,c,"yOrigin",u,w),hn(a,c,"xOffset",f,c.xOffset),hn(a,c,"yOffset",p,c.yOffset)),t.setAttribute("data-svg-origin",x+" "+w)}function bn(t,e,i){var n=X(e);return b(parseFloat(e)+parseFloat(un(t,"x",i+"px",n)))+n}function kn(t,e,i,r,a){var s,o,l=360,c=n(a),d=parseFloat(a)*(c&&~a.indexOf("rad")?Jn:1)-r,h=r+d+"deg";return c&&("short"===(s=a.split("_")[1])&&(d%=l)!=d%180&&(d+=d<0?l:-l),"cw"===s&&d<0?d=(d+36e9)%l-~~(d/l)*l:"ccw"===s&&0<d&&(d=(d-36e9)%l-~~(d/l)*l)),t._pt=o=new ki(t._pt,e,i,r,d,Vi),o.e=h,o.u="deg",t._props.push(i),o}function xn(t,e){for(var i in e)t[i]=e[i];return t}function wn(t,e,i){var n,r,a,s,o,l,c,d=xn({},i._gsap),h=i.style;for(r in d.svg?(a=i.getAttribute("transform"),i.setAttribute("transform",""),h[rr]=e,n=gr(i,1),dn(i,rr),i.setAttribute("transform",a)):(a=getComputedStyle(i)[rr],h[rr]=e,n=gr(i,1),h[rr]=a),Kn)(a=d[r])!==(s=n[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(o=X(a)!==(c=X(s))?un(i,r,a,c):parseFloat(a),l=parseFloat(s),t._pt=new ki(t._pt,n,r,o,l-o,zi),t._pt.u=c||0,t._props.push(r));xn(n,d)}oi.version=Je.version=Bi.version="3.12.5",Et=1,c()&&Be();var Sn,Tn,En,Cn,Mn,Pn,An,$n,Dn=ze.Power0,In=ze.Power1,Ln=ze.Power2,On=ze.Power3,Rn=ze.Power4,Fn=ze.Linear,Nn=ze.Quad,Bn=ze.Cubic,zn=ze.Quart,Vn=ze.Quint,Hn=ze.Strong,jn=ze.Elastic,Gn=ze.Back,Wn=ze.SteppedEase,qn=ze.Bounce,Un=ze.Sine,Yn=ze.Expo,Xn=ze.Circ,Kn={},Jn=180/Math.PI,Zn=Math.PI/180,Qn=Math.atan2,tr=/([A-Z])/g,er=/(left|right|width|margin|padding|x)/i,ir=/[\s,\(]\S/,nr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rr="transform",ar=rr+"Origin",sr="O,Moz,ms,Ms,Webkit".split(","),or=function(t,e,i){var n=(e||Mn).style,r=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(sr[r]+t in n););return r<0?null:(3===r?"ms":0<=r?sr[r]:"")+t},lr={deg:1,rad:1,turn:1},cr={grid:1,flex:1},dr=function(t,e,i,n){var r;return Cn||an(),e in nr&&"transform"!==e&&~(e=nr[e]).indexOf(",")&&(e=e.split(",")[0]),Kn[e]&&"transform"!==e?(r=gr(t,n),r="transformOrigin"!==e?r[e]:r.svg?r.origin:mr(rn(t,ar))+" "+r.zOrigin+"px"):(r=t.style[e])&&"auto"!==r&&!n&&!~(r+"").indexOf("calc(")||(r=ur[e]&&ur[e](t,e,i)||rn(t,e)||v(t,e)||("opacity"===e?1:0)),i&&!~(r+"").trim().indexOf(" ")?un(t,e,r,i)+i:r},hr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ur={clearProps:function(t,e,i,n,r){if("isFromStart"!==r.data){var a=t._pt=new ki(t._pt,e,i,0,0,gn);return a.u=n,a.pr=-10,a.tween=r,t._props.push(i),1}}},fr=[1,0,0,1,0,0],pr={},gr=function(t,e){var i=t._gsap||new Ye(t);if("x"in i&&!e&&!i.uncache)return i;var n,r,a,s,o,l,c,d,h,u,f,p,g,m,_,v,y,k,x,w,S,T,E,C,M,P,A,$,D,I,L,O,R=t.style,F=i.scaleX<0,N="deg",B=getComputedStyle(t),z=rn(t,ar)||"0";return n=r=a=l=c=d=h=u=f=0,s=o=1,i.svg=!(!t.getCTM||!cn(t)),B.translate&&("none"===B.translate&&"none"===B.scale&&"none"===B.rotate||(R[rr]=("none"!==B.translate?"translate3d("+(B.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==B.rotate?"rotate("+B.rotate+") ":"")+("none"!==B.scale?"scale("+B.scale.split(" ").join(",")+") ":"")+("none"!==B[rr]?B[rr]:"")),R.scale=R.rotate=R.translate="none"),m=vn(t,i.svg),i.svg&&(C=i.uncache?(M=t.getBBox(),z=i.xOrigin-M.x+"px "+(i.yOrigin-M.y)+"px",""):!e&&t.getAttribute("data-svg-origin"),yn(t,C||z,!!C||i.originIsAbsolute,!1!==i.smooth,m)),p=i.xOrigin||0,g=i.yOrigin||0,m!==fr&&(k=m[0],x=m[1],w=m[2],S=m[3],n=T=m[4],r=E=m[5],6===m.length?(s=Math.sqrt(k*k+x*x),o=Math.sqrt(S*S+w*w),l=k||x?Qn(x,k)*Jn:0,(h=w||S?Qn(w,S)*Jn+l:0)&&(o*=Math.abs(Math.cos(h*Zn))),i.svg&&(n-=p-(p*k+g*w),r-=g-(p*x+g*S))):(O=m[6],I=m[7],A=m[8],$=m[9],D=m[10],L=m[11],n=m[12],r=m[13],a=m[14],c=(_=Qn(O,D))*Jn,_&&(C=T*(v=Math.cos(-_))+A*(y=Math.sin(-_)),M=E*v+$*y,P=O*v+D*y,A=T*-y+A*v,$=E*-y+$*v,D=O*-y+D*v,L=I*-y+L*v,T=C,E=M,O=P),d=(_=Qn(-w,D))*Jn,_&&(v=Math.cos(-_),L=S*(y=Math.sin(-_))+L*v,k=C=k*v-A*y,x=M=x*v-$*y,w=P=w*v-D*y),l=(_=Qn(x,k))*Jn,_&&(C=k*(v=Math.cos(_))+x*(y=Math.sin(_)),M=T*v+E*y,x=x*v-k*y,E=E*v-T*y,k=C,T=M),c&&359.9<Math.abs(c)+Math.abs(l)&&(c=l=0,d=180-d),s=b(Math.sqrt(k*k+x*x+w*w)),o=b(Math.sqrt(E*E+O*O)),_=Qn(T,E),h=2e-4<Math.abs(_)?_*Jn:0,f=L?1/(L<0?-L:L):0),i.svg&&(C=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!mn(rn(t,rr)),C&&t.setAttribute("transform",C))),90<Math.abs(h)&&Math.abs(h)<270&&(F?(s*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(o*=-1,h+=h<=0?180:-180)),e=e||i.uncache,i.x=n-((i.xPercent=n&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+"px",i.y=r-((i.yPercent=r&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+"px",i.z=a+"px",i.scaleX=b(s),i.scaleY=b(o),i.rotation=b(l)+N,i.rotationX=b(c)+N,i.rotationY=b(d)+N,i.skewX=h+N,i.skewY=u+N,i.transformPerspective=f+"px",(i.zOrigin=parseFloat(z.split(" ")[2])||!e&&i.zOrigin||0)&&(R[ar]=mr(z)),i.xOffset=i.yOffset=0,i.force3D=qt.force3D,i.renderTransform=i.svg?xr:$n?kr:_r,i.uncache=0,i},mr=function(t){return(t=t.split(" "))[0]+" "+t[1]},_r=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,kr(t,e)},vr="0deg",yr="0px",br=") ",kr=function(t,e){var i=e||this,n=i.xPercent,r=i.yPercent,a=i.x,s=i.y,o=i.z,l=i.rotation,c=i.rotationY,d=i.rotationX,h=i.skewX,u=i.skewY,f=i.scaleX,p=i.scaleY,g=i.transformPerspective,m=i.force3D,_=i.target,v=i.zOrigin,y="",b="auto"===m&&t&&1!==t||!0===m;if(v&&(d!==vr||c!==vr)){var k,x=parseFloat(c)*Zn,w=Math.sin(x),S=Math.cos(x);x=parseFloat(d)*Zn,a=bn(_,a,w*(k=Math.cos(x))*-v),s=bn(_,s,-Math.sin(x)*-v),o=bn(_,o,S*k*-v+v)}g!==yr&&(y+="perspective("+g+br),(n||r)&&(y+="translate("+n+"%, "+r+"%) "),!b&&a===yr&&s===yr&&o===yr||(y+=o!==yr||b?"translate3d("+a+", "+s+", "+o+") ":"translate("+a+", "+s+br),l!==vr&&(y+="rotate("+l+br),c!==vr&&(y+="rotateY("+c+br),d!==vr&&(y+="rotateX("+d+br),h===vr&&u===vr||(y+="skew("+h+", "+u+br),1===f&&1===p||(y+="scale("+f+", "+p+br),_.style[rr]=y||"translate(0, 0)"},xr=function(t,e){var i,n,r,a,s,o=e||this,l=o.xPercent,c=o.yPercent,d=o.x,h=o.y,u=o.rotation,f=o.skewX,p=o.skewY,g=o.scaleX,m=o.scaleY,_=o.target,v=o.xOrigin,y=o.yOrigin,k=o.xOffset,x=o.yOffset,w=o.forceCSS,S=parseFloat(d),T=parseFloat(h);u=parseFloat(u),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),u+=p),u||f?(u*=Zn,f*=Zn,i=Math.cos(u)*g,n=Math.sin(u)*g,r=Math.sin(u-f)*-m,a=Math.cos(u-f)*m,f&&(p*=Zn,s=Math.tan(f-p),r*=s=Math.sqrt(1+s*s),a*=s,p&&(s=Math.tan(p),i*=s=Math.sqrt(1+s*s),n*=s)),i=b(i),n=b(n),r=b(r),a=b(a)):(i=g,a=m,n=r=0),(S&&!~(d+"").indexOf("px")||T&&!~(h+"").indexOf("px"))&&(S=un(_,"x",d,"px"),T=un(_,"y",h,"px")),(v||y||k||x)&&(S=b(S+v-(v*i+y*r)+k),T=b(T+y-(v*n+y*a)+x)),(l||c)&&(S=b(S+l/100*(s=_.getBBox()).width),T=b(T+c/100*s.height)),s="matrix("+i+","+n+","+r+","+a+","+S+","+T+")",_.setAttribute("transform",s),w&&(_.style[rr]=s)};y("padding,margin,Width,Radius",(function(t,e){var i="Right",n="Bottom",r="Left",a=(e<3?["Top",i,n,r]:["Top"+r,"Top"+i,n+i,n+r]).map((function(i){return e<2?t+i:"border"+i+t}));ur[1<e?"border"+t:t]=function(t,e,i,n,r){var s,o;if(arguments.length<4)return s=a.map((function(e){return dr(t,e,i)})),5===(o=s.join(" ")).split(s[0]).length?s[0]:o;s=(n+"").split(" "),o={},a.forEach((function(t,e){return o[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,o,r)}}));var wr,Sr,Tr={name:"css",register:an,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,a){var s,o,l,c,d,h,f,p,g,m,_,v,y,b,k,w,S=this._props,T=t.style,E=i.vars.startAt;for(f in Cn||an(),this.styles=this.styles||en(t),w=this.styles.props,this.tween=i,e)if("autoRound"!==f&&(o=e[f],!ve[f]||!Ze(f,e,i,r,t,a)))if(d=typeof o,h=ur[f],"function"===d&&(d=typeof(o=o.call(i,r,t,a))),"string"===d&&~o.indexOf("random(")&&(o=rt(o)),h)h(this,t,f,o,i)&&(k=1);else if("--"===f.substr(0,2))s=(getComputedStyle(t).getPropertyValue(f)+"").trim(),o+="",Re.lastIndex=0,Re.test(s)||(p=X(s),g=X(o)),g?p!==g&&(s=un(t,f,s,g)+g):p&&(o+=p),this.add(T,"setProperty",s,o,r,a,0,0,f),S.push(f),w.push(f,0,T[f]);else if("undefined"!==d){if(E&&f in E?(n(s="function"==typeof E[f]?E[f].call(i,r,t,a):E[f])&&~s.indexOf("random(")&&(s=rt(s)),X(s+"")||"auto"===s||(s+=qt.units[f]||X(dr(t,f))||""),"="===(s+"").charAt(1)&&(s=dr(t,f))):s=dr(t,f),c=parseFloat(s),(m="string"===d&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),l=parseFloat(o),f in nr&&("autoAlpha"===f&&(1===c&&"hidden"===dr(t,"visibility")&&l&&(c=0),w.push("visibility",0,T.visibility),hn(this,T,"visibility",c?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==f&&"transform"!==f&&~(f=nr[f]).indexOf(",")&&(f=f.split(",")[0])),_=f in Kn)if(this.styles.save(f),v||((y=t._gsap).renderTransform&&!e.parseTransform||gr(t,e.parseTransform),b=!1!==e.smoothOrigin&&y.smooth,(v=this._pt=new ki(this._pt,T,rr,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===f)this._pt=new ki(this._pt,y,"scaleY",y.scaleY,(m?x(y.scaleY,m+l):l)-y.scaleY||0,zi),this._pt.u=0,S.push("scaleY",f),f+="X";else{if("transformOrigin"===f){w.push(ar,0,T[ar]),o=pn(o),y.svg?yn(t,o,0,b,0,this):((g=parseFloat(o.split(" ")[2])||0)!==y.zOrigin&&hn(this,y,"zOrigin",y.zOrigin,g),hn(this,T,f,mr(s),mr(o)));continue}if("svgOrigin"===f){yn(t,o,1,b,0,this);continue}if(f in pr){kn(this,y,f,c,m?x(c,m+o):o);continue}if("smoothOrigin"===f){hn(this,y,"smooth",y.smooth,o);continue}if("force3D"===f){y[f]=o;continue}if("transform"===f){wn(this,o,t);continue}}else f in T||(f=or(f)||f);if(_||(l||0===l)&&(c||0===c)&&!ir.test(o)&&f in T)l=l||0,(p=(s+"").substr((c+"").length))!==(g=X(o)||(f in qt.units?qt.units[f]:p))&&(c=un(t,f,s,g)),this._pt=new ki(this._pt,_?y:T,f,c,(m?x(c,m+l):l)-c,_||"px"!==g&&"zIndex"!==f||!1===e.autoRound?zi:ji),this._pt.u=g||0,p!==g&&"%"!==g&&(this._pt.b=s,this._pt.r=Hi);else if(f in T)fn.call(this,t,f,s,m?m+o:o);else if(f in t)this.add(t,f,s||t[f],m?m+o:o,r,a);else if("parseTransform"!==f){u(f,o);continue}_||(f in T?w.push(f,0,T[f]):w.push(f,1,s||t[f])),S.push(f)}k&&bi(this)},render:function(t,e){if(e.tween._time||!An())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:dr,aliases:nr,getSetter:function(t,e,i){var n=nr[e];return n&&n.indexOf(",")<0&&(e=n),e in Kn&&e!==ar&&(t._gsap.x||dr(t,"x"))?i&&Pn===i?"scale"===e?Xi:Yi:(Pn=i||{})&&("scale"===e?Ki:Ji):t.style&&!s(t.style[e])?qi:~e.indexOf("-")?Ui:fi(t,e)},core:{_removeProperty:dn,_getMatrix:vn}};Bi.utils.checkPrefix=or,Bi.core.getStyleSaver=en,Sr=y("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(wr="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Kn[t]=1})),y(wr,(function(t){qt.units[t]="deg",pr[t]=1})),nr[Sr[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+wr,y("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");nr[e[1]]=Sr[e[0]]})),y("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){qt.units[t]="px"})),Bi.registerPlugin(Tr);var Er=Bi.registerPlugin(Tr)||Bi,Cr=Er.core.Tween;t.Back=Gn,t.Bounce=qn,t.CSSPlugin=Tr,t.Circ=Xn,t.Cubic=Bn,t.Elastic=jn,t.Expo=Yn,t.Linear=Fn,t.Power0=Dn,t.Power1=In,t.Power2=Ln,t.Power3=On,t.Power4=Rn,t.Quad=Nn,t.Quart=zn,t.Quint=Vn,t.Sine=Un,t.SteppedEase=Wn,t.Strong=Hn,t.TimelineLite=Je,t.TimelineMax=Je,t.TweenLite=oi,t.TweenMax=Cr,t.default=Er,t.gsap=Er,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,(function(t){"use strict";function e(){return"undefined"!=typeof window}function i(){return d||e()&&(d=window.gsap)&&d.registerPlugin&&d}function n(t){return"string"==typeof t}function r(t){return"function"==typeof t}function a(t,e){var i="x"===e?"Width":"Height",n="scroll"+i,r="client"+i;return t===u||t===f||t===p?Math.max(f[n],p[n])-(u["inner"+i]||f[r]||p[r]):t[n]-t["offset"+i]}function s(t,e){var i="scroll"+("x"===e?"Left":"Top");return t===u&&(null!=t.pageXOffset?i="page"+e.toUpperCase()+"Offset":t=null!=f[i]?f:p),function(){return t[i]}}function o(t,e){if(!(t=g(t)[0])||!t.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var i=t.getBoundingClientRect(),n=!e||e===u||e===p,r=n?{top:f.clientTop-(u.pageYOffset||f.scrollTop||p.scrollTop||0),left:f.clientLeft-(u.pageXOffset||f.scrollLeft||p.scrollLeft||0)}:e.getBoundingClientRect(),a={x:i.left-r.left,y:i.top-r.top};return!n&&e&&(a.x+=s(e,"x")(),a.y+=s(e,"y")()),a}function l(t,e,i,r,s){return isNaN(t)||"object"==typeof t?n(t)&&"="===t.charAt(1)?parseFloat(t.substr(2))*("-"===t.charAt(0)?-1:1)+r-s:"max"===t?a(e,i)-s:Math.min(a(e,i),o(t,e)[i]-s):parseFloat(t)-s}function c(){d=i(),e()&&d&&"undefined"!=typeof document&&document.body&&(u=window,p=document.body,f=document.documentElement,g=d.utils.toArray,d.config({autoKillThreshold:7}),m=d.config(),h=1)}var d,h,u,f,p,g,m,_,v={version:"3.12.5",name:"scrollTo",rawVars:1,register:function(t){d=t,c()},init:function(t,e,i,a,o){h||c();var f=this,p=d.getProperty(t,"scrollSnapType");f.isWin=t===u,f.target=t,f.tween=i,e=function(t,e,i,a){if(r(t)&&(t=t(e,i,a)),"object"!=typeof t)return n(t)&&"max"!==t&&"="!==t.charAt(1)?{x:t,y:t}:{y:t};if(t.nodeType)return{y:t,x:t};var s,o={};for(s in t)o[s]="onAutoKill"!==s&&r(t[s])?t[s](e,i,a):t[s];return o}(e,a,t,o),f.vars=e,f.autoKill=!!e.autoKill,f.getX=s(t,"x"),f.getY=s(t,"y"),f.x=f.xPrev=f.getX(),f.y=f.yPrev=f.getY(),_=_||d.core.globals().ScrollTrigger,"smooth"===d.getProperty(t,"scrollBehavior")&&d.set(t,{scrollBehavior:"auto"}),p&&"none"!==p&&(f.snap=1,f.snapInline=t.style.scrollSnapType,t.style.scrollSnapType="none"),null!=e.x?(f.add(f,"x",f.x,l(e.x,t,"x",f.x,e.offsetX||0),a,o),f._props.push("scrollTo_x")):f.skipX=1,null!=e.y?(f.add(f,"y",f.y,l(e.y,t,"y",f.y,e.offsetY||0),a,o),f._props.push("scrollTo_y")):f.skipY=1},render:function(t,e){for(var i,n,r,s,o,l=e._pt,c=e.target,d=e.tween,h=e.autoKill,f=e.xPrev,p=e.yPrev,g=e.isWin,v=e.snap,y=e.snapInline;l;)l.r(t,l.d),l=l._next;i=g||!e.skipX?e.getX():f,r=(n=g||!e.skipY?e.getY():p)-p,s=i-f,o=m.autoKillThreshold,e.x<0&&(e.x=0),e.y<0&&(e.y=0),h&&(!e.skipX&&(o<s||s<-o)&&i<a(c,"x")&&(e.skipX=1),!e.skipY&&(o<r||r<-o)&&n<a(c,"y")&&(e.skipY=1),e.skipX&&e.skipY&&(d.kill(),e.vars.onAutoKill&&e.vars.onAutoKill.apply(d,e.vars.onAutoKillParams||[]))),g?u.scrollTo(e.skipX?i:e.x,e.skipY?n:e.y):(e.skipY||(c.scrollTop=e.y),e.skipX||(c.scrollLeft=e.x)),!v||1!==t&&0!==t||(n=c.scrollTop,i=c.scrollLeft,y?c.style.scrollSnapType=y:c.style.removeProperty("scroll-snap-type"),c.scrollTop=n+1,c.scrollLeft=i+1,c.scrollTop=n,c.scrollLeft=i),e.xPrev=e.x,e.yPrev=e.y,_&&_.update()},kill:function(t){var e="scrollTo"===t,i=this._props.indexOf(t);return!e&&"scrollTo_x"!==t||(this.skipX=1),!e&&"scrollTo_y"!==t||(this.skipY=1),-1<i&&this._props.splice(i,1),!this._props.length}};v.max=a,v.getOffset=o,v.buildGetter=s,i()&&d.registerPlugin(v),t.ScrollToPlugin=v,t.default=v,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,(function(t){"use strict";function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(){return m||"undefined"!=typeof window&&(m=window.gsap)&&m.registerPlugin&&m}function n(t,e){return~D.indexOf(t)&&D[D.indexOf(t)+1][e]}function r(t){return!!~T.indexOf(t)}function a(t,e,i,n,r){return t.addEventListener(e,i,{passive:!1!==n,capture:!!r})}function s(t,e,i,n){return t.removeEventListener(e,i,!!n)}function o(){return E&&E.isPressed||$.cache++}function l(t,e){function i(n){if(n||0===n){P&&(v.history.scrollRestoration="manual");var r=E&&E.isPressed;n=i.v=Math.round(n)||(E&&E.iOS?1:0),t(n),i.cacheID=$.cache,r&&L("ss",n)}else(e||$.cache!==i.cacheID||L("ref"))&&(i.cacheID=$.cache,i.v=t());return i.v+i.offset}return i.offset=0,t&&i}function c(t,e){return(e&&e._ctx&&e._ctx.selector||m.utils.toArray)(t)[0]||("string"==typeof t&&!1!==m.config().nullTargetWarn?console.warn("Element not found:",t):null)}function d(t,e){var i=e.s,s=e.sc;r(t)&&(t=y.scrollingElement||b);var c=$.indexOf(t),d=s===N.sc?1:2;~c||(c=$.push(t)-1),$[c+d]||a(t,"scroll",o);var h=$[c+d],u=h||($[c+d]=l(n(t,i),!0)||(r(t)?s:l((function(e){return arguments.length?t[i]=e:t[i]}))));return u.target=t,h||(u.smooth="smooth"===m.getProperty(t,"scrollBehavior")),u}function h(t,e,i){function n(t,e){var n=I();e||l<n-s?(a=r,r=t,o=s,s=n):i?r+=t:r=a+(t-a)/(n-o)*(s-o)}var r=t,a=t,s=I(),o=s,l=e||50,c=Math.max(500,3*l);return{update:n,reset:function(){a=r=i?0:r,o=s=0},getVelocity:function(t){var e=o,l=a,d=I();return!t&&0!==t||t===r||n(t),s===o||c<d-o?0:(r+(i?l:-l))/((i?d:s)-e)*1e3}}}function u(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t}function f(t){var e=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(i)?e:i}function p(){(S=m.core.globals().ScrollTrigger)&&S.core&&function(){var t=S.core,e=t.bridge||{},i=t._scrollers,n=t._proxies;i.push.apply(i,$),n.push.apply(n,D),$=i,D=n,L=function(t,i){return e[t](i)}}()}function g(t){return m=t||i(),!_&&m&&"undefined"!=typeof document&&document.body&&(v=window,b=(y=document).documentElement,k=y.body,T=[v,y,b,k],m.utils.clamp,M=m.core.context||function(){},w="onpointerenter"in k?"pointer":"mouse",x=B.isTouch=v.matchMedia&&v.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in v||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?2:0,C=B.eventTypes=("ontouchstart"in b?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in b?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return P=0}),500),p(),_=1),_}var m,_,v,y,b,k,x,w,S,T,E,C,M,P=1,A=[],$=[],D=[],I=Date.now,L=function(t,e){return e},O="scrollLeft",R="scrollTop",F={s:O,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:l((function(t){return arguments.length?v.scrollTo(t,N.sc()):v.pageXOffset||y[O]||b[O]||k[O]||0}))},N={s:R,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:F,sc:l((function(t){return arguments.length?v.scrollTo(F.sc(),t):v.pageYOffset||y[R]||b[R]||k[R]||0}))};F.op=N,$.cache=0;var B=(z.prototype.init=function(t){_||g(m)||console.warn("Please gsap.registerPlugin(Observer)"),S||p();var e=t.tolerance,i=t.dragMinimum,n=t.type,l=t.target,T=t.lineHeight,P=t.debounce,$=t.preventDefault,D=t.onStop,L=t.onStopDelay,O=t.ignore,R=t.wheelSpeed,B=t.event,z=t.onDragStart,V=t.onDragEnd,H=t.onDrag,j=t.onPress,G=t.onRelease,W=t.onRight,q=t.onLeft,U=t.onUp,Y=t.onDown,X=t.onChangeX,K=t.onChangeY,J=t.onChange,Z=t.onToggleX,Q=t.onToggleY,tt=t.onHover,et=t.onHoverEnd,it=t.onMove,nt=t.ignoreCheck,rt=t.isNormalizer,at=t.onGestureStart,st=t.onGestureEnd,ot=t.onWheel,lt=t.onEnable,ct=t.onDisable,dt=t.onClick,ht=t.scrollSpeed,ut=t.capture,ft=t.allowClicks,pt=t.lockAxis,gt=t.onLockAxis;function mt(){return Kt=I()}function _t(t,e){return(Ft.event=t)&&O&&~O.indexOf(t.target)||e&&Wt&&"touch"!==t.pointerType||nt&&nt(t,e)}function vt(){var t=Ft.deltaX=f(Yt),i=Ft.deltaY=f(Xt),n=Math.abs(t)>=e,r=Math.abs(i)>=e;J&&(n||r)&&J(Ft,t,i,Yt,Xt),n&&(W&&0<Ft.deltaX&&W(Ft),q&&Ft.deltaX<0&&q(Ft),X&&X(Ft),Z&&Ft.deltaX<0!=Nt<0&&Z(Ft),Nt=Ft.deltaX,Yt[0]=Yt[1]=Yt[2]=0),r&&(Y&&0<Ft.deltaY&&Y(Ft),U&&Ft.deltaY<0&&U(Ft),K&&K(Ft),Q&&Ft.deltaY<0!=Bt<0&&Q(Ft),Bt=Ft.deltaY,Xt[0]=Xt[1]=Xt[2]=0),(It||Dt)&&(it&&it(Ft),Dt&&(H(Ft),Dt=!1),It=!1),Ot&&!(Ot=!1)&&gt&&gt(Ft),Lt&&(ot(Ft),Lt=!1),At=0}function yt(t,e,i){Yt[i]+=t,Xt[i]+=e,Ft._vx.update(t),Ft._vy.update(e),P?At=At||requestAnimationFrame(vt):vt()}function bt(t,e){pt&&!Rt&&(Ft.axis=Rt=Math.abs(t)>Math.abs(e)?"x":"y",Ot=!0),"y"!==Rt&&(Yt[2]+=t,Ft._vx.update(t,!0)),"x"!==Rt&&(Xt[2]+=e,Ft._vy.update(e,!0)),P?At=At||requestAnimationFrame(vt):vt()}function kt(t){if(!_t(t,1)){var e=(t=u(t,$)).clientX,n=t.clientY,r=e-Ft.x,a=n-Ft.y,s=Ft.isDragging;Ft.x=e,Ft.y=n,(s||Math.abs(Ft.startX-e)>=i||Math.abs(Ft.startY-n)>=i)&&(H&&(Dt=!0),s||(Ft.isDragging=!0),bt(r,a),s||z&&z(Ft))}}function xt(t){return t.touches&&1<t.touches.length&&(Ft.isGesturing=!0)&&at(t,Ft.isDragging)}function wt(){return(Ft.isGesturing=!1)||st(Ft)}function St(t){if(!_t(t)){var e=Vt(),i=Ht();yt((e-jt)*ht,(i-Gt)*ht,1),jt=e,Gt=i,D&&$t.restart(!0)}}function Tt(t){if(!_t(t)){t=u(t,$),ot&&(Lt=!0);var e=(1===t.deltaMode?T:2===t.deltaMode?v.innerHeight:1)*R;yt(t.deltaX*e,t.deltaY*e,0),D&&!rt&&$t.restart(!0)}}function Et(t){if(!_t(t)){var e=t.clientX,i=t.clientY,n=e-Ft.x,r=i-Ft.y;Ft.x=e,Ft.y=i,It=!0,D&&$t.restart(!0),(n||r)&&bt(n,r)}}function Ct(t){Ft.event=t,tt(Ft)}function Mt(t){Ft.event=t,et(Ft)}function Pt(t){return _t(t)||u(t,$)&&dt(Ft)}this.target=l=c(l)||b,this.vars=t,O=O&&m.utils.toArray(O),e=e||1e-9,i=i||0,R=R||1,ht=ht||1,n=n||"wheel,touch,pointer",P=!1!==P,T=T||parseFloat(v.getComputedStyle(k).lineHeight)||22;var At,$t,Dt,It,Lt,Ot,Rt,Ft=this,Nt=0,Bt=0,zt=t.passive||!$,Vt=d(l,F),Ht=d(l,N),jt=Vt(),Gt=Ht(),Wt=~n.indexOf("touch")&&!~n.indexOf("pointer")&&"pointerdown"===C[0],qt=r(l),Ut=l.ownerDocument||y,Yt=[0,0,0],Xt=[0,0,0],Kt=0,Jt=Ft.onPress=function(t){_t(t,1)||t&&t.button||(Ft.axis=Rt=null,$t.pause(),Ft.isPressed=!0,t=u(t),Nt=Bt=0,Ft.startX=Ft.x=t.clientX,Ft.startY=Ft.y=t.clientY,Ft._vx.reset(),Ft._vy.reset(),a(rt?l:Ut,C[1],kt,zt,!0),Ft.deltaX=Ft.deltaY=0,j&&j(Ft))},Zt=Ft.onRelease=function(t){if(!_t(t,1)){s(rt?l:Ut,C[1],kt,!0);var e=!isNaN(Ft.y-Ft.startY),i=Ft.isDragging,n=i&&(3<Math.abs(Ft.x-Ft.startX)||3<Math.abs(Ft.y-Ft.startY)),r=u(t);!n&&e&&(Ft._vx.reset(),Ft._vy.reset(),$&&ft&&m.delayedCall(.08,(function(){if(300<I()-Kt&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(Ut.createEvent){var e=Ut.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,v,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}}))),Ft.isDragging=Ft.isGesturing=Ft.isPressed=!1,D&&i&&!rt&&$t.restart(!0),V&&i&&V(Ft),G&&G(Ft,n)}};$t=Ft._dc=m.delayedCall(L||.25,(function(){Ft._vx.reset(),Ft._vy.reset(),$t.pause(),D&&D(Ft)})).pause(),Ft.deltaX=Ft.deltaY=0,Ft._vx=h(0,50,!0),Ft._vy=h(0,50,!0),Ft.scrollX=Vt,Ft.scrollY=Ht,Ft.isDragging=Ft.isGesturing=Ft.isPressed=!1,M(this),Ft.enable=function(t){return Ft.isEnabled||(a(qt?Ut:l,"scroll",o),0<=n.indexOf("scroll")&&a(qt?Ut:l,"scroll",St,zt,ut),0<=n.indexOf("wheel")&&a(l,"wheel",Tt,zt,ut),(0<=n.indexOf("touch")&&x||0<=n.indexOf("pointer"))&&(a(l,C[0],Jt,zt,ut),a(Ut,C[2],Zt),a(Ut,C[3],Zt),ft&&a(l,"click",mt,!0,!0),dt&&a(l,"click",Pt),at&&a(Ut,"gesturestart",xt),st&&a(Ut,"gestureend",wt),tt&&a(l,w+"enter",Ct),et&&a(l,w+"leave",Mt),it&&a(l,w+"move",Et)),Ft.isEnabled=!0,t&&t.type&&Jt(t),lt&&lt(Ft)),Ft},Ft.disable=function(){Ft.isEnabled&&(A.filter((function(t){return t!==Ft&&r(t.target)})).length||s(qt?Ut:l,"scroll",o),Ft.isPressed&&(Ft._vx.reset(),Ft._vy.reset(),s(rt?l:Ut,C[1],kt,!0)),s(qt?Ut:l,"scroll",St,ut),s(l,"wheel",Tt,ut),s(l,C[0],Jt,ut),s(Ut,C[2],Zt),s(Ut,C[3],Zt),s(l,"click",mt,!0),s(l,"click",Pt),s(Ut,"gesturestart",xt),s(Ut,"gestureend",wt),s(l,w+"enter",Ct),s(l,w+"leave",Mt),s(l,w+"move",Et),Ft.isEnabled=Ft.isPressed=Ft.isDragging=!1,ct&&ct(Ft))},Ft.kill=Ft.revert=function(){Ft.disable();var t=A.indexOf(Ft);0<=t&&A.splice(t,1),E===Ft&&(E=0)},A.push(Ft),rt&&r(l)&&(E=Ft),Ft.enable(B)},function(t,i,n){i&&e(t.prototype,i),n&&e(t,n)}(z,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),z);function z(t){this.init(t)}function V(t,e,i){var n=xe(t)&&("clamp("===t.substr(0,6)||-1<t.indexOf("max"));return(i["_"+e+"Clamp"]=n)?t.substr(6,t.length-7):t}function H(t,e){return!e||xe(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"}function j(){return qt=1}function G(){return qt=0}function W(t){return t}function q(t){return Math.round(1e5*t)/1e5||0}function U(){return"undefined"!=typeof window}function Y(){return It||U()&&(It=window.gsap)&&It.registerPlugin&&It}function X(t){return!!~Bt.indexOf(t)}function K(t){return("Height"===t?ce:Ot["inner"+t])||Ft["client"+t]||Nt["client"+t]}function J(t){return n(t,"getBoundingClientRect")||(X(t)?function(){return ii.width=Ot.innerWidth,ii.height=ce,ii}:function(){return Re(t)})}function Z(t,e){var i=e.s,r=e.d2,a=e.d,s=e.a;return Math.max(0,(i="scroll"+r)&&(s=n(t,i))?s()-J(t)()[a]:X(t)?(Ft[i]||Nt[i])-K(r):t[i]-t["offset"+r])}function Q(t,e){for(var i=0;i<Jt.length;i+=3)e&&!~e.indexOf(Jt[i+1])||t(Jt[i],Jt[i+1],Jt[i+2])}function tt(t){return"function"==typeof t}function et(t){return"number"==typeof t}function it(t){return"object"==typeof t}function nt(t,e,i){return t&&t.progress(e?0:1)&&i&&t.pause()}function rt(t,e){if(t.enabled){var i=t._ctx?t._ctx.add((function(){return e(t)})):e(t);i&&i.totalTime&&(t.callbackAnimation=i)}}function at(t){return Ot.getComputedStyle(t)}function st(t,e){for(var i in e)i in t||(t[i]=e[i]);return t}function ot(t,e){var i=e.d2;return t["offset"+i]||t["client"+i]||0}function lt(t){var e,i=[],n=t.labels,r=t.duration();for(e in n)i.push(n[e]/r);return i}function ct(t){var e=It.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort((function(t,e){return t-e}));return i?function(t,n,r){var a;if(void 0===r&&(r=.001),!n)return e(t);if(0<n){for(t-=r,a=0;a<i.length;a++)if(i[a]>=t)return i[a];return i[a-1]}for(a=i.length,t+=r;a--;)if(i[a]<=t)return i[a];return i[0]}:function(i,n,r){void 0===r&&(r=.001);var a=e(i);return!n||Math.abs(a-i)<r||a-i<0==n<0?a:e(n<0?i-t:i+t)}}function dt(t,e,i,n){return i.split(",").forEach((function(i){return t(e,i,n)}))}function ht(t,e,i,n,r){return t.addEventListener(e,i,{passive:!n,capture:!!r})}function ut(t,e,i,n){return t.removeEventListener(e,i,!!n)}function ft(t,e,i){(i=i&&i.wheelHandler)&&(t(e,"wheel",i),t(e,"touchmove",i))}function pt(t,e){if(xe(t)){var i=t.indexOf("="),n=~i?(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(n*=e/100),t=t.substr(0,i-1)),t=n+(t in Be?Be[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t}function gt(t,e,i,r,a,s,o,l){var c=a.startColor,d=a.endColor,h=a.fontSize,u=a.indent,f=a.fontWeight,p=Rt.createElement("div"),g=X(i)||"fixed"===n(i,"pinType"),m=-1!==t.indexOf("scroller"),_=g?Nt:i,v=-1!==t.indexOf("start"),y=v?c:d,b="border-color:"+y+";font-size:"+h+";color:"+y+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((m||l)&&g?"fixed;":"absolute;"),!m&&!l&&g||(b+=(r===N?Se:Te)+":"+(s+parseFloat(u))+"px;"),o&&(b+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),p._isStart=v,p.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),p.style.cssText=b,p.innerText=e||0===e?t+"-"+e:t,_.children[0]?_.insertBefore(p,_.children[0]):_.appendChild(p),p._offset=p["offset"+r.op.d2],ze(p,0,r,v),p}function mt(){return 34<ve()-be&&(fe=fe||requestAnimationFrame(Je))}function _t(){ee&&ee.isPressed&&!(ee.startX>Nt.clientWidth)||($.cache++,ee?fe=fe||requestAnimationFrame(Je):Je(),be||We("scrollStart"),be=ve())}function vt(){re=Ot.innerWidth,ne=Ot.innerHeight}function yt(){$.cache++,Wt||te||Rt.fullscreenElement||Rt.webkitFullscreenElement||ie&&re===Ot.innerWidth&&!(Math.abs(Ot.innerHeight-ne)>.25*Ot.innerHeight)||zt.restart(!0)}function bt(){return ut(ri,"scrollEnd",bt)||Ye(!0)}function kt(t){for(var e=0;e<qe.length;e+=5)(!t||qe[e+4]&&qe[e+4].query===t)&&(qe[e].style.cssText=qe[e+1],qe[e].getBBox&&qe[e].setAttribute("transform",qe[e+2]||""),qe[e+3].uncache=1)}function xt(t,e){var i;for(Yt=0;Yt<Ve.length;Yt++)!(i=Ve[Yt])||e&&i._ctx!==e||(t?i.kill(1):i.revert(!0,!0));de=!0,e&&kt(e),e||We("revert")}function wt(t,e){$.cache++,!e&&pe||$.forEach((function(t){return tt(t)&&t.cacheID++&&(t.rec=0)})),xe(t)&&(Ot.history.scrollRestoration=oe=t)}function St(){Nt.appendChild(le),ce=!ee&&le.offsetHeight||Ot.innerHeight,Nt.removeChild(le)}function Tt(t){return Vt(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(e){return e.style.display=t?"none":"block"}))}function Et(t,e,i,n){if(!t._gsap.swappedIn){for(var r,a=Ze.length,s=e.style,o=t.style;a--;)s[r=Ze[a]]=i[r];s.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(s.display="inline-block"),o[Te]=o[Se]="auto",s.flexBasis=i.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[Ee]=ot(t,F)+Oe,s[Ce]=ot(t,N)+Oe,s[De]=o[Ie]=o.top=o.left="0",ei(n),o[Ee]=o.maxWidth=i[Ee],o[Ce]=o.maxHeight=i[Ce],o[De]=i[De],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}}function Ct(t){for(var e=Qe.length,i=t.style,n=[],r=0;r<e;r++)n.push(Qe[r],i[Qe[r]]);return n.t=t,n}function Mt(t,e,i,n,r,a,s,o,l,d,h,u,f,p){tt(t)&&(t=t(o)),xe(t)&&"max"===t.substr(0,3)&&(t=u+("="===t.charAt(4)?pt("0"+t.substr(3),i):0));var g,m,_,v=f?f.time():0;if(f&&f.seek(0),isNaN(t)||(t=+t),et(t))f&&(t=It.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,u,t)),s&&ze(s,i,n,!0);else{tt(e)&&(e=e(o));var y,b,k,x,w=(t||"0").split(" ");_=c(e,o)||Nt,(y=Re(_)||{})&&(y.left||y.top)||"none"!==at(_).display||(x=_.style.display,_.style.display="block",y=Re(_),x?_.style.display=x:_.style.removeProperty("display")),b=pt(w[0],y[n.d]),k=pt(w[1]||"0",i),t=y[n.p]-l[n.p]-d+b+r-k,s&&ze(s,k,n,i-k<20||s._isStart&&20<k),i-=i-k}if(p&&(o[p]=t||-.001,t<0&&(t=0)),a){var S=t+i,T=a._isStart;g="scroll"+n.d2,ze(a,S,n,T&&20<S||!T&&(h?Math.max(Nt[g],Ft[g]):a.parentNode[g])<=S+1),h&&(l=Re(s),h&&(a.style[n.op.p]=l[n.op.p]-n.op.m-a._offset+Oe))}return f&&_&&(g=Re(_),f.seek(u),m=Re(_),f._caScrollDist=g[n.p]-m[n.p],t=t/f._caScrollDist*u),f&&f.seek(v),f?t:Math.round(t)}function Pt(t,e,i,n){if(t.parentNode!==e){var r,a,s=t.style;if(e===Nt){for(r in t._stOrig=s.cssText,a=at(t))+r||ni.test(r)||!a[r]||"string"!=typeof s[r]||"0"===r||(s[r]=a[r]);s.top=i,s.left=n}else s.cssText=t._stOrig;It.core.getCache(t).uncache=1,e.appendChild(t)}}function At(t,e,i){var n=e,r=n;return function(e){var a=Math.round(t());return a!==n&&a!==r&&3<Math.abs(a-n)&&3<Math.abs(a-r)&&(e=a,i&&i()),r=n,n=e}}function $t(t,e,i){var n={};n[e.p]="+="+i,It.set(t,n)}function Dt(t,e){function i(e,a,s,o,l){var c=i.tween,d=a.onComplete;s=s||n();var h=At(n,s,(function(){c.kill(),i.tween=0}));return l=o&&l||0,o=o||e-s,c&&c.kill(),a[r]=e,a.inherit=!1,(a.modifiers={})[r]=function(){return h(s+o*c.ratio+l*c.ratio*c.ratio)},a.onUpdate=function(){$.cache++,i.tween&&Je()},a.onComplete=function(){i.tween=0,d&&d.call(c)},c=i.tween=It.to(t,a)}var n=d(t,e),r="_scroll"+e.p2;return(t[r]=n).wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},ht(t,"wheel",n.wheelHandler),ri.isTouch&&ht(t,"touchmove",n.wheelHandler),i}B.version="3.12.5",B.create=function(t){return new B(t)},B.register=g,B.getAll=function(){return A.slice()},B.getById=function(t){return A.filter((function(e){return e.vars.id===t}))[0]},i()&&m.registerPlugin(B);var It,Lt,Ot,Rt,Ft,Nt,Bt,zt,Vt,Ht,jt,Gt,Wt,qt,Ut,Yt,Xt,Kt,Jt,Zt,Qt,te,ee,ie,ne,re,ae,se,oe,le,ce,de,he,ue,fe,pe,ge,me,_e=1,ve=Date.now,ye=ve(),be=0,ke=0,xe=function(t){return"string"==typeof t},we=Math.abs,Se="right",Te="bottom",Ee="width",Ce="height",Me="Right",Pe="Left",Ae="Top",$e="Bottom",De="padding",Ie="margin",Le="Width",Oe="px",Re=function(t,e){var i=e&&"matrix(1, 0, 0, 1, 0, 0)"!==at(t)[Ut]&&It.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=t.getBoundingClientRect();return i&&i.progress(0).kill(),n},Fe={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ne={toggleActions:"play",anticipatePin:0},Be={top:0,left:0,center:.5,bottom:1,right:1},ze=function(t,e,i,n){var r={display:"block"},a=i[n?"os2":"p2"],s=i[n?"p2":"os2"];t._isFlipped=n,r[i.a+"Percent"]=n?-100:0,r[i.a]=n?"1px":0,r["border"+a+Le]=1,r["border"+s+Le]=0,r[i.p]=e+"px",It.set(t,r)},Ve=[],He={},je={},Ge=[],We=function(t){return je[t]&&je[t].map((function(t){return t()}))||Ge},qe=[],Ue=0,Ye=function(t,e){if(!be||t||de){St(),pe=ri.isRefreshing=!0,$.forEach((function(t){return tt(t)&&++t.cacheID&&(t.rec=t())}));var i=We("refreshInit");Zt&&ri.sort(),e||xt(),$.forEach((function(t){tt(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))})),Ve.slice(0).forEach((function(t){return t.refresh()})),de=!1,Ve.forEach((function(t){if(t._subPinOffset&&t.pin){var e=t.vars.horizontal?"offsetWidth":"offsetHeight",i=t.pin[e];t.revert(!0,1),t.adjustPinSpacing(t.pin[e]-i),t.refresh()}})),he=1,Tt(!0),Ve.forEach((function(t){var e=Z(t.scroller,t._dir),i="max"===t.vars.end||t._endClamp&&t.end>e,n=t._startClamp&&t.start>=e;(i||n)&&t.setPositions(n?e-1:t.start,i?Math.max(n?e:t.start+1,e):t.end,!0)})),Tt(!1),he=0,i.forEach((function(t){return t&&t.render&&t.render(-1)})),$.forEach((function(t){tt(t)&&(t.smooth&&requestAnimationFrame((function(){return t.target.style.scrollBehavior="smooth"})),t.rec&&t(t.rec))})),wt(oe,1),zt.pause(),Ue++,Je(pe=2),Ve.forEach((function(t){return tt(t.vars.onRefresh)&&t.vars.onRefresh(t)})),pe=ri.isRefreshing=!1,We("refresh")}else ht(ri,"scrollEnd",bt)},Xe=0,Ke=1,Je=function(t){if(2===t||!pe&&!de){ri.isUpdating=!0,me&&me.update(0);var e=Ve.length,i=ve(),n=50<=i-ye,r=e&&Ve[0].scroll();if(Ke=r<Xe?-1:1,pe||(Xe=r),n&&(be&&!qt&&200<i-be&&(be=0,We("scrollEnd")),jt=ye,ye=i),Ke<0){for(Yt=e;0<Yt--;)Ve[Yt]&&Ve[Yt].update(0,n);Ke=1}else for(Yt=0;Yt<e;Yt++)Ve[Yt]&&Ve[Yt].update(0,n);ri.isUpdating=!1}fe=0},Ze=["left","top",Te,Se,Ie+$e,Ie+Me,Ie+Ae,Ie+Pe,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Qe=Ze.concat([Ee,Ce,"boxSizing","max"+Le,"maxHeight","position",Ie,De,De+Ae,De+Me,De+$e,De+Pe]),ti=/([A-Z])/g,ei=function(t){if(t){var e,i,n=t.t.style,r=t.length,a=0;for((t.t._gsap||It.core.getCache(t.t)).uncache=1;a<r;a+=2)i=t[a+1],e=t[a],i?n[e]=i:n[e]&&n.removeProperty(e.replace(ti,"-$1").toLowerCase())}},ii={left:0,top:0},ni=/(webkit|moz|length|cssText|inset)/i,ri=(ai.prototype.init=function(t,e){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),ke){var i,r,a,s,o,l,h,u,f,p,g,m,_,v,y,b,k,x,w,S,T,E,C,M,P,A,I,L,O,R,B,z,j,G,U,Y,Q,dt,ft,mt=(t=st(xe(t)||et(t)||t.nodeType?{trigger:t}:t,Ne)).onUpdate,vt=t.toggleClass,kt=t.id,xt=t.onToggle,wt=t.onRefresh,St=t.scrub,Tt=t.trigger,At=t.pin,Lt=t.pinSpacing,Bt=t.invalidateOnRefresh,zt=t.anticipatePin,Gt=t.onScrubComplete,Ut=t.onSnapComplete,Xt=t.once,Kt=t.snap,Jt=t.pinReparent,te=t.pinSpacer,ee=t.containerAnimation,ie=t.fastScrollEnd,ne=t.preventOverlaps,re=t.horizontal||t.containerAnimation&&!1!==t.horizontal?F:N,ae=!St&&0!==St,se=c(t.scroller||Ot),oe=It.core.getCache(se),le=X(se),ce="fixed"===("pinType"in t?t.pinType:n(se,"pinType")||le&&"fixed"),de=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],fe=ae&&t.toggleActions.split(" "),ye="markers"in t?t.markers:Ne.markers,Se=le?0:parseFloat(at(se)["border"+re.p2+Le])||0,Te=this,Be=t.onRefreshInit&&function(){return t.onRefreshInit(Te)},ze=function(t,e,i){var r=i.d,a=i.d2,s=i.a;return(s=n(t,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(e?K(a):t["client"+a])||0}}(se,le,re),je=function(t,e){return!e||~D.indexOf(t)?J(t):function(){return ii}}(se,le),Ge=0,We=0,qe=0,Xe=d(se,re);if(Te._startClamp=Te._endClamp=!1,Te._dir=re,zt*=45,Te.scroller=se,Te.scroll=ee?ee.time.bind(ee):Xe,s=Xe(),Te.vars=t,e=e||t.animation,"refreshPriority"in t&&(Zt=1,-9999===t.refreshPriority&&(me=Te)),oe.tweenScroll=oe.tweenScroll||{top:Dt(se,N),left:Dt(se,F)},Te.tweenTo=i=oe.tweenScroll[re.p],Te.scrubDuration=function(t){(j=et(t)&&t)?z?z.duration(t):z=It.to(e,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:j,paused:!0,onComplete:function(){return Gt&&Gt(Te)}}):(z&&z.progress(1).kill(),z=0)},e&&(e.vars.lazy=!1,e._initted&&!Te.isReverted||!1!==e.vars.immediateRender&&!1!==t.immediateRender&&e.duration()&&e.render(0,!0,!0),Te.animation=e.pause(),(e.scrollTrigger=Te).scrubDuration(St),R=0,kt=kt||e.vars.id),Kt&&(it(Kt)&&!Kt.push||(Kt={snapTo:Kt}),"scrollBehavior"in Nt.style&&It.set(le?[Nt,Ft]:se,{scrollBehavior:"auto"}),$.forEach((function(t){return tt(t)&&t.target===(le?Rt.scrollingElement||Ft:se)&&(t.smooth=!1)})),a=tt(Kt.snapTo)?Kt.snapTo:"labels"===Kt.snapTo?function(t){return function(e){return It.utils.snap(lt(t),e)}}(e):"labelsDirectional"===Kt.snapTo?function(t){return function(e,i){return ct(lt(t))(e,i.direction)}}(e):!1!==Kt.directional?function(t,e){return ct(Kt.snapTo)(t,ve()-We<500?0:e.direction)}:It.utils.snap(Kt.snapTo),G=it(G=Kt.duration||{min:.1,max:2})?Ht(G.min,G.max):Ht(G,G),U=It.delayedCall(Kt.delay||j/2||.1,(function(){var t=Xe(),n=ve()-We<500,r=i.tween;if(!(n||Math.abs(Te.getVelocity())<10)||r||qt||Ge===t)Te.isActive&&Ge!==t&&U.restart(!0);else{var s,o,c=(t-l)/v,d=e&&!ae?e.totalProgress():c,u=n?0:(d-B)/(ve()-jt)*1e3||0,f=It.utils.clamp(-c,1-c,we(u/2)*u/.185),p=c+(!1===Kt.inertia?0:f),g=Kt.onStart,m=Kt.onInterrupt,_=Kt.onComplete;if(et(s=a(p,Te))||(s=p),o=Math.round(l+s*v),t<=h&&l<=t&&o!==t){if(r&&!r._initted&&r.data<=we(o-t))return;!1===Kt.inertia&&(f=s-c),i(o,{duration:G(we(.185*Math.max(we(p-d),we(s-d))/u/.05||0)),ease:Kt.ease||"power3",data:we(o-t),onInterrupt:function(){return U.restart(!0)&&m&&m(Te)},onComplete:function(){Te.update(),Ge=Xe(),e&&(z?z.resetTo("totalProgress",s,e._tTime/e._tDur):e.progress(s)),R=B=e&&!ae?e.totalProgress():Te.progress,Ut&&Ut(Te),_&&_(Te)}},t,f*v,o-t-f*v),g&&g(Te,i.tween)}}})).pause()),kt&&(He[kt]=Te),ft=(ft=(Tt=Te.trigger=c(Tt||!0!==At&&At))&&Tt._gsap&&Tt._gsap.stRevert)&&ft(Te),At=!0===At?Tt:c(At),xe(vt)&&(vt={targets:Tt,className:vt}),At&&(!1===Lt||Lt===Ie||(Lt=!(!Lt&&At.parentNode&&At.parentNode.style&&"flex"===at(At.parentNode).display)&&De),Te.pin=At,(r=It.core.getCache(At)).spacer?y=r.pinState:(te&&((te=c(te))&&!te.nodeType&&(te=te.current||te.nativeElement),r.spacerIsNative=!!te,te&&(r.spacerState=Ct(te))),r.spacer=x=te||Rt.createElement("div"),x.classList.add("pin-spacer"),kt&&x.classList.add("pin-spacer-"+kt),r.pinState=y=Ct(At)),!1!==t.force3D&&It.set(At,{force3D:!0}),Te.spacer=x=r.spacer,O=at(At),M=O[Lt+re.os2],S=It.getProperty(At),T=It.quickSetter(At,re.a,Oe),Et(At,x,O),k=Ct(At)),ye){m=it(ye)?st(ye,Fe):Fe,p=gt("scroller-start",kt,se,re,m,0),g=gt("scroller-end",kt,se,re,m,0,p),w=p["offset"+re.op.d2];var Je=c(n(se,"content")||se);u=this.markerStart=gt("start",kt,Je,re,m,w,0,ee),f=this.markerEnd=gt("end",kt,Je,re,m,w,0,ee),ee&&(dt=It.quickSetter([u,f],re.a,Oe)),ce||D.length&&!0===n(se,"fixedMarkers")||(function(t){var e=at(t).position;t.style.position="absolute"===e||"fixed"===e?e:"relative"}(le?Nt:se),It.set([p,g],{force3D:!0}),A=It.quickSetter(p,re.a,Oe),L=It.quickSetter(g,re.a,Oe))}if(ee){var Ze=ee.vars.onUpdate,Qe=ee.vars.onUpdateParams;ee.eventCallback("onUpdate",(function(){Te.update(0,0,1),Ze&&Ze.apply(ee,Qe||[])}))}if(Te.previous=function(){return Ve[Ve.indexOf(Te)-1]},Te.next=function(){return Ve[Ve.indexOf(Te)+1]},Te.revert=function(t,i){if(!i)return Te.kill(!0);var n=!1!==t||!Te.enabled,r=Wt;n!==Te.isReverted&&(n&&(Y=Math.max(Xe(),Te.scroll.rec||0),qe=Te.progress,Q=e&&e.progress()),u&&[u,f,p,g].forEach((function(t){return t.style.display=n?"none":"block"})),n&&(Wt=Te).update(n),!At||Jt&&Te.isActive||(n?function(t,e,i){ei(i);var n=t._gsap;if(n.spacerIsNative)ei(n.spacerState);else if(t._gsap.swappedIn){var r=e.parentNode;r&&(r.insertBefore(t,e),r.removeChild(e))}t._gsap.swappedIn=!1}(At,x,y):Et(At,x,at(At),P)),n||Te.update(n),Wt=r,Te.isReverted=n)},Te.refresh=function(n,r,a,m){if(!Wt&&Te.enabled||r)if(At&&n&&be)ht(ai,"scrollEnd",bt);else{!pe&&Be&&Be(Te),Wt=Te,i.tween&&!a&&(i.tween.kill(),i.tween=0),z&&z.pause(),Bt&&e&&e.revert({kill:!1}).invalidate(),Te.isReverted||Te.revert(!0,!0),Te._subPinOffset=!1;var w,T,M,A,$,D,L,O,R,B,H,j,G,W=ze(),q=je(),X=ee?ee.duration():Z(se,re),K=v<=.01,J=0,et=m||0,nt=it(a)?a.end:t.end,rt=t.endTrigger||Tt,st=it(a)?a.start:t.start||(0!==t.start&&Tt?At?"0 0":"0 100%":0),lt=Te.pinnedContainer=t.pinnedContainer&&c(t.pinnedContainer,Te),ct=Tt&&Math.max(0,Ve.indexOf(Te))||0,dt=ct;for(ye&&it(a)&&(j=It.getProperty(p,re.p),G=It.getProperty(g,re.p));dt--;)(D=Ve[dt]).end||D.refresh(0,1)||(Wt=Te),!(L=D.pin)||L!==Tt&&L!==At&&L!==lt||D.isReverted||((B=B||[]).unshift(D),D.revert(!0,!0)),D!==Ve[dt]&&(ct--,dt--);for(tt(st)&&(st=st(Te)),st=V(st,"start",Te),l=Mt(st,Tt,W,re,Xe(),u,p,Te,q,Se,ce,X,ee,Te._startClamp&&"_startClamp")||(At?-.001:0),tt(nt)&&(nt=nt(Te)),xe(nt)&&!nt.indexOf("+=")&&(~nt.indexOf(" ")?nt=(xe(st)?st.split(" ")[0]:"")+nt:(J=pt(nt.substr(2),W),nt=xe(st)?st:(ee?It.utils.mapRange(0,ee.duration(),ee.scrollTrigger.start,ee.scrollTrigger.end,l):l)+J,rt=Tt)),nt=V(nt,"end",Te),h=Math.max(l,Mt(nt||(rt?"100% 0":X),rt,W,re,Xe()+J,f,g,Te,q,Se,ce,X,ee,Te._endClamp&&"_endClamp"))||-.001,J=0,dt=ct;dt--;)(L=(D=Ve[dt]).pin)&&D.start-D._pinPush<=l&&!ee&&0<D.end&&(w=D.end-(Te._startClamp?Math.max(0,D.start):D.start),(L===Tt&&D.start-D._pinPush<l||L===lt)&&isNaN(st)&&(J+=w*(1-D.progress)),L===At&&(et+=w));if(l+=J,h+=J,Te._startClamp&&(Te._startClamp+=J),Te._endClamp&&!pe&&(Te._endClamp=h||-.001,h=Math.min(h,Z(se,re))),v=h-l||(l-=.01)&&.001,K&&(qe=It.utils.clamp(0,1,It.utils.normalize(l,h,Y))),Te._pinPush=et,u&&J&&((w={})[re.a]="+="+J,lt&&(w[re.p]="-="+Xe()),It.set([u,f],w)),!At||he&&Te.end>=Z(se,re)){if(Tt&&Xe()&&!ee)for(T=Tt.parentNode;T&&T!==Nt;)T._pinOffset&&(l-=T._pinOffset,h-=T._pinOffset),T=T.parentNode}else w=at(At),A=re===N,M=Xe(),E=parseFloat(S(re.a))+et,!X&&1<h&&(H={style:H=(le?Rt.scrollingElement||Ft:se).style,value:H["overflow"+re.a.toUpperCase()]},le&&"scroll"!==at(Nt)["overflow"+re.a.toUpperCase()]&&(H.style["overflow"+re.a.toUpperCase()]="scroll")),Et(At,x,w),k=Ct(At),T=Re(At,!0),O=ce&&d(se,A?F:N)(),Lt?((P=[Lt+re.os2,v+et+Oe]).t=x,(dt=Lt===De?ot(At,re)+v+et:0)&&(P.push(re.d,dt+Oe),"auto"!==x.style.flexBasis&&(x.style.flexBasis=dt+Oe)),ei(P),lt&&Ve.forEach((function(t){t.pin===lt&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)})),ce&&Xe(Y)):(dt=ot(At,re))&&"auto"!==x.style.flexBasis&&(x.style.flexBasis=dt+Oe),ce&&(($={top:T.top+(A?M-l:O)+Oe,left:T.left+(A?O:M-l)+Oe,boxSizing:"border-box",position:"fixed"})[Ee]=$.maxWidth=Math.ceil(T.width)+Oe,$[Ce]=$.maxHeight=Math.ceil(T.height)+Oe,$[Ie]=$[Ie+Ae]=$[Ie+Me]=$[Ie+$e]=$[Ie+Pe]="0",$[De]=w[De],$[De+Ae]=w[De+Ae],$[De+Me]=w[De+Me],$[De+$e]=w[De+$e],$[De+Pe]=w[De+Pe],b=function(t,e,i){for(var n,r=[],a=t.length,s=i?8:0;s<a;s+=2)n=t[s],r.push(n,n in e?e[n]:t[s+1]);return r.t=t.t,r}(y,$,Jt),pe&&Xe(0)),e?(R=e._initted,Qt(1),e.render(e.duration(),!0,!0),C=S(re.a)-E+v+et,I=1<Math.abs(v-C),ce&&I&&b.splice(b.length-2,2),e.render(0,!0,!0),R||e.invalidate(!0),e.parent||e.totalTime(e.totalTime()),Qt(0)):C=v,H&&(H.value?H.style["overflow"+re.a.toUpperCase()]=H.value:H.style.removeProperty("overflow-"+re.a));B&&B.forEach((function(t){return t.revert(!1,!0)})),Te.start=l,Te.end=h,s=o=pe?Y:Xe(),ee||pe||(s<Y&&Xe(Y),Te.scroll.rec=0),Te.revert(!1,!0),We=ve(),U&&(Ge=-1,U.restart(!0)),Wt=0,e&&ae&&(e._initted||Q)&&e.progress()!==Q&&e.progress(Q||0,!0).render(e.time(),!0,!0),(K||qe!==Te.progress||ee||Bt)&&(e&&!ae&&e.totalProgress(ee&&l<-.001&&!qe?It.utils.normalize(l,h,0):qe,!0),Te.progress=K||(s-l)/v===qe?0:qe),At&&Lt&&(x._pinOffset=Math.round(Te.progress*C)),z&&z.invalidate(),isNaN(j)||(j-=It.getProperty(p,re.p),G-=It.getProperty(g,re.p),$t(p,re,j),$t(u,re,j-(m||0)),$t(g,re,G),$t(f,re,G-(m||0))),K&&!pe&&Te.update(),!wt||pe||_||(_=!0,wt(Te),_=!1)}},Te.getVelocity=function(){return(Xe()-o)/(ve()-jt)*1e3||0},Te.endAnimation=function(){nt(Te.callbackAnimation),e&&(z?z.progress(1):e.paused()?ae||nt(e,Te.direction<0,1):nt(e,e.reversed()))},Te.labelToScroll=function(t){return e&&e.labels&&(l||Te.refresh()||l)+e.labels[t]/e.duration()*v||0},Te.getTrailing=function(t){var e=Ve.indexOf(Te),i=0<Te.direction?Ve.slice(0,e).reverse():Ve.slice(e+1);return(xe(t)?i.filter((function(e){return e.vars.preventOverlaps===t})):i).filter((function(t){return 0<Te.direction?t.end<=l:t.start>=h}))},Te.update=function(t,n,r){if(!ee||r||t){var a,c,d,u,f,g,m,_=!0===pe?Y:Te.scroll(),y=t?0:(_-l)/v,w=y<0?0:1<y?1:y||0,S=Te.progress;if(n&&(o=s,s=ee?Xe():_,Kt&&(B=R,R=e&&!ae?e.totalProgress():w)),zt&&At&&!Wt&&!_e&&be&&(!w&&l<_+(_-o)/(ve()-jt)*zt?w=1e-4:1===w&&h>_+(_-o)/(ve()-jt)*zt&&(w=.9999)),w!==S&&Te.enabled){if(u=(f=(a=Te.isActive=!!w&&w<1)!=(!!S&&S<1))||!!w!=!!S,Te.direction=S<w?1:-1,Te.progress=w,u&&!Wt&&(c=w&&!S?0:1===w?1:1===S?2:3,ae&&(d=!f&&"none"!==fe[c+1]&&fe[c+1]||fe[c],m=e&&("complete"===d||"reset"===d||d in e))),ne&&(f||m)&&(m||St||!e)&&(tt(ne)?ne(Te):Te.getTrailing(ne).forEach((function(t){return t.endAnimation()}))),ae||(!z||Wt||_e?e&&e.totalProgress(w,!(!Wt||!We&&!t)):(z._dp._time-z._start!==z._time&&z.render(z._dp._time-z._start),z.resetTo?z.resetTo("totalProgress",w,e._tTime/e._tDur):(z.vars.totalProgress=w,z.invalidate().restart()))),At)if(t&&Lt&&(x.style[Lt+re.os2]=M),ce){if(u){if(g=!t&&S<w&&_<h+1&&_+1>=Z(se,re),Jt)if(t||!a&&!g)Pt(At,x);else{var P=Re(At,!0),$=_-l;Pt(At,Nt,P.top+(re===N?$:0)+Oe,P.left+(re===N?0:$)+Oe)}ei(a||g?b:k),I&&w<1&&a||T(E+(1!==w||g?0:C))}}else T(q(E+C*w));!Kt||i.tween||Wt||_e||U.restart(!0),vt&&(f||Xt&&w&&(w<1||!ue))&&Vt(vt.targets).forEach((function(t){return t.classList[a||Xt?"add":"remove"](vt.className)})),!mt||ae||t||mt(Te),u&&!Wt?(ae&&(m&&("complete"===d?e.pause().totalProgress(1):"reset"===d?e.restart(!0).pause():"restart"===d?e.restart(!0):e[d]()),mt&&mt(Te)),!f&&ue||(xt&&f&&rt(Te,xt),de[c]&&rt(Te,de[c]),Xt&&(1===w?Te.kill(!1,1):de[c]=0),f||de[c=1===w?1:3]&&rt(Te,de[c])),ie&&!a&&Math.abs(Te.getVelocity())>(et(ie)?ie:2500)&&(nt(Te.callbackAnimation),z?z.progress(1):nt(e,"reverse"===d?1:!w,1))):ae&&mt&&!Wt&&mt(Te)}if(L){var D=ee?_/ee.duration()*(ee._caScrollDist||0):_;A(D+(p._isFlipped?1:0)),L(D)}dt&&dt(-_/ee.duration()*(ee._caScrollDist||0))}},Te.enable=function(t,e){Te.enabled||(Te.enabled=!0,ht(se,"resize",yt),le||ht(se,"scroll",_t),Be&&ht(ai,"refreshInit",Be),!1!==t&&(Te.progress=qe=0,s=o=Ge=Xe()),!1!==e&&Te.refresh())},Te.getTween=function(t){return t&&i?i.tween:z},Te.setPositions=function(t,e,i,n){if(ee){var r=ee.scrollTrigger,a=ee.duration(),s=r.end-r.start;t=r.start+s*t/a,e=r.start+s*e/a}Te.refresh(!1,!1,{start:H(t,i&&!!Te._startClamp),end:H(e,i&&!!Te._endClamp)},n),Te.update()},Te.adjustPinSpacing=function(t){if(P&&t){var e=P.indexOf(re.d)+1;P[e]=parseFloat(P[e])+t+Oe,P[1]=parseFloat(P[1])+t+Oe,ei(P)}},Te.disable=function(t,e){if(Te.enabled&&(!1!==t&&Te.revert(!0,!0),Te.enabled=Te.isActive=!1,e||z&&z.pause(),Y=0,r&&(r.uncache=1),Be&&ut(ai,"refreshInit",Be),U&&(U.pause(),i.tween&&i.tween.kill()&&(i.tween=0)),!le)){for(var n=Ve.length;n--;)if(Ve[n].scroller===se&&Ve[n]!==Te)return;ut(se,"resize",yt),le||ut(se,"scroll",_t)}},Te.kill=function(i,n){Te.disable(i,n),z&&!n&&z.kill(),kt&&delete He[kt];var a=Ve.indexOf(Te);0<=a&&Ve.splice(a,1),a===Yt&&0<Ke&&Yt--,a=0,Ve.forEach((function(t){return t.scroller===Te.scroller&&(a=1)})),a||pe||(Te.scroll.rec=0),e&&(e.scrollTrigger=null,i&&e.revert({kill:!1}),n||e.kill()),u&&[u,f,p,g].forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),me===Te&&(me=0),At&&(r&&(r.uncache=1),a=0,Ve.forEach((function(t){return t.pin===At&&a++})),a||(r.spacer=0)),t.onKill&&t.onKill(Te)},Ve.push(Te),Te.enable(!1,!1),ft&&ft(Te),e&&e.add&&!v){var ti=Te.update;Te.update=function(){Te.update=ti,l||h||Te.refresh()},It.delayedCall(.01,Te.update),v=.01,l=h=0}else Te.refresh();At&&function(){if(ge!==Ue){var t=ge=Ue;requestAnimationFrame((function(){return t===Ue&&Ye(!0)}))}}()}else this.update=this.refresh=this.kill=W},ai.register=function(t){return Lt||(It=t||Y(),U()&&window.document&&ai.enable(),Lt=ke),Lt},ai.defaults=function(t){if(t)for(var e in t)Ne[e]=t[e];return Ne},ai.disable=function(t,e){ke=0,Ve.forEach((function(i){return i[e?"kill":"disable"](t)})),ut(Ot,"wheel",_t),ut(Rt,"scroll",_t),clearInterval(Gt),ut(Rt,"touchcancel",W),ut(Nt,"touchstart",W),dt(ut,Rt,"pointerdown,touchstart,mousedown",j),dt(ut,Rt,"pointerup,touchend,mouseup",G),zt.kill(),Q(ut);for(var i=0;i<$.length;i+=3)ft(ut,$[i],$[i+1]),ft(ut,$[i],$[i+2])},ai.enable=function(){if(Ot=window,Rt=document,Ft=Rt.documentElement,Nt=Rt.body,It&&(Vt=It.utils.toArray,Ht=It.utils.clamp,se=It.core.context||W,Qt=It.core.suppressOverwrites||W,oe=Ot.history.scrollRestoration||"auto",Xe=Ot.pageYOffset,It.core.globals("ScrollTrigger",ai),Nt)){ke=1,(le=document.createElement("div")).style.height="100vh",le.style.position="absolute",St(),function t(){return ke&&requestAnimationFrame(t)}(),B.register(It),ai.isTouch=B.isTouch,ae=B.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ie=1===B.isTouch,ht(Ot,"wheel",_t),Bt=[Ot,Rt,Ft,Nt],It.matchMedia?(ai.matchMedia=function(t){var e,i=It.matchMedia();for(e in t)i.add(e,t[e]);return i},It.addEventListener("matchMediaInit",(function(){return xt()})),It.addEventListener("matchMediaRevert",(function(){return kt()})),It.addEventListener("matchMedia",(function(){Ye(0,1),We("matchMedia")})),It.matchMedia("(orientation: portrait)",(function(){return vt(),vt}))):console.warn("Requires GSAP 3.11.0 or later"),vt(),ht(Rt,"scroll",_t);var t,e,i=Nt.style,n=i.borderTopStyle,r=It.core.Animation.prototype;for(r.revert||Object.defineProperty(r,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",t=Re(Nt),N.m=Math.round(t.top+N.sc())||0,F.m=Math.round(t.left+F.sc())||0,n?i.borderTopStyle=n:i.removeProperty("border-top-style"),Gt=setInterval(mt,250),It.delayedCall(.5,(function(){return _e=0})),ht(Rt,"touchcancel",W),ht(Nt,"touchstart",W),dt(ht,Rt,"pointerdown,touchstart,mousedown",j),dt(ht,Rt,"pointerup,touchend,mouseup",G),Ut=It.utils.checkPrefix("transform"),Qe.push(Ut),Lt=ve(),zt=It.delayedCall(.2,Ye).pause(),Jt=[Rt,"visibilitychange",function(){var t=Ot.innerWidth,e=Ot.innerHeight;Rt.hidden?(Xt=t,Kt=e):Xt===t&&Kt===e||yt()},Rt,"DOMContentLoaded",Ye,Ot,"load",Ye,Ot,"resize",yt],Q(ht),Ve.forEach((function(t){return t.enable(0,1)})),e=0;e<$.length;e+=3)ft(ut,$[e],$[e+1]),ft(ut,$[e],$[e+2])}},ai.config=function(t){"limitCallbacks"in t&&(ue=!!t.limitCallbacks);var e=t.syncInterval;e&&clearInterval(Gt)||(Gt=e)&&setInterval(mt,e),"ignoreMobileResize"in t&&(ie=1===ai.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(Q(ut)||Q(ht,t.autoRefreshEvents||"none"),te=-1===(t.autoRefreshEvents+"").indexOf("resize"))},ai.scrollerProxy=function(t,e){var i=c(t),n=$.indexOf(i),r=X(i);~n&&$.splice(n,r?6:2),e&&(r?D.unshift(Ot,e,Nt,e,Ft,e):D.unshift(i,e))},ai.clearMatchMedia=function(t){Ve.forEach((function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)}))},ai.isInViewport=function(t,e,i){var n=(xe(t)?c(t):t).getBoundingClientRect(),r=n[i?Ee:Ce]*e||0;return i?0<n.right-r&&n.left+r<Ot.innerWidth:0<n.bottom-r&&n.top+r<Ot.innerHeight},ai.positionInViewport=function(t,e,i){xe(t)&&(t=c(t));var n=t.getBoundingClientRect(),r=n[i?Ee:Ce],a=null==e?r/2:e in Be?Be[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0;return i?(n.left+a)/Ot.innerWidth:(n.top+a)/Ot.innerHeight},ai.killAll=function(t){if(Ve.slice(0).forEach((function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()})),!0!==t){var e=je.killAll||[];je={},e.forEach((function(t){return t()}))}},ai);function ai(t,e){Lt||ai.register(It)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),se(this),this.init(t,e)}function si(t,e,i,n){return n<e?t(n):e<0&&t(0),n<i?(n-e)/(i-e):i<0?e/(e-i):1}function oi(t,e){!0===e?t.style.removeProperty("touch-action"):t.style.touchAction=!0===e?"auto":e?"pan-"+e+(B.isTouch?" pinch-zoom":""):"none",t===Ft&&oi(Nt,e)}function li(t){var e,i=t.event,n=t.target,r=t.axis,a=(i.changedTouches?i.changedTouches[0]:i).target,s=a._gsap||It.core.getCache(a),o=ve();if(!s._isScrollT||2e3<o-s._isScrollT){for(;a&&a!==Nt&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!hi[(e=at(a)).overflowY]&&!hi[e.overflowX]);)a=a.parentNode;s._isScroll=a&&a!==n&&!X(a)&&(hi[(e=at(a)).overflowY]||hi[e.overflowX]),s._isScrollT=o}!s._isScroll&&"x"!==r||(i.stopPropagation(),i._gsapAllow=!0)}function ci(t,e,i,n){return B.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:n=n&&li,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return i&&ht(Rt,B.eventTypes[0],fi,!1,!0)},onDisable:function(){return ut(Rt,B.eventTypes[0],fi,!0)}})}ri.version="3.12.5",ri.saveStyles=function(t){return t?Vt(t).forEach((function(t){if(t&&t.style){var e=qe.indexOf(t);0<=e&&qe.splice(e,5),qe.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),It.core.getCache(t),se())}})):qe},ri.revert=function(t,e){return xt(!t,e)},ri.create=function(t,e){return new ri(t,e)},ri.refresh=function(t){return t?yt():(Lt||ri.register())&&Ye(!0)},ri.update=function(t){return++$.cache&&Je(!0===t?2:0)},ri.clearScrollMemory=wt,ri.maxScroll=function(t,e){return Z(t,e?F:N)},ri.getScrollFunc=function(t,e){return d(c(t),e?F:N)},ri.getById=function(t){return He[t]},ri.getAll=function(){return Ve.filter((function(t){return"ScrollSmoother"!==t.vars.id}))},ri.isScrolling=function(){return!!be},ri.snapDirectional=ct,ri.addEventListener=function(t,e){var i=je[t]||(je[t]=[]);~i.indexOf(e)||i.push(e)},ri.removeEventListener=function(t,e){var i=je[t],n=i&&i.indexOf(e);0<=n&&i.splice(n,1)},ri.batch=function(t,e){function i(t,e){var i=[],n=[],r=It.delayedCall(s,(function(){e(i,n),i=[],n=[]})).pause();return function(t){i.length||r.restart(!0),i.push(t.trigger),n.push(t),o<=i.length&&r.progress(1)}}var n,r=[],a={},s=e.interval||.016,o=e.batchMax||1e9;for(n in e)a[n]="on"===n.substr(0,2)&&tt(e[n])&&"onRefreshInit"!==n?i(0,e[n]):e[n];return tt(o)&&(o=o(),ht(ri,"refresh",(function(){return o=e.batchMax()}))),Vt(t).forEach((function(t){var e={};for(n in a)e[n]=a[n];e.trigger=t,r.push(ri.create(e))})),r};var di,hi={auto:1,scroll:1},ui=/(input|label|select|textarea)/i,fi=function(t){var e=ui.test(t.target.tagName);(e||di)&&(t._gsapAllow=!0,di=e)};ri.sort=function(t){return Ve.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},ri.observe=function(t){return new B(t)},ri.normalizeScroll=function(t){if(void 0===t)return ee;if(!0===t&&ee)return ee.enable();if(!1===t)return ee&&ee.kill(),void(ee=t);var e=t instanceof B?t:function(t){function e(){return l=!1}function i(){s=Z(y,N),D=Ht(ae?1:0,s),g&&(A=Ht(0,Z(y,F))),o=Ue}function n(){x._gsap.y=q(parseFloat(x._gsap.y)+w.offset)+"px",x.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(x._gsap.y)+", 0, 1)",w.offset=w.cacheID=0}function r(){i(),h.isActive()&&h.vars.scrollY>s&&(w()>s?h.progress(1)&&w(s):h.resetTo("scrollY",s))}it(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var a,s,o,l,h,u,f,p,g=t.normalizeScrollX,m=t.momentum,_=t.allowNestedScroll,v=t.onRelease,y=c(t.target)||Ft,b=It.core.globals().ScrollSmoother,k=b&&b.get(),x=ae&&(t.content&&c(t.content)||k&&!1!==t.content&&!k.smooth()&&k.content()),w=d(y,N),S=d(y,F),T=1,E=(B.isTouch&&Ot.visualViewport?Ot.visualViewport.scale*Ot.visualViewport.width:Ot.outerWidth)/Ot.innerWidth,C=0,M=tt(m)?function(){return m(a)}:function(){return m||2.8},P=ci(y,t.type,!0,_),A=W,D=W;return x&&It.set(x,{y:"+=0"}),t.ignoreCheck=function(t){return ae&&"touchmove"===t.type&&function(){if(l){requestAnimationFrame(e);var t=q(a.deltaY/2),i=D(w.v-t);if(x&&i!==w.v+w.offset){w.offset=i-w.v;var r=q((parseFloat(x&&x._gsap.y)||0)-w.offset);x.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",x._gsap.y=r+"px",w.cacheID=$.cache,Je()}return!0}w.offset&&n(),l=!0}()||1.05<T&&"touchstart"!==t.type||a.isGesturing||t.touches&&1<t.touches.length},t.onPress=function(){l=!1;var t=T;T=q((Ot.visualViewport&&Ot.visualViewport.scale||1)/E),h.pause(),t!==T&&oi(y,1.01<T||!g&&"x"),u=S(),f=w(),i(),o=Ue},t.onRelease=t.onGestureStart=function(t,e){if(w.offset&&n(),e){$.cache++;var i,a,o=M();g&&(a=(i=S())+.05*o*-t.velocityX/.227,o*=si(S,i,a,Z(y,F)),h.vars.scrollX=A(a)),a=(i=w())+.05*o*-t.velocityY/.227,o*=si(w,i,a,Z(y,N)),h.vars.scrollY=D(a),h.invalidate().duration(o).play(.01),(ae&&h.vars.scrollY>=s||s-1<=i)&&It.to({},{onUpdate:r,duration:o})}else p.restart(!0);v&&v(t)},t.onWheel=function(){h._ts&&h.pause(),1e3<ve()-C&&(o=0,C=ve())},t.onChange=function(t,e,r,a,s){if(Ue!==o&&i(),e&&g&&S(A(a[2]===e?u+(t.startX-t.x):S()+e-a[1])),r){w.offset&&n();var l=s[2]===r,c=l?f+t.startY-t.y:w()+r-s[1],d=D(c);l&&c!==d&&(f+=d-c),w(d)}(r||e)&&Je()},t.onEnable=function(){oi(y,!g&&"x"),ri.addEventListener("refresh",r),ht(Ot,"resize",r),w.smooth&&(w.target.style.scrollBehavior="auto",w.smooth=S.smooth=!1),P.enable()},t.onDisable=function(){oi(y,!0),ut(Ot,"resize",r),ri.removeEventListener("refresh",r),P.kill()},t.lockAxis=!1!==t.lockAxis,((a=new B(t)).iOS=ae)&&!w()&&w(1),ae&&It.ticker.add(W),p=a._dc,h=It.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:g?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:At(w,w(),(function(){return h.pause()}))},onUpdate:Je,onComplete:p.vars.onComplete}),a}(t);return ee&&ee.target===e.target&&ee.kill(),X(e.target)&&(ee=e),e},ri.core={_getVelocityProp:h,_inputObserver:ci,_scrollers:$,_proxies:D,bridge:{ss:function(){be||We("scrollStart"),be=ve()},ref:function(){return Wt}}},Y()&&It.registerPlugin(ri),t.ScrollTrigger=ri,t.default=ri,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}));var k="1.1.16";function w(t,e,i){return Math.max(t,Math.min(e,i))}function W(t,e,i){return(1-i)*t+i*e}function z(t,e,i,n){return W(t,e,1-Math.exp(-i*n))}function x(t,e){return(t%e+e)%e}var y=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(t){if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=t;let i=w(0,this.currentTime/this.duration,1);e=i>=1;let n=e?1:this.easing(i);this.value=this.from+(this.to-this.from)*n}else this.lerp?(this.value=z(this.value,this.to,60*this.lerp,t),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),this.onUpdate?.(this.value,e)}stop(){this.isRunning=!1}fromTo(t,e,{lerp:i,duration:n,easing:r,onStart:a,onUpdate:s}){this.from=this.value=t,this.to=e,this.lerp=i,this.duration=n,this.easing=r,this.currentTime=0,this.isRunning=!0,a?.(),this.onUpdate=s}};function R(t,e){let i;return function(...n){let r=this;clearTimeout(i),i=setTimeout((()=>{i=void 0,t.apply(r,n)}),e)}}var E=class{constructor(t,e,{autoResize:i=!0,debounce:n=250}={}){this.wrapper=t,this.content=e,i&&(this.debouncedResize=R(this.resize,n),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},g=class{events={};emit(t,...e){let i=this.events[t]||[];for(let t=0,n=i.length;t<n;t++)i[t]?.(...e)}on(t,e){return this.events[t]?.push(e)||(this.events[t]=[e]),()=>{this.events[t]=this.events[t]?.filter((t=>e!==t))}}off(t,e){this.events[t]=this.events[t]?.filter((t=>e!==t))}destroy(){this.events={}}},_=100/6,p={passive:!1},T=class{constructor(t,e={wheelMultiplier:1,touchMultiplier:1}){this.element=t,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,p),this.element.addEventListener("touchstart",this.onTouchStart,p),this.element.addEventListener("touchmove",this.onTouchMove,p),this.element.addEventListener("touchend",this.onTouchEnd,p)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new g;on(t,e){return this.emitter.on(t,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,p),this.element.removeEventListener("touchstart",this.onTouchStart,p),this.element.removeEventListener("touchmove",this.onTouchMove,p),this.element.removeEventListener("touchend",this.onTouchEnd,p)}onTouchStart=t=>{let{clientX:e,clientY:i}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=e,this.touchStart.y=i,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})};onTouchMove=t=>{let{clientX:e,clientY:i}=t.targetTouches?t.targetTouches[0]:t,n=-(e-this.touchStart.x)*this.options.touchMultiplier,r=-(i-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=i,this.lastDelta={x:n,y:r},this.emitter.emit("scroll",{deltaX:n,deltaY:r,event:t})};onTouchEnd=t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})};onWheel=t=>{let{deltaX:e,deltaY:i,deltaMode:n}=t;e*=1===n?_:2===n?this.window.width:1,i*=1===n?_:2===n?this.window.height:1,e*=this.options.wheelMultiplier,i*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:i,event:t})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},L=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new y;emitter=new g;dimensions;virtualScroll;constructor({wrapper:t=window,content:e=document.documentElement,eventsTarget:i=t,smoothWheel:n=!0,syncTouch:r=!1,syncTouchLerp:a=.075,touchInertiaMultiplier:s=35,duration:o,easing:l=(t=>Math.min(1,1.001-Math.pow(2,-10*t))),lerp:c=.1,infinite:d=!1,orientation:h="vertical",gestureOrientation:u="vertical",touchMultiplier:f=1,wheelMultiplier:p=1,autoResize:g=!0,prevent:m,virtualScroll:_,overscroll:v=!0,autoRaf:y=!1,__experimental__naiveDimensions:b=!1}={}){window.lenisVersion=k,(!t||t===document.documentElement||t===document.body)&&(t=window),this.options={wrapper:t,content:e,eventsTarget:i,smoothWheel:n,syncTouch:r,syncTouchLerp:a,touchInertiaMultiplier:s,duration:o,easing:l,lerp:c,infinite:d,gestureOrientation:u,orientation:h,touchMultiplier:f,wheelMultiplier:p,autoResize:g,prevent:m,virtualScroll:_,overscroll:v,autoRaf:y,__experimental__naiveDimensions:b},this.dimensions=new E(t,e,{autoResize:g}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new T(i,{touchMultiplier:f,wheelMultiplier:p}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(t,e){return this.emitter.on(t,e)}off(t,e){return this.emitter.off(t,e)}setScroll(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t}onPointerDown=t=>{1===t.button&&this.reset()};onVirtualScroll=t=>{if("function"==typeof this.options.virtualScroll&&!1===this.options.virtualScroll(t))return;let{deltaX:e,deltaY:i,event:n}=t;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:i,event:n}),n.ctrlKey||n.lenisStopPropagation)return;let r=n.type.includes("touch"),a=n.type.includes("wheel");if(this.isTouching="touchstart"===n.type||"touchmove"===n.type,this.options.syncTouch&&r&&"touchstart"===n.type&&!this.isStopped&&!this.isLocked)return void this.reset();let s=0===e&&0===i,o="vertical"===this.options.gestureOrientation&&0===i||"horizontal"===this.options.gestureOrientation&&0===e;if(s||o)return;let l=n.composedPath();l=l.slice(0,l.indexOf(this.rootElement));let c=this.options.prevent;if(l.find((t=>t instanceof HTMLElement&&("function"==typeof c&&c?.(t)||t.hasAttribute?.("data-lenis-prevent")||r&&t.hasAttribute?.("data-lenis-prevent-touch")||a&&t.hasAttribute?.("data-lenis-prevent-wheel")))))return;if(this.isStopped||this.isLocked)return void n.preventDefault();if(!(this.options.syncTouch&&r||this.options.smoothWheel&&a))return this.isScrolling="native",this.animate.stop(),void(n.lenisStopPropagation=!0);let d=i;"both"===this.options.gestureOrientation?d=Math.abs(i)>Math.abs(e)?i:e:"horizontal"===this.options.gestureOrientation&&(d=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||0===this.animatedScroll&&i>0||this.animatedScroll===this.limit&&i<0))&&(n.lenisStopPropagation=!0),n.preventDefault();let h=r&&this.options.syncTouch,u=r&&"touchend"===n.type&&Math.abs(d)>5;u&&(d=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+d,{programmatic:!1,...h?{lerp:u?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(null!==this._resetVelocityTimeout&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent)this._preventNextNativeScrollEvent=!1;else if(!1===this.isScrolling||"native"===this.isScrolling){let t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isScrolling="native",this.emit(),0!==this.velocity&&(this._resetVelocityTimeout=setTimeout((()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()}),400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf=t=>{let e=t-(this.time||t);this.time=t,this.animate.advance(.001*e),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(t,{offset:e=0,immediate:i=!1,lock:n=!1,duration:r=this.options.duration,easing:a=this.options.easing,lerp:s=this.options.lerp,onStart:o,onComplete:l,force:c=!1,programmatic:d=!0,userData:h}={}){if(!this.isStopped&&!this.isLocked||c){if("string"==typeof t&&["top","left","start"].includes(t))t=0;else if("string"==typeof t&&["bottom","right","end"].includes(t))t=this.limit;else{let i;if("string"==typeof t?i=document.querySelector(t):t instanceof HTMLElement&&t?.nodeType&&(i=t),i){if(this.options.wrapper!==window){let t=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?t.left:t.top}let n=i.getBoundingClientRect();t=(this.isHorizontal?n.left:n.top)+this.animatedScroll}}if("number"==typeof t){if(t+=e,t=Math.round(t),this.options.infinite?d&&(this.targetScroll=this.animatedScroll=this.scroll):t=w(0,t,this.limit),t===this.targetScroll)return o?.(this),void l?.(this);if(this.userData=h??{},i)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),l?.(this),void(this.userData={});d||(this.targetScroll=t),this.animate.fromTo(this.animatedScroll,t,{duration:r,easing:a,lerp:s,onStart:()=>{n&&(this.isLocked=!0),this.isScrolling="smooth",o?.(this)},onUpdate:(t,e)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=t-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=t,this.setScroll(this.scroll),d&&(this.targetScroll=t),e||this.emit(),e&&(this.reset(),this.emit(),l?.(this),this.userData={},this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame((()=>{this._preventNextNativeScrollEvent=!1}))}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return"horizontal"===this.options.orientation}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?x(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(t){this._isScrolling!==t&&(this._isScrolling=t,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(t){this._isStopped!==t&&(this._isStopped=t,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked!==t&&(this._isLocked=t,this.updateClassName())}get isSmooth(){return"smooth"===this.isScrolling}get className(){let t="lenis";return this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),"smooth"===this.isScrolling&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};globalThis.Lenis=L,function(){"use strict";function t(){function t(){var t={width:a.width/a.naturalWidth,height:a.height/a.naturalHeight},e={width:parseInt(window.getComputedStyle(a,null).getPropertyValue("padding-left"),10),height:parseInt(window.getComputedStyle(a,null).getPropertyValue("padding-top"),10)};r.forEach((function(i,r){var a=0;n[r].coords=i.split(",").map((function(i){var n=1==(a=1-a)?"width":"height";return e[n]+Math.floor(Number(i)*t[n])})).join(",")}))}function e(t){return document.querySelector('img[usemap="'+t+'"]')}var i=this,n=null,r=null,a=null,s=null;"function"!=typeof i._resize?(n=i.getElementsByTagName("area"),r=Array.prototype.map.call(n,(function(t){return t.coords.replace(/ *, */g,",").replace(/ +/g,",")})),a=e("#"+i.name)||e(i.name),i._resize=t,a.addEventListener("load",t,!1),window.addEventListener("focus",t,!1),window.addEventListener("resize",(function(){clearTimeout(s),s=setTimeout(t,250)}),!1),window.addEventListener("readystatechange",t,!1),document.addEventListener("fullscreenchange",t,!1),a.width===a.naturalWidth&&a.height===a.naturalHeight||t()):i._resize()}function e(){function e(e){e&&(function(t){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("MAP"!==t.tagName.toUpperCase())throw new TypeError("Expected <MAP> tag, found <"+t.tagName+">.")}(e),t.call(e),i.push(e))}var i;return function(t){switch(i=[],typeof t){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(t||"map"),e);break;case"object":e(t);break;default:throw new TypeError("Unexpected data type ("+typeof t+").")}return i}}"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e():window.imageMapResize=e(),"jQuery"in window&&(window.jQuery.fn.imageMapResize=function(){return this.filter("map").each(t).end()})}(),function(t,e){"object"==typeof exports&&typeof module<"u"?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=typeof globalThis<"u"?globalThis:t||self).dhtmlxgantt={})}(this,(function(t){"use strict";
/** @license

dhtmlxGantt v.9.0.11 Standard

This version of dhtmlxGantt is distributed under GPL 2.0 license and can be legally used in GPL projects.

To use dhtmlxGantt in non-GPL projects (and get Pro version of the product), please obtain Individual, Commercial, Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxGantt/#licensing or contact us at info@dhtmlx.com

(c) XB Software

*/function e(t){var e=0,i=0,n=0,r=0;if(t.getBoundingClientRect){var a=t.getBoundingClientRect(),s=document.body,o=document.documentElement||document.body.parentNode||document.body,l=window.pageYOffset||o.scrollTop||s.scrollTop,c=window.pageXOffset||o.scrollLeft||s.scrollLeft,d=o.clientTop||s.clientTop||0,h=o.clientLeft||s.clientLeft||0;e=a.top+l-d,i=a.left+c-h,n=document.body.offsetWidth-a.right,r=document.body.offsetHeight-a.bottom}else{for(;t;)e+=parseInt(t.offsetTop,10),i+=parseInt(t.offsetLeft,10),t=t.offsetParent;n=document.body.offsetWidth-t.offsetWidth-i,r=document.body.offsetHeight-t.offsetHeight-e}return{y:Math.round(e),x:Math.round(i),width:t.offsetWidth,height:t.offsetHeight,right:Math.round(n),bottom:Math.round(r)}}function i(t){var e=!1,i=!1;if(window.getComputedStyle){var n=window.getComputedStyle(t,null);e=n.display,i=n.visibility}else t.currentStyle&&(e=t.currentStyle.display,i=t.currentStyle.visibility);return"none"!=e&&"hidden"!=i}function n(t){return!isNaN(t.getAttribute("tabindex"))&&1*t.getAttribute("tabindex")>=0}function r(t){return!{a:!0,area:!0}[t.nodeName.loLowerCase()]||!!t.getAttribute("href")}function a(t){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[t.nodeName.toLowerCase()]||!t.hasAttribute("disabled")}function s(t){for(var e=t.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),s=Array.prototype.slice.call(e,0),o=0;o<s.length;o++)s[o].$position=o;for(s.sort((function(t,e){return 0===t.tabIndex&&0!==e.tabIndex?1:0!==t.tabIndex&&0===e.tabIndex?-1:t.tabIndex===e.tabIndex?t.$position-e.$position:t.tabIndex<e.tabIndex?-1:1})),o=0;o<s.length;o++){var l=s[o];(n(l)||a(l)||r(l))&&i(l)||(s.splice(o,1),o--)}return s}function o(){var t=document.createElement("div");t.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),Math.max(e,15)}function l(t){if(!t)return"";var e=t.className||"";return e.baseVal&&(e=e.baseVal),e.indexOf||(e=""),v(e)}function c(t,e){e&&-1===t.className.indexOf(e)&&(t.className+=" "+e)}function d(t,e){e=e.split(" ");for(var i=0;i<e.length;i++){var n=new RegExp("\\s?\\b"+e[i]+"\\b(?![-_.])","");t.className=t.className.replace(n,"")}}function h(t){return"string"==typeof t?document.getElementById(t)||document.querySelector(t)||document.body:t||document.body}var u;function f(t,e){u||(u=document.createElement("div")),u.innerHTML=e;var i=u.firstChild;return t.appendChild(i),i}function p(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function g(t,e){for(var i=t.childNodes,n=i.length,r=[],a=0;a<n;a++){var s=i[a];s.className&&-1!==s.className.indexOf(e)&&r.push(s)}return r}function m(t){var e;return t.tagName?e=t:(e=(t=t||window.event).target||t.srcElement).shadowRoot&&t.composedPath&&(e=t.composedPath()[0]),e}function _(t,e){if(e){for(var i=m(t);i;){if(i.getAttribute&&i.getAttribute(e))return i;i=i.parentNode}return null}}function v(t){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(t)}function y(t,e,i){var n=m(t),r="";for(void 0===i&&(i=!0);n;){if(r=l(n)){var a=r.indexOf(e);if(a>=0){if(!i)return n;var s=0===a||!v(r.charAt(a-1)),o=a+e.length>=r.length||!v(r.charAt(a+e.length));if(s&&o)return n}}n=n.parentNode}return null}function b(t,i){var n=document.documentElement,r=e(i);return{x:t.clientX+n.scrollLeft-n.clientLeft-r.x+i.scrollLeft,y:t.clientY+n.scrollTop-n.clientTop-r.y+i.scrollTop}}function k(t,i){const n=e(t),r=e(i);return{x:n.x-r.x,y:n.y-r.y}}function x(t,e){if(!t||!e)return!1;for(;t&&t!=e;)t=t.parentNode;return t===e}function w(t,e){if(t.closest)return t.closest(e);if(t.matches||t.msMatchesSelector||t.webkitMatchesSelector){var i=t;if(!document.documentElement.contains(i))return null;do{if((i.matches||i.msMatchesSelector||i.webkitMatchesSelector).call(i,e))return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null}return console.error("Your browser is not supported"),null}function S(t){for(;t;){if(t.offsetWidth>0&&t.offsetHeight>0)return t;t=t.parentElement}return null}function T(){return document.head.createShadowRoot||document.head.attachShadow}function E(){var t=document.activeElement;return t.shadowRoot&&(t=t.shadowRoot.activeElement),t===document.body&&document.getSelection&&(t=document.getSelection().focusNode||document.body),t}function C(t){if(!t||!T())return document.body;for(;t.parentNode&&(t=t.parentNode);)if(t instanceof ShadowRoot)return t.host;return document.body}const M=Object.freeze(Object.defineProperty({__proto__:null,addClassName:c,closest:w,getActiveElement:E,getChildNodes:g,getClassName:l,getClosestSizedElement:S,getFocusableNodes:s,getNodePosition:e,getRelativeEventPosition:b,getRelativeNodePosition:k,getRootNode:C,getScrollSize:o,getTargetNode:m,hasClass:function(t,e){return"classList"in t?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)},hasShadowParent:function(t){return!!C(t)},insertNode:f,isChildOf:x,isShadowDomSupported:T,locateAttribute:_,locateClassName:y,removeClassName:d,removeNode:p,toNode:h},Symbol.toStringTag,{value:"Module"})),P=typeof window<"u"?window:global;let A=class{constructor(t){this._mouseDown=!1,this._touchStarts=!1,this._touchActive=!1,this._longTapTimer=!1,this._gantt=t,this._domEvents=t._createDomEventScope()}attach(t,e,i){const n=this._gantt,r=t.getViewPort();this._originPosition=P.getComputedStyle(r).display,this._restoreOriginPosition=()=>{r.style.position=this._originPosition},"static"===this._originPosition&&(r.style.position="relative");const a=n.$services.getService("state");a.registerProvider("clickDrag",(()=>({autoscroll:!1})));let s=null;const o=()=>{s&&(this._mouseDown=!0,t.setStart(n.copy(s)),t.setPosition(n.copy(s)),t.setEnd(n.copy(s)),s=null)};this._domEvents.attach(r,"mousedown",(t=>{h(t)}));const l=C(n.$root)||document.body;function c(t){return t.changedTouches&&t.changedTouches[0]||t}this._domEvents.attach(l,"mouseup",(t=>{u(t)})),this._domEvents.attach(r,"mousemove",(t=>{f(t)})),this._domEvents.attach(r,"touchstart",(t=>{this._touchStarts=!0,this._longTapTimer=setTimeout((()=>{this._touchStarts&&(h(c(t)),this._touchStarts=!1,this._touchActive=!0)}),this._gantt.config.touch_drag)})),this._domEvents.attach(l,"touchend",(t=>{this._touchStarts=!1,this._touchActive=!1,clearTimeout(this._longTapTimer),u(c(t))})),this._domEvents.attach(r,"touchmove",(t=>{if(this._touchActive){let e=d();if(e&&n.utils.dom.closest(t.target,e))return;f(c(t)),t.preventDefault()}else this._touchStarts=!1,clearTimeout(this._longTapTimer)}));const d=()=>{let t=".gantt_task_line, .gantt_task_link";return void 0!==i&&(t=i instanceof Array?i.join(", "):i),t},h=i=>{s=null;let r=d();r&&n.utils.dom.closest(i.target,r)||(a.registerProvider("clickDrag",(()=>({autoscroll:this._mouseDown}))),e&&!0!==i[e]||(s=this._getCoordinates(i,t)))},u=i=>{if(s=null,(!e||!0===i[e])&&!0===this._mouseDown){this._mouseDown=!1;const e=this._getCoordinates(i,t);t.dragEnd(e)}},f=i=>{if(e&&!0!==i[e])return;const n=this._gantt.ext.clickDrag,r=(this._gantt.config.drag_timeline||{}).useKey;if(n&&r&&!e&&i[r])return;let a=null;if(!this._mouseDown&&s)return a=this._getCoordinates(i,t),void(Math.abs(s.relative.left-a.relative.left)>5&&o());!0===this._mouseDown&&(a=this._getCoordinates(i,t),t.setEnd(a),t.render())}}detach(){const t=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),t.$services.getService("state").unregisterProvider("clickDrag")}destructor(){this.detach()}_getCoordinates(t,e){const i=e.getViewPort(),n=i.getBoundingClientRect(),{clientX:r,clientY:a}=t;return{absolute:{left:r,top:a},relative:{left:r-n.left+i.scrollLeft,top:a-n.top+i.scrollTop}}}};var $=function(){this._silent_mode=!1,this.listeners={}};function D(t){var e=new $;t.attachEvent=function(t,i,n){var r,a,s,o;t="ev_"+t.toLowerCase(),e.listeners[t]||(e.listeners[t]=(r=this,a={},s=0,o=function(){var t=!0;for(var e in a){var i=a[e].apply(r,arguments);t=t&&i}return t},o.addEvent=function(t,e){if("function"==typeof t){var i;if(e&&e.id?i=e.id:(i=s,s++),e&&e.once){var n=t;t=function(){n(),o.removeEvent(i)}}return a[i]=t,i}return!1},o.removeEvent=function(t){delete a[t]},o.clear=function(){a={}},o)),n&&n.thisObject&&(i=i.bind(n.thisObject));var l=t+":"+e.listeners[t].addEvent(i,n);return n&&n.id&&(l=n.id),l},t.attachAll=function(t){this.attachEvent("listen_all",t)},t.callEvent=function(t,i){if(e._silent_mode)return!0;var n="ev_"+t.toLowerCase(),r=e.listeners;return r.ev_listen_all&&r.ev_listen_all.apply(this,[t].concat(i)),!r[n]||r[n].apply(this,i)},t.checkEvent=function(t){return!!e.listeners["ev_"+t.toLowerCase()]},t.detachEvent=function(t){if(t){var i=e.listeners;for(var n in i)i[n].removeEvent(t);var r=t.split(":");if(i=e.listeners,2===r.length){var a=r[0],s=r[1];i[a]&&i[a].removeEvent(s)}}},t.detachAllEvents=function(){for(var t in e.listeners)e.listeners[t].clear()}}$.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};var I={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function L(t){return I[t]||I.hour}function O(t,e){if(t.forEach)t.forEach(e);else for(var i=t.slice(),n=0;n<i.length;n++)e(i[n],n)}function R(t,e){if(t.find)return t.find(e);for(var i=0;i<t.length;i++)if(e(t[i],i))return t[i]}function F(t,e){if(t.includes)return t.includes(e);for(var i=0;i<t.length;i++)if(t[i]===e)return!0;return!1}function N(t){return Array.isArray?Array.isArray(t):t&&void 0!==t.length&&t.pop&&t.push}function B(t){return!(!t||"object"!=typeof t||!(t.getFullYear&&t.getMonth&&t.getDate))}function z(t){return B(t)&&!isNaN(t.getTime())}function V(t,e){var i,n=function(){n.$cancelTimeout(),n.$pending=!0;var r=Array.prototype.slice.call(arguments);i=setTimeout((function(){t.apply(this,r),n.$pending=!1}),e)};return n.$pending=!1,n.$cancelTimeout=function(){clearTimeout(i),n.$pending=!1},n.$execute=function(){var e=Array.prototype.slice.call(arguments);t.apply(this,e),n.$cancelTimeout()},n}function H(t,e){return j(t)&&!j(e)&&(t="0"),t}function j(t){return 0===t}function G(t,e){for(var i,n,r,a=0,s=t.length-1;a<=s;)if(n=+t[i=Math.floor((a+s)/2)],r=+t[i-1],n<e)a=i+1;else{if(!(n>e)){for(;+t[i]==+t[i+1];)i++;return i}if(!isNaN(r)&&r<e)return i-1;s=i-1}return t.length-1}class W{constructor(t,e,i){var n;this._el=document.createElement("div"),this.defaultRender=(t,e)=>{this._el||(this._el=document.createElement("div"));const i=this._el,n=Math.min(t.relative.top,e.relative.top),r=Math.max(t.relative.top,e.relative.top),a=Math.min(t.relative.left,e.relative.left),s=Math.max(t.relative.left,e.relative.left);if(this._singleRow){const t=this._getTaskPositionByTop(this._startPoint.relative.top);i.style.height=t.height+"px",i.style.top=t.top+"px"}else i.style.height=Math.abs(r-n)+"px",i.style.top=n+"px";return i.style.width=Math.abs(s-a)+"px",i.style.left=a+"px",i},this._gantt=e,this._view=i,this._viewPort=t.viewPort,this._el.classList.add(t.className),"function"==typeof t.callback&&(this._callback=t.callback),this.render=()=>{let e;e=t.render?t.render(this._startPoint,this._endPoint):this.defaultRender(this._startPoint,this._endPoint),e!==this._el&&(this._el&&this._el.parentNode&&this._el.parentNode.removeChild(this._el),this._el=e),""!==t.className&&this._el.classList.add(t.className),this.draw()},(n=this._viewPort).attachEvent&&n.detachEvent||D(this._viewPort),this._singleRow=t.singleRow,this._useRequestAnimationFrame=t.useRequestAnimationFrame}draw(){if(this._useRequestAnimationFrame)return requestAnimationFrame((()=>{this._viewPort.appendChild(this.getElement())}));this._viewPort.appendChild(this.getElement())}clear(){if(this._useRequestAnimationFrame)return requestAnimationFrame((()=>{this._el.parentNode&&this._viewPort.removeChild(this._el)}));this._el.parentNode&&this._viewPort.removeChild(this._el)}getElement(){return this._el}getViewPort(){return this._viewPort}setStart(t){const e=this._gantt;this._startPoint=t,this._startDate=e.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])}setEnd(t){const e=this._gantt;if(this._endPoint=t,this._singleRow){const t=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=t.top}this._endDate=e.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])}setPosition(t){this._positionPoint=t}dragEnd(t){const e=this._gantt;t.relative.left<0&&(t.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,t]),this.setEnd(t),this._endDate=this._endDate||e.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&([this._startDate,this._endDate]=[this._endDate,this._startDate]),this.clear();const i=e.getTaskByTime(this._startDate,this._endDate),n=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,i,n)}getInBounds(){return this._singleRow}_getTasksByTop(t,e){const i=this._gantt;let n=t,r=e;t>e&&(n=e,r=t);const a=this._getTaskPositionByTop(n).index,s=this._getTaskPositionByTop(r).index,o=[];for(let t=a;t<=s;t++)i.getTaskByIndex(t)&&o.push(i.getTaskByIndex(t));return o}_getTaskPositionByTop(t){const e=this._gantt,i=this._view,n=i.getItemIndexByTopPosition(t),r=e.getTaskByIndex(n);if(r){const t=i.getItemHeight(r.id);return{top:i.getItemTop(r.id)||0,height:t||0,index:n}}{const n=i.getTotalHeight();return{top:t>n?n:0,height:e.config.row_height,index:t>n?e.getTaskCount():0}}}}let q=!1;class U{constructor(t){this._mouseDown=!1,this._calculateDirectionVector=()=>{if(this._trace.length>=10){const t=this._trace.slice(this._trace.length-10),e=[];for(let i=1;i<t.length;i++)e.push({x:t[i].x-t[i-1].x,y:t[i].y-t[i-1].y});const i={x:0,y:0};return e.forEach((t=>{i.x+=t.x,i.y+=t.y})),{magnitude:Math.sqrt(i.x*i.x+i.y*i.y),angleDegrees:180*Math.atan2(Math.abs(i.y),Math.abs(i.x))/Math.PI}}return null},this._applyDndReadyStyles=()=>{this._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=()=>{this._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=t=>{const e=this._gantt;return{x:e.$ui.getView(t.$config.scrollX).getScrollState().position,y:e.$ui.getView(t.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=t=>{const e=this._calculateDirectionVector();let i=this._startPoint.x-t.x,n=this._startPoint.y-t.y;return e&&(e.angleDegrees<15?n=0:e.angleDegrees>75&&(i=0)),{x:this._scrollState.x+i,y:this._scrollState.y+n}},this._setScrollPosition=(t,e)=>{const i=this._gantt;requestAnimationFrame((()=>{i.scrollLayoutCell(t.$id,e.x,e.y)}))},this._stopDrag=t=>{const e=this._gantt;if(this._trace=[],e.$root.classList.remove("gantt_noselect"),void 0!==this._originalReadonly&&this._mouseDown&&(e.config.readonly=this._originalReadonly,e.config.drag_timeline&&e.config.drag_timeline.render&&e.render()),void 0!==this._originAutoscroll&&(e.config.autoscroll=this._originAutoscroll),e.config.drag_timeline){const{useKey:i}=e.config.drag_timeline;if(i&&!0!==t[i])return}this._mouseDown=!1,q=!1},this._startDrag=t=>{const e=this._gantt;this._originAutoscroll=e.config.autoscroll,e.config.autoscroll=!1,q=!0,e.$root.classList.add("gantt_noselect"),this._originalReadonly=e.config.readonly,e.config.readonly=!0,e.config.drag_timeline&&e.config.drag_timeline.render&&e.render(),this._trace=[],this._mouseDown=!0;const{x:i,y:n}=this._getScrollPosition(this._timeline);this._scrollState={x:i,y:n},this._startPoint={x:t.clientX,y:t.clientY},this._trace.push(this._startPoint)},this._gantt=t,this._domEvents=t._createDomEventScope(),this._trace=[]}static create(t){return new U(t)}static _isDragInProgress(){return q}destructor(){this._domEvents.detachAll()}attach(t){this._timeline=t;const e=this._gantt;this._domEvents.attach(t.$task,"mousedown",(t=>{if(!e.config.drag_timeline)return;const{useKey:i,ignore:n,enabled:r}=e.config.drag_timeline;if(!1===r)return;let a=".gantt_task_line, .gantt_task_link";void 0!==n&&(a=n instanceof Array?n.join(", "):n),a&&e.utils.dom.closest(t.target,a)||i&&!0!==t[i]||this._startDrag(t)})),this._domEvents.attach(document,"keydown",(t=>{if(!e.config.drag_timeline)return;const{useKey:i}=e.config.drag_timeline;i&&!0===t[i]&&this._applyDndReadyStyles()})),this._domEvents.attach(document,"keyup",(t=>{if(!e.config.drag_timeline)return;const{useKey:i}=e.config.drag_timeline;i&&!1===t[i]&&(this._clearDndReadyStyles(),this._stopDrag(t))})),this._domEvents.attach(document,"mouseup",(t=>{this._stopDrag(t)})),this._domEvents.attach(e.$root,"mouseup",(t=>{this._stopDrag(t)})),this._domEvents.attach(document,"mouseleave",(t=>{this._stopDrag(t)})),this._domEvents.attach(e.$root,"mouseleave",(t=>{this._stopDrag(t)})),this._domEvents.attach(e.$root,"mousemove",(i=>{if(!e.config.drag_timeline)return;const{useKey:n}=e.config.drag_timeline;if(n&&!0!==i[n])return;const r=this._gantt.ext.clickDrag,a=(this._gantt.config.click_drag||{}).useKey;if((!r||!a||n||!i[a])&&!0===this._mouseDown){this._trace.push({x:i.clientX,y:i.clientY});const e=this._countNewScrollPosition({x:i.clientX,y:i.clientY});this._setScrollPosition(t,e),this._scrollState=e,this._startPoint={x:i.clientX,y:i.clientY}}}))}}class Y{constructor(t){this.show=(t,e)=>{void 0===e?this._showForTask(t):this._showAtCoordinates(t,e)},this.hide=t=>{const e=this._gantt,i=this._quickInfoBox;this._quickInfoBoxId=0;const n=this._quickInfoTask;if(this._quickInfoTask=null,i&&i.parentNode){if(e.config.quick_info_detached)return e.callEvent("onAfterQuickInfo",[n]),i.parentNode.removeChild(i);i.className+=" gantt_qi_hidden","auto"===i.style.right?i.style.left="-350px":i.style.right="-350px",t&&(i.style.left=i.style.right="",i.parentNode.removeChild(i)),e.callEvent("onAfterQuickInfo",[n])}},this.getNode=()=>this._quickInfoBox?this._quickInfoBox:null,this.setContainer=t=>{t&&(this._container="string"==typeof t?document.getElementById(t):t)},this.setContent=t=>{const e=this._gantt,i={taskId:null,header:{title:"",date:""},content:"",buttons:e.config.quickinfo_buttons};t||(t=i),t.taskId||(t.taskId=i.taskId),t.header||(t.header=i.header),t.header.title||(t.header.title=i.header.title),t.header.date||(t.header.date=i.header.date),t.content||(t.content=i.content),t.buttons||(t.buttons=i.buttons);let n=this.getNode();n||(n=this._createQuickInfoElement()),t.taskId&&(this._quickInfoBoxId=t.taskId);const r=n.querySelector(".gantt_cal_qi_title"),a=r.querySelector(".gantt_cal_qi_tcontent"),s=r.querySelector(".gantt_cal_qi_tdate"),o=n.querySelector(".gantt_cal_qi_content"),l=n.querySelector(".gantt_cal_qi_controls");e._waiAria.quickInfoHeader(n,[t.header.title,t.header.date].join(" ")),a.innerHTML=t.header.title,s.innerHTML=t.header.date,t.header.title||t.header.date?r.style.display="":r.style.display="none",o.innerHTML=t.content;const c=t.buttons;c.length?l.style.display="":l.style.display="none";let d="";for(let t=0;t<c.length;t++){const i=e._waiAria.quickInfoButtonAttrString(e.locale.labels[c[t]]);d+=`<div class="gantt_qi_big_icon ${c[t]} dhx_gantt_${c[t]}" title="${e.locale.labels[c[t]]}" ${i}>\n            <div class='dhx_menu_icon dhx_gantt_icon ${c[t]} gantt_menu_icon dhx_gantt_${c[t]}'></div>\n            <div>${e.locale.labels[c[t]]}</div>\n         </div>`}l.innerHTML=d,e.eventRemove(n,"click",this._qiButtonClickHandler),e.eventRemove(n,"keypress",this._qiKeyPressHandler),e.event(n,"click",this._qiButtonClickHandler),e.event(n,"keypress",this._qiKeyPressHandler)},this._qiButtonClickHandler=t=>{this._qi_button_click(t.target)},this._qiKeyPressHandler=t=>{const e=t.which;13!==e&&32!==e||setTimeout((()=>{this._qi_button_click(t.target)}),1)},this._gantt=t}_showAtCoordinates(t,e){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(t,e),this._gantt.callEvent("onQuickInfo",[null])}_showForTask(t){const e=this._gantt;if(t===this._quickInfoBoxId&&e.utils.dom.isChildOf(this._quickInfoBox,document.body)||!e.config.show_quick_info)return;this.hide(!0);const i=this._getContainer(),n=this._get_event_counter_part(t,6,i.xViewport,i.yViewport);n&&(this._quickInfoBox=this._init_quick_info(t),this._quickInfoTask=t,this._quickInfoBox.className=this._prepare_quick_info_classname(t),this._fill_quick_data(t),this._show_quick_info(n,6),e.callEvent("onQuickInfo",[t]))}_get_event_counter_part(t,e,i,n){const r=this._gantt;let a=r.getTaskNode(t);if(!a&&(a=r.getTaskRowNode(t),!a))return null;let s=0;const o=e+a.offsetTop+a.offsetHeight;let l=a;if(r.utils.dom.isChildOf(l,i))for(;l&&l!==i;)s+=l.offsetLeft,l=l.offsetParent;const c=r.getScrollState();return l?{left:s,top:o,dx:s+a.offsetWidth/2-c.x>i.offsetWidth/2?1:0,dy:o+a.offsetHeight/2-c.y>n.offsetHeight/2?1:0,width:a.offsetWidth,height:a.offsetHeight}:null}_createQuickInfoElement(){const t=this._gantt,e=document.createElement("div");e.className+="gantt_cal_quick_info",t._waiAria.quickInfoAttr(e);var i=`\n\t\t<div class="gantt_cal_qi_tcontrols">\n\t\t\t<a class="gantt_cal_qi_close_btn dhx_gantt_icon dhx_gantt_icon_close"></a>\n\t\t</div>\n\t\t<div class="gantt_cal_qi_title" ${t._waiAria.quickInfoHeaderAttrString()}>\n\t\t\t\t\n\t\t\t\t<div class="gantt_cal_qi_tcontent"></div>\n\t\t\t\t<div class="gantt_cal_qi_tdate"></div>\n\t\t\t</div>\n\t\t\t<div class="gantt_cal_qi_content"></div>`;if(i+='<div class="gantt_cal_qi_controls">',i+="</div>",e.innerHTML=i,t.config.quick_info_detached){const e=this._getContainer();t.event(e.parent,"scroll",(()=>{this.hide()}))}return this._quickInfoBox=e,e}_init_quick_info(t){const e=this._gantt,i=e.getTask(t);return"boolean"==typeof this._quickInfoReadonly&&e.isReadonly(i)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=e.isReadonly(i),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox}_prepare_quick_info_classname(t){const e=this._gantt,i=e.getTask(t);let n=`gantt_cal_quick_info gantt_${e.getTaskType(i)}`;const r=e.templates.quick_info_class(i.start_date,i.end_date,i);return r&&(n+=" "+r),n}_fill_quick_data(t){const e=this._gantt,i=e.getTask(t);this._quickInfoBoxId=t;let n=[];if(this._quickInfoReadonly){const t=e.config.quickinfo_buttons,i={icon_delete:!0,icon_edit:!0};for(let e=0;e<t.length;e++)this._quickInfoReadonly&&i[t[e]]||n.push(t[e])}else n=e.config.quickinfo_buttons;this.setContent({header:{title:e.templates.quick_info_title(i.start_date,i.end_date,i),date:e.templates.quick_info_date(i.start_date,i.end_date,i)},content:e.templates.quick_info_content(i.start_date,i.end_date,i),buttons:n})}_appendAtCoordinates(t,e){const i=this._quickInfoBox,n=this._getContainer();i.parentNode&&"#document-fragment"!==i.parentNode.nodeName.toLowerCase()||n.parent.appendChild(i),i.style.left=t+"px",i.style.top=e+"px"}_show_quick_info(t,e){const i=this._gantt,n=this._quickInfoBox;if(i.config.quick_info_detached){const r=this._getContainer();n.parentNode&&"#document-fragment"!==n.parentNode.nodeName.toLowerCase()||r.parent.appendChild(n);const a=n.offsetWidth,s=n.offsetHeight,o=i.getScrollState(),l=r.xViewport,c=r.yViewport,d=l.offsetWidth+o.x-a,h=t.top-o.y+s;let u=t.top;h>c.offsetHeight/2&&(u=t.top-(s+t.height+2*e),u<o.y&&h<=c.offsetHeight&&(u=t.top)),u<o.y&&(u=o.y);const f=Math.min(Math.max(o.x,t.left-t.dx*(a-t.width)),d),p=u;this._appendAtCoordinates(f,p)}else n.style.top="20px",1===t.dx?(n.style.right="auto",n.style.left="-300px",setTimeout((()=>{n.style.left="10px"}),1)):(n.style.left="auto",n.style.right="-300px",setTimeout((()=>{n.style.right="10px"}),1)),n.className+=" gantt_qi_"+(1===t.dx?"left":"right"),i.$root.appendChild(n)}_qi_button_click(t){const e=this._gantt,i=this._quickInfoBox;if(!t||t===i)return;if(t.closest(".gantt_cal_qi_close_btn"))return void this.hide();const n=t.className;if(-1!==n.indexOf("_icon")){const t=this._quickInfoBoxId;e.$click.buttons[n.split(" ")[1].replace("icon_","")](t)}else this._qi_button_click(t.parentNode)}_getContainer(){const t=this._gantt;let e=this._container?this._container:t.$task_data;return e&&e.offsetHeight&&e.offsetWidth?{parent:e,xViewport:t.$task,yViewport:t.$task_data}:(e=this._container?this._container:t.$grid_data,e&&e.offsetHeight&&e.offsetWidth?{parent:e,xViewport:t.$grid,yViewport:t.$grid_data}:{parent:this._container?this._container:t.$layout,xViewport:t.$layout,yViewport:t.$layout})}}var X,K={}.constructor.toString();function J(t){var e,i;if(t&&"object"==typeof t)switch(!0){case B(t):i=new Date(t);break;case N(t):for(i=new Array(t.length),e=0;e<t.length;e++)i[e]=J(t[e]);break;default:if(t.constructor.toString()!==K)i=Object.create(t);else{if(function(t){return t.$$typeof&&t.$$typeof.toString().includes("react.")}(t))return t;i={}}for(e in t)Object.prototype.hasOwnProperty.apply(t,[e])&&(i[e]=J(t[e]))}return i||t}function Z(t,e,i){for(var n in e)(void 0===t[n]||i)&&(t[n]=e[n]);return t}function Q(t){return void 0!==t}function tt(){return X||(X=(new Date).valueOf()),++X}function et(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}}function it(t,e,i,n){t.addEventListener?t.addEventListener(e,i,void 0!==n&&n):t.attachEvent&&t.attachEvent("on"+e,i)}function nt(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,void 0!==n&&n):t.detachEvent&&t.detachEvent("on"+e,i)}const rt=Object.freeze(Object.defineProperty({__proto__:null,bind:et,copy:J,defined:Q,event:it,eventRemove:nt,mixin:Z,uid:tt},Symbol.toStringTag,{value:"Module"}));function at(t,e){t=t||it,e=e||nt;var i=[],n={attach:function(e,n,r,a){i.push({element:e,event:n,callback:r,capture:a}),t(e,n,r,a)},detach:function(t,n,r,a){e(t,n,r,a);for(var s=0;s<i.length;s++){var o=i[s];o.element===t&&o.event===n&&o.callback===r&&o.capture===a&&(i.splice(s,1),s--)}},detachAll:function(){for(var t=i.slice(),e=0;e<t.length;e++){var r=t[e];n.detach(r.element,r.event,r.callback,r.capture),n.detach(r.element,r.event,r.callback,void 0),n.detach(r.element,r.event,r.callback,!1),n.detach(r.element,r.event,r.callback,!0)}i.splice(0,i.length)},extend:function(){return at(this.event,this.eventRemove)}};return n}class st{constructor(t){this._gantt=t}getNode(){const t=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",t._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode}setViewport(t){return this._root=t,this}show(t,e){const i=this._gantt,n=document.body,r=this.getNode();if(x(r,n)||(this.hide(),r.style.top=r.style.top||"0px",r.style.left=r.style.left||"0px",n.appendChild(r)),this._isLikeMouseEvent(t)){const i=this._calculateTooltipPosition(t);e=i.top,t=i.left}return r.style.top=e+"px",r.style.left=t+"px",i._waiAria.tooltipVisibleAttr(r),this}hide(){const t=this._gantt,e=this.getNode();return e&&e.parentNode&&e.parentNode.removeChild(e),t._waiAria.tooltipHiddenAttr(e),this}setContent(t){return this.getNode().innerHTML=t,this}_isLikeMouseEvent(t){return!(!t||"object"!=typeof t)&&"clientX"in t&&"clientY"in t}_getViewPort(){return this._root||document.body}_calculateTooltipPosition(t){const i=this._gantt,n=this._getViewPortSize(),r=this.getNode(),a={top:0,left:0,width:r.offsetWidth,height:r.offsetHeight,bottom:0,right:0},s=i.config.tooltip_offset_x,o=i.config.tooltip_offset_y,l=document.body,c=b(t,l),d=e(l);c.y+=d.y,a.top=c.y,a.left=c.x,a.top+=o,a.left+=s,a.bottom=a.top+a.height,a.right=a.left+a.width;const h=window.scrollY+l.scrollTop;return a.top<n.top-h?(a.top=n.top,a.bottom=a.top+a.height):a.bottom>n.bottom&&(a.bottom=n.bottom,a.top=a.bottom-a.height),a.left<n.left?(a.left=n.left,a.right=n.left+a.width):a.right>n.right&&(a.right=n.right,a.left=a.right-a.width),c.x>=a.left&&c.x<=a.right&&(a.left=c.x-a.width-s,a.right=a.left+a.width),c.y>=a.top&&c.y<=a.bottom&&(a.top=c.y-a.height-o,a.bottom=a.top+a.height),a}_getViewPortSize(){const t=this._gantt,i=this._getViewPort();let n,r=i,a=window.scrollY+document.body.scrollTop,s=window.scrollX+document.body.scrollLeft;return i===t.$task_data?(r=t.$task,a=0,s=0,n=e(t.$task)):n=e(r),{left:n.x+s,top:n.y+a,width:n.width,height:n.height,bottom:n.y+n.height+a,right:n.x+n.width+s}}}class ot{constructor(t){this._listeners={},this.tooltip=new st(t),this._gantt=t,this._domEvents=at(),this._initDelayedFunctions()}destructor(){this.tooltip.hide(),this._domEvents.detachAll()}hideTooltip(){this.delayHide()}attach(t){let e=document.body;const i=this._gantt;t.global||(e=i.$root);let n=null;const r=e=>{const i=m(e),r=w(i,t.selector);if(x(i,this.tooltip.getNode()))return;const a=()=>{n=r,t.onmouseenter(e,r)};n?r&&r===n?t.onmousemove(e,r):(t.onmouseleave(e,n),n=null,r&&r!==n&&a()):r&&a()};this.detach(t.selector),this._domEvents.attach(e,"mousemove",r),this._listeners[t.selector]={node:e,handler:r}}detach(t){const e=this._listeners[t];e&&this._domEvents.detach(e.node,"mousemove",e.handler)}tooltipFor(t){const e=t=>{let e=t;return document.createEventObject&&!document.createEvent&&(e=document.createEventObject(t)),e};this._initDelayedFunctions(),this.attach({selector:t.selector,global:t.global,onmouseenter:(i,n)=>{const r=t.html(i,n);r&&this.delayShow(e(i),r)},onmousemove:(i,n)=>{const r=t.html(i,n);r?this.delayShow(e(i),r):(this.delayShow.$cancelTimeout(),this.delayHide())},onmouseleave:()=>{this.delayShow.$cancelTimeout(),this.delayHide()}})}_initDelayedFunctions(){const t=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=V(((e,i)=>{!1===t.callEvent("onBeforeTooltip",[e])?this.tooltip.hide():(this.tooltip.setContent(i),this.tooltip.show(e))}),t.config.tooltip_timeout||1),this.delayHide=V((()=>{this.delayShow.$cancelTimeout(),this.tooltip.hide()}),t.config.tooltip_hide_timeout||1)}}const lt={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},ct=["onTaskDragStart","onAfterTaskUpdate","onAfterParentExpand","onAfterTaskDelete","onBeforeBatchUpdate"];class dt{constructor(t,e){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=t,this._gantt=e,this._attachEvents()}store(t,e,i=!1){return e===this._gantt.config.undo_types.task?this._storeTask(t,i):e===this._gantt.config.undo_types.link&&this._storeLink(t,i)}isMoveEventsIgnored(){return this._ignoreMoveEvents}toggleIgnoreMoveEvents(t){this._ignoreMoveEvents=t||!1}startIgnore(){this._ignore=!0}stopIgnore(){this._ignore=!1}startBatchAction(){this._timeout||(this._timeout=setTimeout((()=>{this.stopBatchAction(),this._timeout=null}),10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())}stopBatchAction(){if(this._ignore)return;const t=this._undo;this._batchAction&&t.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null}onTaskAdded(t){this._ignore||this._storeTaskCommand(t,this._undo.command.type.add)}onTaskUpdated(t){this._ignore||this._storeTaskCommand(t,this._undo.command.type.update)}onTaskMoved(t){this._ignore||(t.$local_index=this._gantt.getTaskIndex(t.id),this._storeEntityCommand(t,this.getInitialTask(t.id),this._undo.command.type.move,this._undo.command.entity.task))}onTaskDeleted(t){if(!this._ignore){if(this._storeTaskCommand(t,this._undo.command.type.remove),this._nestedTasks[t.id]){const e=this._nestedTasks[t.id];for(let t=0;t<e.length;t++)this._storeTaskCommand(e[t],this._undo.command.type.remove)}if(this._nestedLinks[t.id]){const e=this._nestedLinks[t.id];for(let t=0;t<e.length;t++)this._storeLinkCommand(e[t],this._undo.command.type.remove)}}}onLinkAdded(t){this._ignore||this._storeLinkCommand(t,this._undo.command.type.add)}onLinkUpdated(t){this._ignore||this._storeLinkCommand(t,this._undo.command.type.update)}onLinkDeleted(t){this._ignore||this._storeLinkCommand(t,this._undo.command.type.remove)}setNestedTasks(t,e){const i=this._gantt;let n=null;const r=[];let a=this._getLinks(i.getTask(t));for(let t=0;t<e.length;t++)n=this.setInitialTask(e[t]),a=a.concat(this._getLinks(n)),r.push(n);const s={};for(let t=0;t<a.length;t++)s[a[t]]=!0;const o=[];for(const t in s)o.push(this.setInitialLink(t));this._nestedTasks[t]=r,this._nestedLinks[t]=o}setInitialTask(t,e){const i=this._gantt;if(e||!this._initialTasks[t]||!this._batchMode){const e=i.copy(i.getTask(t));e.$index=i.getGlobalTaskIndex(t),e.$local_index=i.getTaskIndex(t),this.setInitialTaskObject(t,e)}return this._initialTasks[t]}getInitialTask(t){return this._initialTasks[t]}clearInitialTasks(){this._initialTasks={}}setInitialTaskObject(t,e){this._initialTasks[t]=e}setInitialLink(t,e){return this._initialLinks[t]&&this._batchMode||(this._initialLinks[t]=this._gantt.copy(this._gantt.getLink(t))),this._initialLinks[t]}getInitialLink(t){return this._initialLinks[t]}clearInitialLinks(){this._initialLinks={}}_attachEvents(){let t=null;const e=this._gantt,i=()=>{t||(t=setTimeout((()=>{t=null})),this.clearInitialTasks(),e.eachTask((t=>{this.setInitialTask(t.id)})),this.clearInitialLinks(),e.getLinks().forEach((t=>{this.setInitialLink(t.id)})))},n=t=>e.copy(e.getTask(t));for(const t in lt)e.attachEvent(t,(()=>(this.startIgnore(),!0))),e.attachEvent(lt[t],(()=>(this.stopIgnore(),!0)));for(let t=0;t<ct.length;t++)e.attachEvent(ct[t],(()=>(this.startBatchAction(),!0)));e.attachEvent("onParse",(()=>{this._undo.clearUndoStack(),this._undo.clearRedoStack(),i()})),e.attachEvent("onAfterTaskAdd",((t,e)=>{this.setInitialTask(t,!0),this.onTaskAdded(e)})),e.attachEvent("onAfterTaskUpdate",((t,e)=>{this.onTaskUpdated(e)})),e.attachEvent("onAfterParentExpand",((t,e)=>{this.onTaskUpdated(e)})),e.attachEvent("onAfterTaskDelete",((t,e)=>{this.onTaskDeleted(e)})),e.attachEvent("onAfterLinkAdd",((t,e)=>{this.setInitialLink(t,!0),this.onLinkAdded(e)})),e.attachEvent("onAfterLinkUpdate",((t,e)=>{this.onLinkUpdated(e)})),e.attachEvent("onAfterLinkDelete",((t,e)=>{this.onLinkDeleted(e)})),e.attachEvent("onRowDragEnd",((t,e)=>(this.onTaskMoved(n(t)),this.toggleIgnoreMoveEvents(),!0))),e.attachEvent("onBeforeTaskDelete",(t=>{this.store(t,e.config.undo_types.task);const n=[];return i(),e.eachTask((t=>{n.push(t.id)}),t),this.setNestedTasks(t,n),!0}));const r=e.getDatastore("task");r.attachEvent("onBeforeItemMove",((t,e,n)=>(this.isMoveEventsIgnored()||i(),!0))),r.attachEvent("onAfterItemMove",((t,e,i)=>(this.isMoveEventsIgnored()||this.onTaskMoved(n(t)),!0))),e.attachEvent("onRowDragStart",((t,e,n)=>(this.toggleIgnoreMoveEvents(!0),i(),!0)));let a=null,s=!1;if(e.attachEvent("onBeforeTaskDrag",(t=>{if(a=e.getState().drag_id,a===t){const i=e.getTask(t);e.isSummaryTask(i)&&e.config.drag_project&&(s=!0)}if(e.plugins().multiselect){const t=e.getSelectedTasks();t.length>1&&t.forEach((t=>{this.store(t,e.config.undo_types.task,!0)}))}return this.store(t,e.config.undo_types.task)})),e.attachEvent("onAfterTaskDrag",(t=>{(s||e.plugins().multiselect&&e.getSelectedTasks().length>1)&&a===t&&(s=!1,a=null,this.stopBatchAction()),this.store(t,e.config.undo_types.task,!0)})),e.attachEvent("onLightbox",(t=>this.store(t,e.config.undo_types.task))),e.attachEvent("onBeforeTaskAutoSchedule",(t=>(this.store(t.id,e.config.undo_types.task,!0),!0))),e.ext.inlineEditors){let t=null,i=null;e.attachEvent("onGanttLayoutReady",(()=>{t&&e.ext.inlineEditors.detachEvent(t),i&&e.ext.inlineEditors.detachEvent(i),i=e.ext.inlineEditors.attachEvent("onEditStart",(t=>{this.store(t.id,e.config.undo_types.task)})),t=e.ext.inlineEditors.attachEvent("onBeforeEditStart",(t=>(this.stopBatchAction(),!0)))}))}}_storeCommand(t){const e=this._undo;if(e.updateConfigs(),e.undoEnabled)if(this._batchMode)this._batchAction.commands.push(t);else{const i=e.action.create([t]);e.logAction(i)}}_storeEntityCommand(t,e,i,n){const r=this._undo.command.create(t,e,i,n);this._storeCommand(r)}_storeTaskCommand(t,e){this._gantt.isTaskExists(t.id)&&(t.$local_index=this._gantt.getTaskIndex(t.id)),this._storeEntityCommand(t,this.getInitialTask(t.id),e,this._undo.command.entity.task)}_storeLinkCommand(t,e){this._storeEntityCommand(t,this.getInitialLink(t.id),e,this._undo.command.entity.link)}_getLinks(t){return t.$source.concat(t.$target)}_storeTask(t,e=!1){const i=this._gantt;return this.setInitialTask(t,e),i.eachTask((t=>{this.setInitialTask(t.id)}),t),!0}_storeLink(t,e=!1){return this.setInitialLink(t,e),!0}}class ht{constructor(t){this.maxSteps=100,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:t=>({commands:t?t.slice():[]}),invert:t=>{const e=this._gantt.copy(t),i=this.command;for(let n=0;n<t.commands.length;n++){const t=e.commands[n]=i.invert(e.commands[n]);t.type!==i.type.update&&t.type!==i.type.move||([t.value,t.oldValue]=[t.oldValue,t.value])}return e}},this.command={entity:null,type:null,create:(t,e,i,n)=>{const r=this._gantt;return{entity:n,type:i,value:r.copy(t),oldValue:r.copy(e||t)}},invert:t=>{const e=this._gantt.copy(t);return e.type=this.command.inverseCommands(t.type),e},inverseCommands:t=>{const e=this._gantt,i=this.command.type;switch(t){case i.update:return i.update;case i.remove:return i.add;case i.add:return i.remove;case i.move:return i.move;default:return e.assert(!1,"Invalid command "+t),null}}},this._undoStack=[],this._redoStack=[],this._gantt=t}getUndoStack(){return this._undoStack}setUndoStack(t){this._undoStack=t}getRedoStack(){return this._redoStack}setRedoStack(t){this._redoStack=t}clearUndoStack(){this._undoStack=[]}clearRedoStack(){this._redoStack=[]}updateConfigs(){const t=this._gantt;this.maxSteps=t.config.undo_steps||100,this.command.entity=t.config.undo_types,this.command.type=t.config.undo_actions,this.undoEnabled=!!t.config.undo,this.redoEnabled=!!t.config.redo}undo(){const t=this._gantt;if(this.updateConfigs(),!this.undoEnabled)return;const e=this._pop(this._undoStack);if(e&&this._reorderCommands(e),!1!==t.callEvent("onBeforeUndo",[e])&&e)return this._applyAction(this.action.invert(e)),this._push(this._redoStack,t.copy(e)),void t.callEvent("onAfterUndo",[e]);t.callEvent("onAfterUndo",[null])}redo(){const t=this._gantt;if(this.updateConfigs(),!this.redoEnabled)return;const e=this._pop(this._redoStack);if(e&&this._reorderCommands(e),!1!==t.callEvent("onBeforeRedo",[e])&&e)return this._applyAction(e),this._push(this._undoStack,t.copy(e)),void t.callEvent("onAfterRedo",[e]);t.callEvent("onAfterRedo",[null])}logAction(t){this._push(this._undoStack,t),this._redoStack=[]}_push(t,e){const i=this._gantt;if(!e.commands.length)return;const n=t===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack";if(!1!==i.callEvent(n,[e])&&e.commands.length){for(t.push(e);t.length>this.maxSteps;)t.shift();return e}}_pop(t){return t.pop()}_reorderCommands(t){const e={any:0,link:1,task:2},i={move:1,any:0};t.commands.sort((function(t,n){if("task"===t.entity&&"task"===n.entity)return t.type!==n.type?(i[n.type]||0)-(i[t.type]||0):"move"===t.type&&t.oldValue&&n.oldValue&&n.oldValue.parent===t.oldValue.parent?t.oldValue.$index-n.oldValue.$index:0;{const i=e[t.entity]||e.any;return(e[n.entity]||e.any)-i}}))}_applyAction(t){let e=null;const i=this.command.entity,n=this.command.type,r=this._gantt,a={};a[i.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},a[i.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},r.batchUpdate((function(){for(let i=0;i<t.commands.length;i++){e=t.commands[i];const s=a[e.entity][e.type],o=a[e.entity].get,l=a[e.entity].isExists;if(e.type===n.add)r[s](e.oldValue,e.oldValue.parent,e.oldValue.$local_index);else if(e.type===n.remove)r[l](e.value.id)&&r[s](e.value.id);else if(e.type===n.update){const t=r[o](e.value.id);for(const i in e.value){let n=!(i.startsWith("$")||i.startsWith("_"));["$open"].indexOf(i)>-1&&(n=!0),n&&(t[i]=e.value[i])}r[s](e.value.id)}else e.type===n.move&&(r[s](e.value.id,e.value.$local_index,e.value.parent),r.callEvent("onRowDragEnd",[e.value.id]))}}))}}const ut={click_drag:function(t){t.ext||(t.ext={});const e={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1};function i(){const i={viewPort:t.$task_data,...e};t.ext.clickDrag&&t.ext.clickDrag.destructor(),t.ext.clickDrag=new A(t);const n=t.config.click_drag;i.render=n.render||e.render,i.className=n.className||e.className,i.callback=n.callback||e.callback,i.viewPort=n.viewPort||t.$task_data,i.useRequestAnimationFrame=void 0===n.useRequestAnimationFrame?e.useRequestAnimationFrame:n.useRequestAnimationFrame,i.singleRow=void 0===n.singleRow?e.singleRow:n.singleRow;const r=t.$ui.getView("timeline"),a=new W(i,t,r);t.ext.clickDrag.attach(a,n.useKey,n.ignore)}t.attachEvent("onGanttReady",(()=>{t.config.click_drag&&i()})),t.attachEvent("onGanttLayoutReady",(function(){t.$container&&t.config.click_drag&&t.attachEvent("onGanttRender",(function(){i()}),{once:!0})})),t.attachEvent("onDestroy",(()=>{t.ext.clickDrag&&t.ext.clickDrag.destructor()}))},drag_timeline:function(t){t.ext||(t.ext={}),t.ext.dragTimeline={create:()=>U.create(t),_isDragInProgress:()=>U._isDragInProgress},t.config.drag_timeline={enabled:!0,render:!1}},fullscreen:function(t){function e(){const t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!t||t!==document.body)}function i(){try{return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}catch(t){console.error("Fullscreen is not available:",t)}}t.$services.getService("state").registerProvider("fullscreen",(()=>i()?{fullscreen:e()}:void 0));let n={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null};const r={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1};let a=null;function s(t,e){e.width=t.width,e.height=t.height,e.top=t.top,e.left=t.left,e.position=t.position,e.zIndex=t.zIndex}let o=!1;function l(){if(!t.$container)return;let i;e()?o&&(i="onExpand",function(){const e=t.ext.fullscreen.getFullscreenElement(),i=document.body;s(e.style,r),n={overflow:i.style.overflow,padding:i.style.padding?i.style.padding:null,paddingTop:i.style.paddingTop?i.style.paddingTop:null,paddingRight:i.style.paddingRight?i.style.paddingRight:null,paddingBottom:i.style.paddingBottom?i.style.paddingBottom:null,paddingLeft:i.style.paddingLeft?i.style.paddingLeft:null},i.style.padding&&(i.style.padding="0"),i.style.paddingTop&&(i.style.paddingTop="0"),i.style.paddingRight&&(i.style.paddingRight="0"),i.style.paddingBottom&&(i.style.paddingBottom="0"),i.style.paddingLeft&&(i.style.paddingLeft="0"),i.style.overflow="hidden",e.style.width="100vw",e.style.height="100vh",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex=1,r.modified=!0,a=function(t){let e=t.parentNode;const i=[];for(;e&&e.style;)i.push({element:e,originalPositioning:e.style.position}),e.style.position="static",e=e.parentNode;return i}(e)}()):o&&(o=!1,i="onCollapse",function(){const e=t.ext.fullscreen.getFullscreenElement(),i=document.body;r.modified&&(n.padding&&(i.style.padding=n.padding),n.paddingTop&&(i.style.paddingTop=n.paddingTop),n.paddingRight&&(i.style.paddingRight=n.paddingRight),n.paddingBottom&&(i.style.paddingBottom=n.paddingBottom),n.paddingLeft&&(i.style.paddingLeft=n.paddingLeft),i.style.overflow=n.overflow,n={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},s(r,e.style),r.modified=!1),a.forEach((t=>{t.element.style.position=t.originalPositioning})),a=null}()),setTimeout((()=>{t.render()})),setTimeout((()=>{t.callEvent(i,[t.ext.fullscreen.getFullscreenElement()])}))}function c(){return!t.$container||!t.ext.fullscreen.getFullscreenElement()||!i()&&((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),!0)}t.ext.fullscreen={expand(){if(c()||e()||!t.callEvent("onBeforeExpand",[this.getFullscreenElement()]))return;o=!0;const i=document.body,n=i.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],r=i.msRequestFullscreen||i.mozRequestFullScreen||i.webkitRequestFullscreen||i.requestFullscreen;r&&r.apply(i,n)},collapse(){if(c()||!e()||!t.callEvent("onBeforeCollapse",[this.getFullscreenElement()]))return;const i=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;i&&i.apply(document)},toggle(){c()||(e()?this.collapse():this.expand())},getFullscreenElement:()=>t.$root},t.expand=function(){t.ext.fullscreen.expand()},t.collapse=function(){t.ext.fullscreen.collapse()},t.attachEvent("onGanttReady",(function(){t.event(document,"webkitfullscreenchange",l),t.event(document,"mozfullscreenchange",l),t.event(document,"MSFullscreenChange",l),t.event(document,"fullscreenChange",l),t.event(document,"fullscreenchange",l)}))},keyboard_navigation:function(t){var e,i;(i=t).config.keyboard_navigation=!0,i.config.keyboard_navigation_cells=!1,i.$keyboardNavigation={},i._compose=function(){for(var t=Array.prototype.slice.call(arguments,0),e={},i=0;i<t.length;i++){var n=t[i];for(var r in"function"==typeof n&&(n=new n),n)e[r]=n[r]}return e},i.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(t){for(var e=[],i=this.getExpressions(this.trim(t)),n=0;n<i.length;n++){for(var r=this.getWords(i[n]),a=this.createCommand(),s=0;s<r.length;s++)this.commandKeys[r[s]]?a.modifiers[r[s]]=!0:this.specialKeys[r[s]]?a.keyCode=this.specialKeys[r[s]]:a.keyCode=r[s].charCodeAt(0);e.push(a)}return e},getCommandFromEvent:function(t){var e=this.createCommand();e.modifiers.shift=!!t.shiftKey,e.modifiers.alt=!!t.altKey,e.modifiers.ctrl=!!t.ctrlKey,e.modifiers.meta=!!t.metaKey,e.keyCode=t.which||t.keyCode,e.keyCode>=96&&e.keyCode<=105&&(e.keyCode-=48);var i=String.fromCharCode(e.keyCode);return i&&(e.keyCode=i.toLowerCase().charCodeAt(0)),e},getHashFromEvent:function(t){return this.getHash(this.getCommandFromEvent(t))},getHash:function(t){var e=[];for(var i in t.modifiers)t.modifiers[i]&&e.push(i);return e.push(t.keyCode),e.join(this.junctionChar)},getExpressions:function(t){return t.split(this.junctionChar)},getWords:function(t){return t.split(this.combinationChar)},trim:function(t){return t.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}},(e=i).$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(t){this._handlers||(this._handlers={});var i=e.$keyboardNavigation.shortcuts.getHash(t);return this._handlers[i]},doAction:function(t,i){var n=this.findHandler(t);if(n){if(!1===e.$keyboardNavigation.facade.callEvent("onBeforeAction",[t,i]))return;n.call(this,i),i.preventDefault?i.preventDefault():i.returnValue=!1}},bind:function(t,i){this._handlers||(this._handlers={});for(var n=e.$keyboardNavigation.shortcuts,r=n.parse(t),a=0;a<r.length;a++)this._handlers[n.getHash(r[a])]=i},unbind:function(t){for(var i=e.$keyboardNavigation.shortcuts,n=i.parse(t),r=0;r<n.length;r++)this._handlers[i.getHash(n[r])]&&delete this._handlers[i.getHash(n[r])]},bindAll:function(t){for(var e in t)this.bind(e,t[e])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}},function(t){t.$keyboardNavigation.getFocusableNodes=s,t.$keyboardNavigation.trapFocus=function(e,i){if(9!=i.keyCode)return!1;for(var n=t.$keyboardNavigation.getFocusableNodes(e),r=E(),a=-1,s=0;s<n.length;s++)if(n[s]==r){a=s;break}if(i.shiftKey){if(a<=0){var o=n[n.length-1];if(o)return o.focus(),i.preventDefault(),!0}}else if(a>=n.length-1){var l=n[0];if(l)return l.focus(),i.preventDefault(),!0}return!1}}(i),function(t){t.$keyboardNavigation.GanttNode=function(){},t.$keyboardNavigation.GanttNode.prototype=t._compose(t.$keyboardNavigation.EventHandler,{focus:function(){t.focus()},blur:function(){},isEnabled:function(){return t.$container.hasAttribute("tabindex")},scrollHorizontal:function(e){var i=t.dateFromPos(t.getScrollState().x),n=t.getScale(),r=e<0?-n.step:n.step;i=t.date.add(i,r,n.unit),t.scrollTo(t.posFromDate(i))},scrollVertical:function(e){var i=t.getScrollState().y,n=t.config.row_height;t.scrollTo(null,i+(e<0?-1:1)*n)},keys:{"alt+left":function(t){this.scrollHorizontal(-1)},"alt+right":function(t){this.scrollHorizontal(1)},"alt+up":function(t){this.scrollVertical(-1)},"alt+down":function(t){this.scrollVertical(1)},"ctrl+z":function(){t.undo&&t.undo()},"ctrl+r":function(){t.redo&&t.redo()}}}),t.$keyboardNavigation.GanttNode.prototype.bindAll(t.$keyboardNavigation.GanttNode.prototype.keys)}(i),function(t){t.$keyboardNavigation.KeyNavNode=function(){},t.$keyboardNavigation.KeyNavNode.prototype=t._compose(t.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(e){t.$keyboardNavigation.dispatcher.setActiveNode(e)},compareTo:function(t){if(!t)return!1;for(var e in this){if(!!this[e]!=!!t[e])return!1;var i=!(!this[e]||!this[e].toString),n=!(!t[e]||!t[e].toString);if(n!=i)return!1;if(n&&i){if(t[e].toString()!=this[e].toString())return!1}else if(t[e]!=this[e])return!1}return!0},getNode:function(){},focus:function(){var e=this.getNode();if(e){var i=t.$keyboardNavigation.facade;!1!==i.callEvent("onBeforeFocus",[e])&&e&&(e.setAttribute("tabindex","-1"),e.$eventAttached||(e.$eventAttached=!0,t.event(e,"focus",(function(t){return t.preventDefault(),!1}),!1)),t.utils.dom.isChildOf(document.activeElement,e)&&(e=document.activeElement),e.focus&&e.focus(),i.callEvent("onFocus",[this.getNode()]))}},blur:function(){var e=this.getNode();e&&(t.$keyboardNavigation.facade.callEvent("onBlur",[e]),e.setAttribute("tabindex","-1"))}})}(i),function(t){t.$keyboardNavigation.HeaderCell=function(t){this.index=t||0},t.$keyboardNavigation.HeaderCell.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!t.config.show_grid&&t.getVisibleTaskCount()||!t.getGridColumns()[this.index]&&t.getVisibleTaskCount())},fallback:function(){if(!t.config.show_grid)return t.getVisibleTaskCount()?new t.$keyboardNavigation.TaskRow:null;for(var e=t.getGridColumns(),i=this.index;i>=0&&!e[i];)i--;return e[i]?new t.$keyboardNavigation.HeaderCell(i):null},fromDomElement:function(e){var i=y(e,"gantt_grid_head_cell");if(i){for(var n=0;i&&i.previousSibling;)i=i.previousSibling,n+=1;return new t.$keyboardNavigation.HeaderCell(n)}return null},getNode:function(){const e=t.$grid_scale;return e?e.childNodes[this.index]:null},keys:{left:function(){this.index>0&&this.moveTo(new t.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var e=t.getGridColumns();this.index<e.length-1&&this.moveTo(new t.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var e,i=t.getChildren(t.config.root_id);t.isTaskExists(i[0])&&(e=i[0]),e&&(t.config.keyboard_navigation_cells?this.moveTo(new t.$keyboardNavigation.TaskCell(e,this.index)):this.moveTo(new t.$keyboardNavigation.TaskRow(e)))},end:function(){var e=t.getGridColumns();this.moveTo(new t.$keyboardNavigation.HeaderCell(e.length-1))},home:function(){this.moveTo(new t.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){E().click()},"ctrl+enter":function(){t.isReadonly(this)||t.createTask({},this.taskId)}}}),t.$keyboardNavigation.HeaderCell.prototype.bindAll(t.$keyboardNavigation.HeaderCell.prototype.keys)}(i),function(t){t.$keyboardNavigation.TaskRow=function(e){if(!e){var i=t.getChildren(t.config.root_id);i[0]&&(e=i[0])}this.taskId=e,t.isTaskExists(this.taskId)&&(this.index=t.getTaskIndex(this.taskId),this.globalIndex=t.getGlobalTaskIndex(this.taskId),this.splitItem=!!t.getTask(this.taskId).$split_subtask,this.parentId=t.getParent(this.taskId))},t.$keyboardNavigation.TaskRow.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return t.isTaskExists(this.taskId)&&t.getTaskIndex(this.taskId)>-1},fallback:function(){if(!t.getVisibleTaskCount()){var e=new t.$keyboardNavigation.HeaderCell;return e.isValid()?e:null}if(this.splitItem)return new t.$keyboardNavigation.TaskRow(this.parentId);var i=-1;if(t.getTaskByIndex(this.globalIndex-1))i=this.globalIndex-1;else if(t.getTaskByIndex(this.globalIndex+1))i=this.globalIndex+1;else for(var n=this.globalIndex;n>=0;){if(t.getTaskByIndex(n)){i=n;break}n--}return i>-1?new t.$keyboardNavigation.TaskRow(t.getTaskByIndex(i).id):void 0},fromDomElement:function(e){if(t.config.keyboard_navigation_cells)return null;var i=t.locate(e);return t.isTaskExists(i)?new t.$keyboardNavigation.TaskRow(i):null},getNode:function(){if(t.isTaskExists(this.taskId)&&t.isTaskVisible(this.taskId))return t.config.show_grid?t.$grid.querySelector(`.gantt_row[${t.config.task_attribute}="${String(this.taskId).replaceAll('"','\\"')}"]`):t.getTaskNode(this.taskId)},focus:function(e){if(!e){const e=t.getTaskPosition(t.getTask(this.taskId)),i=t.getTaskHeight(this.taskId),n=t.getScrollState();let r,a;r=t.$task?t.$task.offsetWidth:n.inner_width,a=t.$grid_data||t.$task_data?(t.$grid_data||t.$task_data).offsetHeight:n.inner_height;const s=t.config.show_chart&&t.$ui.getView("timeline");e.top<n.y||e.top+i>n.y+a?t.scrollTo(null,e.top-20):t.config.scroll_on_click&&s&&(e.left>n.x+r?t.scrollTo(e.left-t.config.task_scroll_offset):e.left+e.width<n.x&&t.scrollTo(e.left+e.width-t.config.task_scroll_offset))}t.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[e]),function(){var e=t.$ui.getView("grid");if(e&&e.$grid_data){var i=parseInt(e.$grid.scrollLeft),n=parseInt(e.$grid_data.scrollTop),r=e.$config.scrollX;if(r&&e.$config.scrollable){var a=t.$ui.getView(r);a&&a.scrollTo(i,n)}var s=e.$config.scrollY;if(s){var o=t.$ui.getView(s);o&&o.scrollTo(i,n)}}}()},keys:{pagedown:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskRow(t.getTaskByIndex(t.getVisibleTaskCount()-1).id))},pageup:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskRow(t.getTaskByIndex(0).id))},up:function(){var e,i=t.getPrev(this.taskId);e=t.isTaskExists(i)?new t.$keyboardNavigation.TaskRow(i):new t.$keyboardNavigation.HeaderCell,this.moveTo(e)},down:function(){var e=t.getNext(this.taskId);t.isTaskExists(e)&&this.moveTo(new t.$keyboardNavigation.TaskRow(e))},"shift+down":function(){t.hasChild(this.taskId)&&!t.getTask(this.taskId).$open&&t.open(this.taskId)},"shift+up":function(){t.hasChild(this.taskId)&&t.getTask(this.taskId).$open&&t.close(this.taskId)},"shift+right":function(){if(!t.isReadonly(this)){var e=t.getPrevSibling(this.taskId);t.isTaskExists(e)&&!t.isChildOf(this.taskId,e)&&(t.getTask(e).$open=!0,!1!==t.moveTask(this.taskId,-1,e)&&t.updateTask(this.taskId))}},"shift+left":function(){if(!t.isReadonly(this)){var e=t.getParent(this.taskId);t.isTaskExists(e)&&!1!==t.moveTask(this.taskId,t.getTaskIndex(e)+1,t.getParent(e))&&t.updateTask(this.taskId)}},space:function(e){t.isSelectedTask(this.taskId)?t.unselectTask(this.taskId):t.selectTask(this.taskId)},"ctrl+left":function(e){t.close(this.taskId)},"ctrl+right":function(e){t.open(this.taskId)},delete:function(e){t.isReadonly(this)||t.$click.buttons.delete(this.taskId)},enter:function(){t.isReadonly(this)||t.showLightbox(this.taskId)},"ctrl+enter":function(){t.isReadonly(this)||t.createTask({},this.taskId)}}}),t.$keyboardNavigation.TaskRow.prototype.bindAll(t.$keyboardNavigation.TaskRow.prototype.keys)}(i),function(t){t.$keyboardNavigation.TaskCell=function(e,i){if(!(e=H(e,t.config.root_id))){var n=t.getChildren(t.config.root_id);n[0]&&(e=n[0])}this.taskId=e,this.columnIndex=i||0,t.isTaskExists(this.taskId)&&(this.index=t.getTaskIndex(this.taskId),this.globalIndex=t.getGlobalTaskIndex(this.taskId))},t.$keyboardNavigation.TaskCell.prototype=t._compose(t.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return t.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!t.getGridColumns()[this.columnIndex]},fallback:function(){var e=t.$keyboardNavigation.TaskRow.prototype.fallback.call(this),i=e;if(e instanceof t.$keyboardNavigation.TaskRow){for(var n=t.getGridColumns(),r=this.columnIndex;r>=0&&!n[r];)r--;n[r]&&(i=new t.$keyboardNavigation.TaskCell(e.taskId,r))}return i},fromDomElement:function(e){if(!t.config.keyboard_navigation_cells)return null;var i=t.locate(e);if(t.isTaskExists(i)){var n=0,r=_(e,"data-column-index");return r&&(n=1*r.getAttribute("data-column-index")),new t.$keyboardNavigation.TaskCell(i,n)}return null},getNode:function(){if(t.isTaskExists(this.taskId)&&(t.isTaskVisible(this.taskId)||t.config.show_tasks_outside_timescale)){if(t.config.show_grid&&t.$grid){var e=t.$grid.querySelector(".gantt_row["+t.config.task_attribute+"='"+this.taskId+"']");return e?e.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return t.getTaskNode(this.taskId)}},keys:{up:function(){var e,i=t.getPrev(this.taskId);e=t.isTaskExists(i)?new t.$keyboardNavigation.TaskCell(i,this.columnIndex):new t.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(e)},down:function(){var e=t.getNext(this.taskId);t.isTaskExists(e)&&this.moveTo(new t.$keyboardNavigation.TaskCell(e,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var e=t.getGridColumns();this.columnIndex<e.length-1&&this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var e=t.getGridColumns();this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,e.length-1))},home:function(){this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskCell(t.getTaskByIndex(t.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskCell(t.getTaskByIndex(0).id,this.columnIndex))}}}),t.$keyboardNavigation.TaskCell.prototype.bindAll(t.$keyboardNavigation.TaskRow.prototype.keys),t.$keyboardNavigation.TaskCell.prototype.bindAll(t.$keyboardNavigation.TaskCell.prototype.keys)}(i),function(t){!function(){var e=[];function i(){return!!e.length}function n(e){setTimeout((function(){i()||t.$destroyed||t.focus()}),1)}function r(i){t.eventRemove(i,"keydown",s),t.event(i,"keydown",s),e.push(i)}function a(){var i=e.pop();i&&t.eventRemove(i,"keydown",s),n()}function s(i){var n=i.currentTarget;n==e[e.length-1]&&t.$keyboardNavigation.trapFocus(n,i)}function o(){r(t.getLightbox())}t.attachEvent("onLightbox",o),t.attachEvent("onAfterLightbox",a),t.attachEvent("onLightboxChange",(function(){a(),o()})),t.attachEvent("onAfterQuickInfo",(function(){n()})),t.attachEvent("onMessagePopup",(function(e){l=t.utils.dom.getActiveElement(),r(e)})),t.attachEvent("onAfterMessagePopup",(function(){a(),setTimeout((function(){l&&(l.focus(),l=null)}),1)}));var l=null;t.$keyboardNavigation.isModal=i}()}(i),function(t){t.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new t.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var e;return(e=t.config.keyboard_navigation_cells?new t.$keyboardNavigation.TaskCell:new t.$keyboardNavigation.TaskRow).isValid()||(e=e.fallback()),e},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var t=this.activeNode;return t&&!t.isValid()&&(t=t.fallback()),t},fromDomElement:function(e){for(var i=[t.$keyboardNavigation.TaskRow,t.$keyboardNavigation.TaskCell,t.$keyboardNavigation.HeaderCell],n=0;n<i.length;n++)if(i[n].prototype.fromDomElement){var r=i[n].prototype.fromDomElement(e);if(r)return r}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(t){var e=!0;this.activeNode&&this.activeNode.compareTo(t)&&(e=!1),this.isEnabled()&&(e&&this.blurNode(this.activeNode),this.activeNode=t,this.focusNode(this.activeNode,!e))},focusNode:function(t,e){t&&t.focus&&t.focus(e)},blurNode:function(t){t&&t.blur&&t.blur()},keyDownHandler:function(e){if(!t.$keyboardNavigation.isModal()&&this.isEnabled()&&!e.defaultPrevented){var i=this.globalNode,n=t.$keyboardNavigation.shortcuts.getCommandFromEvent(e),r=this.getActiveNode();!1!==t.$keyboardNavigation.facade.callEvent("onKeyDown",[n,e])&&(r?r.findHandler(n)?r.doAction(n,e):i.findHandler(n)&&i.doAction(n,e):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return null!==this._timeout},delay:function(e,i){clearTimeout(this._timeout),this._timeout=setTimeout(t.bind((function(){this._timeout=null,e()}),this),i||1)},clearDelay:function(){clearTimeout(this._timeout)}}}(i),function(){var t=i.$keyboardNavigation.dispatcher;t.isTaskFocused=function(e){var n=t.activeNode;return(n instanceof i.$keyboardNavigation.TaskRow||n instanceof i.$keyboardNavigation.TaskCell)&&n.taskId==e};var e=function(e){if(i.config.keyboard_navigation&&(i.config.keyboard_navigation_cells||!a(e))&&!s(e)&&!w(e.target,".gantt_cal_light"))return t.keyDownHandler(e)},n=function(e){if(t.$preventDefault)return e.preventDefault(),i.$container.blur(),!1;t.awaitsFocus()||t.focusGlobalNode()},r=function(){if(!t.isEnabled())return;const e=!x(document.activeElement,i.$container)&&"body"!=document.activeElement.localName;var n=t.getActiveNode();if(n&&!e){var r,a,s=n.getNode();s&&s.parentNode&&(r=s.parentNode.scrollTop,a=s.parentNode.scrollLeft),n.focus(!0),s&&s.parentNode&&(s.parentNode.scrollTop=r,s.parentNode.scrollLeft=a)}};function a(t){return!!w(t.target,".gantt_grid_editor_placeholder")}function s(t){return!!w(t.target,".no_keyboard_navigation")}function o(e){if(!i.config.keyboard_navigation||!i.config.keyboard_navigation_cells&&a(e))return!0;if(!s(e)){var n,r=t.fromDomElement(e);if(r&&(t.activeNode instanceof i.$keyboardNavigation.TaskCell&&x(e.target,i.$task)&&(r=new i.$keyboardNavigation.TaskCell(r.taskId,t.activeNode.columnIndex)),n=r,i.config.show_grid&&i.$ui.getView("grid")&&i.config.keyboard_navigation_cells)){const t=e.target.classList.contains("gantt_row"),r=e.target.closest(".gantt_task_line"),a=i.utils.dom.getNodePosition(i.$grid).x,s=a+i.$grid.offsetWidth,o=i.utils.dom.getNodePosition(document.activeElement).x;if(t||r&&(o<a||s<o)){let r=i.$grid.scrollLeft;const a=r+i.$grid.offsetWidth;let s=0;t&&(r=i.utils.dom.getRelativeEventPosition(e,i.$grid).x);for(let t=0;t<i.config.columns.length;t++){const e=i.config.columns[t];if(!e.hide&&(s+=e.width,r<s)){a<s&&(s-=e.width),n.columnIndex=t;break}}}}n?t.isEnabled()?t.delay((function(){t.setActiveNode(n)})):t.activeNode=n:(t.$preventDefault=!0,setTimeout((function(){t.$preventDefault=!1}),300))}}i.attachEvent("onDataRender",(function(){i.config.keyboard_navigation&&r()})),i.attachEvent("onGanttRender",(function(){i.$root&&(i.eventRemove(i.$root,"keydown",e),i.eventRemove(i.$container,"focus",n),i.eventRemove(i.$container,"mousedown",o),i.config.keyboard_navigation?(i.event(i.$root,"keydown",e),i.event(i.$container,"focus",n),i.event(i.$container,"mousedown",o),i.$container.setAttribute("tabindex","0")):i.$container.removeAttribute("tabindex"))}));var l=i.attachEvent("onGanttReady",(function(){if(i.detachEvent(l),i.$data.tasksStore.attachEvent("onStoreUpdated",(function(e){if(i.config.keyboard_navigation&&t.isEnabled()){const n=t.getActiveNode(),a=i.$ui.getView("grid");if(!a||!a.$grid_data)return;const s=a.getItemTop(e),o=a.$grid_data.scrollTop,l=o+a.$grid_data.getBoundingClientRect().height;n&&n.taskId==e&&o<=s&&l>=s&&r()}})),i._smart_render){var e=i._smart_render._redrawTasks;i._smart_render._redrawTasks=function(n,r){if(i.config.keyboard_navigation&&t.isEnabled()){var a=t.getActiveNode();if(a&&void 0!==a.taskId){for(var s=!1,o=0;o<r.length;o++)if(r[o].id==a.taskId&&r[o].start_date){s=!0;break}s||r.push(i.getTask(a.taskId))}}return e.apply(this,arguments)}}}));let c=null,d=!1;i.attachEvent("onTaskCreated",(function(t){return c=t.id,!0})),i.attachEvent("onAfterTaskAdd",(function(e,n){if(!i.config.keyboard_navigation)return!0;if(t.isEnabled()){if(e==c&&(d=!0,setTimeout((()=>{d=!1,c=null}))),d&&n.type==i.config.types.placeholder)return;var r=0,a=t.activeNode;a instanceof i.$keyboardNavigation.TaskCell&&(r=a.columnIndex);var s=i.config.keyboard_navigation_cells?i.$keyboardNavigation.TaskCell:i.$keyboardNavigation.TaskRow;n.type==i.config.types.placeholder&&!1===i.config.placeholder_task.focusOnCreate||t.setActiveNode(new s(e,r))}})),i.attachEvent("onTaskIdChange",(function(e,n){if(!i.config.keyboard_navigation)return!0;var r=t.activeNode;return t.isTaskFocused(e)&&(r.taskId=n),!0}));var h=setInterval((function(){i.config.keyboard_navigation&&(t.isEnabled()||t.enable())}),500);function u(t){var e={gantt:i.$keyboardNavigation.GanttNode,headerCell:i.$keyboardNavigation.HeaderCell,taskRow:i.$keyboardNavigation.TaskRow,taskCell:i.$keyboardNavigation.TaskCell};return e[t]||e.gantt}function f(t){for(var e=i.getGridColumns(),n=0;n<e.length;n++)if(e[n].name==t)return n;return 0}i.attachEvent("onDestroy",(function(){clearInterval(h)}));var p={};D(p),i.mixin(p,{addShortcut:function(t,e,i){var n=u(i);n&&n.prototype.bind(t,e)},getShortcutHandler:function(t,e){var n=i.$keyboardNavigation.shortcuts.parse(t);if(n.length)return p.getCommandHandler(n[0],e)},getCommandHandler:function(t,e){var i=u(e);if(i&&t)return i.prototype.findHandler(t)},removeShortcut:function(t,e){var i=u(e);i&&i.prototype.unbind(t)},focus:function(e){var i,n=e?e.type:null,r=u(n);switch(n){case"taskCell":i=new r(e.id,f(e.column));break;case"taskRow":i=new r(e.id);break;case"headerCell":i=new r(f(e.column))}t.delay((function(){i?t.setActiveNode(i):(t.enable(),t.getActiveNode()?t.awaitsFocus()||t.enable():t.setDefaultNode())}))},getActiveNode:function(){if(t.isEnabled()){var e=t.getActiveNode(),n=(a=e)instanceof i.$keyboardNavigation.GanttNode?"gantt":a instanceof i.$keyboardNavigation.HeaderCell?"headerCell":a instanceof i.$keyboardNavigation.TaskRow?"taskRow":a instanceof i.$keyboardNavigation.TaskCell?"taskCell":null,r=i.getGridColumns();switch(n){case"taskCell":return{type:"taskCell",id:e.taskId,column:r[e.columnIndex].name};case"taskRow":return{type:"taskRow",id:e.taskId};case"headerCell":return{type:"headerCell",column:r[e.index].name}}}var a;return null}}),i.$keyboardNavigation.facade=p,i.ext.keyboardNavigation=p,i.focus=function(){p.focus()},i.addShortcut=p.addShortcut,i.getShortcutHandler=p.getShortcutHandler,i.removeShortcut=p.removeShortcut}()},quick_info:function(t){t.ext||(t.ext={}),t.ext.quickInfo=new Y(t),t.config.quickinfo_buttons=["icon_edit","icon_delete"],t.config.quick_info_detached=!0,t.config.show_quick_info=!0,t.templates.quick_info_title=function(t,e,i){return i.text.substr(0,50)},t.templates.quick_info_content=function(t,e,i){return i.details||i.text},t.templates.quick_info_date=function(e,i,n){return t.templates.task_time(e,i,n)},t.templates.quick_info_class=function(t,e,i){return""},t.attachEvent("onTaskClick",(function(e,i){const n=t.utils.dom.closest(i.target,".gantt_add"),r=t.utils.dom.closest(i.target,".gantt_close"),a=t.utils.dom.closest(i.target,".gantt_open");return!n&&!r&&!a&&setTimeout((function(){t.ext.quickInfo.show(e)}),0),!0}));const e=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],i=function(){return t.ext.quickInfo.hide(),!0};for(let n=0;n<e.length;n++)t.attachEvent(e[n],i);function n(){return t.ext.quickInfo.hide(),t.ext.quickInfo._quickInfoBox=null,!0}t.attachEvent("onEmptyClick",(function(e){let n=!0;const r=document.querySelector(".gantt_cal_quick_info");r&&t.utils.dom.isChildOf(e.target,r)&&(n=!1),n&&i()})),t.attachEvent("onGanttReady",n),t.attachEvent("onDestroy",n),t.event(window,"keydown",(function(e){27===e.keyCode&&t.ext.quickInfo.hide()})),t.showQuickInfo=function(){t.ext.quickInfo.show.apply(t.ext.quickInfo,arguments)},t.hideQuickInfo=function(){t.ext.quickInfo.hide.apply(t.ext.quickInfo,arguments)}},tooltip:function(t){t.config.tooltip_timeout=30,t.config.tooltip_offset_y=20,t.config.tooltip_offset_x=10,t.config.tooltip_hide_timeout=30;const e=new ot(t);t.ext.tooltips=e,t.attachEvent("onGanttReady",(function(){t.$root&&e.tooltipFor({selector:"["+t.config.task_attribute+"]:not(.gantt_task_row)",html:e=>{if(t.config.touch&&!t.config.touch_tooltip)return;const i=t.locate(e);if(t.isTaskExists(i)){const e=t.getTask(i);return t.templates.tooltip_text(e.start_date,e.end_date,e)}return null},global:!1})})),t.attachEvent("onDestroy",(function(){e.destructor()})),t.attachEvent("onLightbox",(function(){e.hideTooltip()})),t.attachEvent("onBeforeTooltip",(function(){if(t.getState().link_source_id)return!1})),t.attachEvent("onGanttScroll",(function(){e.hideTooltip()}))},undo:function(t){const e=new ht(t),i=new dt(e,t);function n(t,e){return String(t)===String(e)}function r(t,e,i){t&&(n(t.id,e)&&(t.id=i),n(t.parent,e)&&(t.parent=i))}function a(t,e,i){r(t.value,e,i),r(t.oldValue,e,i)}function s(t,e,i){t&&(n(t.source,e)&&(t.source=i),n(t.target,e)&&(t.target=i))}function o(t,e,i){s(t.value,e,i),s(t.oldValue,e,i)}function l(t,i,n){const r=e;for(let e=0;e<t.length;e++){const s=t[e];for(let t=0;t<s.commands.length;t++)s.commands[t].entity===r.command.entity.task?a(s.commands[t],i,n):s.commands[t].entity===r.command.entity.link&&o(s.commands[t],i,n)}}function c(t,i,n){const r=e;for(let e=0;e<t.length;e++){const a=t[e];for(let t=0;t<a.commands.length;t++){const e=a.commands[t];e.entity===r.command.entity.link&&(e.value&&e.value.id===i&&(e.value.id=n),e.oldValue&&e.oldValue.id===i&&(e.oldValue.id=n))}}}t.config.undo=!0,t.config.redo=!0,t.config.undo_types={link:"link",task:"task"},t.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},t.ext||(t.ext={}),t.ext.undo={undo:()=>e.undo(),redo:()=>e.redo(),getUndoStack:()=>e.getUndoStack(),setUndoStack:t=>e.setUndoStack(t),getRedoStack:()=>e.getRedoStack(),setRedoStack:t=>e.setRedoStack(t),clearUndoStack:()=>e.clearUndoStack(),clearRedoStack:()=>e.clearRedoStack(),saveState:(t,e)=>i.store(t,e,!0),getInitialState:(e,n)=>n===t.config.undo_types.link?i.getInitialLink(e):i.getInitialTask(e)},t.undo=t.ext.undo.undo,t.redo=t.ext.undo.redo,t.getUndoStack=t.ext.undo.getUndoStack,t.getRedoStack=t.ext.undo.getRedoStack,t.clearUndoStack=t.ext.undo.clearUndoStack,t.clearRedoStack=t.ext.undo.clearRedoStack,t.attachEvent("onTaskIdChange",((t,i)=>{const n=e;l(n.getUndoStack(),t,i),l(n.getRedoStack(),t,i)})),t.attachEvent("onLinkIdChange",((t,i)=>{const n=e;c(n.getUndoStack(),t,i),c(n.getRedoStack(),t,i)})),t.attachEvent("onGanttReady",(()=>{e.updateConfigs()}))},marker:function(t){function e(e){if(!t.config.show_markers||!e.start_date)return!1;var i=t.getState();if(+e.start_date>+i.max_date||(!e.end_date||+e.end_date<+i.min_date)&&+e.start_date<+i.min_date)return;var n=document.createElement("div");n.setAttribute("data-marker-id",e.id);var r="gantt_marker";t.templates.marker_class&&(r+=" "+t.templates.marker_class(e)),e.css&&(r+=" "+e.css),t.templates.marker_class&&(r+=" "+t.templates.marker_class(e)),e.title&&(n.title=e.title),n.className=r;var a=t.posFromDate(e.start_date);n.style.left=a+"px";let s=Math.max(t.getRowTop(t.getVisibleTaskCount()),0)+"px";if(t.config.timeline_placeholder&&t.$task_data&&(s=t.$task_data.scrollHeight+"px"),n.style.height=s,e.end_date){var o=t.posFromDate(e.end_date);n.style.width=Math.max(o-a,0)+"px"}if(e.text){let i=null;i="function"==typeof e.text?e.text(e):e.text,i&&(t.config.external_render&&t.config.external_render.isElement(i)?(n.innerHTML="<div class='gantt_marker_content' ></div>",t.config.external_render.renderElement(i,n.querySelector(".gantt_marker_content"))):n.innerHTML="<div class='gantt_marker_content' >"+e.text+"</div>")}return n}function i(){if(t.$task_data&&t.$root.contains(t.$task_data)){if(!t.$marker_area||!t.$task_data.contains(t.$marker_area)){var e=document.createElement("div");e.className="gantt_marker_area",t.$task_data.appendChild(e),t.$marker_area=e}}else t.$marker_area=null}t._markers||(t._markers=t.createDatastore({name:"marker",initItem:function(e){return e.id=e.id||t.uid(),e}})),t.config.show_markers=!0,t.attachEvent("onBeforeGanttRender",(function(){t.$marker_area||i()})),t.attachEvent("onDataRender",(function(){t.$marker_area||(i(),t.renderMarkers())})),t.attachEvent("onGanttLayoutReady",(function(){t.attachEvent("onBeforeGanttRender",(function(){t.$marker_area&&(t.$marker_area.innerHTML=""),i(),t.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return t.$marker_area}}).addLayer(e)}),{once:!0})})),t.getMarker=function(t){return this._markers?this._markers.getItem(t):null},t.addMarker=function(t){return this._markers.addItem(t)},t.deleteMarker=function(t){return!!this._markers.exists(t)&&(this._markers.removeItem(t),!0)},t.updateMarker=function(t){this._markers.refresh(t)},t._getMarkers=function(){return this._markers.getItems()},t.renderMarkers=function(){this._markers.refresh()}},multiselect:function(t){t.config.multiselect=!0,t.config.multiselect_one_level=!1,t._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var t=this.getSelected();return t.length?t[t.length-1]:null},setFirstSelected:function(t){this._first_selected_when_shift=t},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=t.config.multiselect_one_level;var e=this._active;this._active=t.config.select_task,this._active!=e&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(e){t.$data.tasksStore.silent((function(){var i=t.$data.tasksStore;e?i.select(e+""):i.unselect(null)}))},getLastSelected:function(){var e=t.$data.tasksStore.getSelectedId();return e&&t.isTaskExists(e)?e:null},select:function(e,i){return!!(e&&t.callEvent("onBeforeTaskMultiSelect",[e,!0,i])&&t.callEvent("onBeforeTaskSelected",[e]))&&(this._selected[e]=!0,this.setLastSelected(e),this.afterSelect(e),t.callEvent("onTaskMultiSelect",[e,!0,i]),t.callEvent("onTaskSelected",[e]),!0)},toggle:function(t,e){this._selected[t]?this.unselect(t,e):this.select(t,e)},unselect:function(e,i){e&&t.callEvent("onBeforeTaskMultiSelect",[e,!1,i])&&(this._selected[e]=!1,this.getLastSelected()==e&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(e),t.callEvent("onTaskMultiSelect",[e,!1,i]),t.callEvent("onTaskUnselected",[e]))},isSelected:function(e){return!(!t.isTaskExists(e)||!this._selected[e])},getSelected:function(){var e=[];for(var i in this._selected)this._selected[i]&&t.isTaskExists(i)?e.push(i):this._selected[i]=!1;return e.sort((function(e,i){return t.getGlobalTaskIndex(e)>t.getGlobalTaskIndex(i)?1:-1})),e},forSelected:function(t){for(var e=this.getSelected(),i=0;i<e.length;i++)t(e[i])},isSameLevel:function(e){if(!this._one_level)return!0;var i=this.getLastSelected();return!i||!t.isTaskExists(i)||!t.isTaskExists(e)||t.calculateTaskLevel(t.getTask(i))==t.calculateTaskLevel(t.getTask(e))},afterSelect:function(e){t.isTaskExists(e)&&t._quickRefresh((function(){t.refreshTask(e)}))},doSelection:function(e){if(!this.isActive()||t._is_icon_open_click(e))return!1;var i=t.locate(e);if(!i||!t.callEvent("onBeforeMultiSelect",[e]))return!1;var n=this.getSelected(),r=this.getFirstSelected(),a=!1,s=this.getLastSelected(),o=t.config.multiselect,l=function(){const r=t.ext.inlineEditors;if(r&&r.getState){const i=r.getState(),n=r.locateCell(e.target);t.config.inline_editors_multiselect_open&&n&&r.getEditorConfig(n.columnName)&&(r.isVisible()&&i.id==n.id&&i.columnName==n.columnName||r.startEdit(n.id,n.columnName))}this.setFirstSelected(i),this.isSelected(i)||this.select(i,e),n=this.getSelected();for(var a=0;a<n.length;a++)n[a]!==i&&this.unselect(n[a],e)}.bind(this),c=function(){if(s){if(i){var n=t.getGlobalTaskIndex(this.getFirstSelected()),o=t.getGlobalTaskIndex(i),l=t.getGlobalTaskIndex(s);-1!=n&&-1!=l||(n=o,this.reset());for(var c=s;t.getGlobalTaskIndex(c)!==n;)this.unselect(c,e),c=n>l?t.getNext(c):t.getPrev(c);for(c=i;t.getGlobalTaskIndex(c)!==n;)this.select(c,e)&&!a&&(a=!0,r=c),c=n>o?t.getNext(c):t.getPrev(c)}}else s=i}.bind(this);return o&&(e.ctrlKey||e.metaKey)?(this.isSelected(i)||this.setFirstSelected(i),i&&this.toggle(i,e)):o&&e.shiftKey?(t.isTaskExists(this.getFirstSelected())&&null!==this.getFirstSelected()||this.setFirstSelected(i),n.length?c():l()):l(),this.isSelected(i)?this.setLastSelected(i):r?i==s&&this.setLastSelected(e.shiftKey?r:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var e=t.selectTask;t.selectTask=function(i){if(!(i=H(i,this.config.root_id)))return!1;var n=t._multiselect,r=i;return n.isActive()?(n.select(i,null)&&n.setLastSelected(i),n.setFirstSelected(n.getLastSelected())):r=e.call(this,i),r};var i=t.unselectTask;t.unselectTask=function(e){var n=t._multiselect,r=n.isActive();(e=e||n.getLastSelected())&&r&&(n.unselect(e,null),e==n.getLastSelected()&&n.setLastSelected(null),t.refreshTask(e),n.setFirstSelected(n.getLastSelected()));var a=e;return r||(a=i.call(this,e)),a},t.toggleTaskSelection=function(e){var i=t._multiselect;e&&i.isActive()&&(i.toggle(e),i.setFirstSelected(i.getLastSelected()))},t.getSelectedTasks=function(){var e=t._multiselect;return e.isActive(),e.getSelected()},t.eachSelectedTask=function(t){return this._multiselect.forSelected(t)},t.isSelectedTask=function(t){return this._multiselect.isSelected(t)},t.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},t.attachEvent("onGanttReady",(function(){var e=t.$data.tasksStore.isSelected;t.$data.tasksStore.isSelected=function(i){return t._multiselect.isActive()?t._multiselect.isSelected(i):e.call(this,i)}}))}(),t.attachEvent("onTaskIdChange",(function(e,i){var n=t._multiselect;if(!n.isActive())return!0;t.isSelectedTask(e)&&(n.unselect(e,null),n.select(i,null))})),t.attachEvent("onAfterTaskDelete",(function(e,i){var n=t._multiselect;if(!n.isActive())return!0;n._selected[e]&&(n._selected[e]=!1,n.setLastSelected(n.getDefaultSelected())),n.forSelected((function(e){t.isTaskExists(e)||n.unselect(e,null)}))})),t.attachEvent("onBeforeTaskMultiSelect",(function(e,i,n){const r=t._multiselect;if(i&&r.isActive()){let i=t.getSelectedId(),a=null;i&&(a=t.getTask(i));let s=t.getTask(e),o=!1;if(a&&a.$level!=s.$level&&(o=!0),t.config.multiselect_one_level&&o&&!n.ctrlKey&&!n.shiftKey)return!0;if(r._one_level)return r.isSameLevel(e)}return!0})),t.attachEvent("onTaskClick",(function(e,i){return t._multiselect.doSelection(i)&&t.callEvent("onMultiSelect",[i]),!0}))},export_api:function(t){return t.ext=t.ext||{},t.ext.export_api=t.ext.export_api||{_apiUrl:"https://export.dhtmlx.com/gantt",_preparePDFConfigRaw(e,i){let n=null;e.start&&e.end&&(n={start_date:t.config.start_date,end_date:t.config.end_date},t.config.start_date=t.date.str_to_date(t.config.date_format)(e.start),t.config.end_date=t.date.str_to_date(t.config.date_format)(e.end)),e=t.mixin(e,{name:"gantt."+i,data:t.ext.export_api._serializeHtml()}),n&&(t.config.start_date=n.start_date,t.config.end_date=n.end_date)},_prepareConfigPDF:(e,i)=>(e=t.mixin(e||{},{name:"gantt."+i,data:t.ext.export_api._serializeAll(),config:t.config}),t.ext.export_api._fixColumns(e.config.columns),e),_pdfExportRouter(e,i){e&&e.raw?t.ext.export_api._preparePDFConfigRaw(e,i):e=t.ext.export_api._prepareConfigPDF(e,i),e.version=t.version,t.ext.export_api._sendToExport(e,i)},exportToPDF(e){t.ext.export_api._pdfExportRouter(e,"pdf")},exportToPNG(e){t.ext.export_api._pdfExportRouter(e,"png")},exportToICal(e){e=t.mixin(e||{},{name:"gantt.ical",data:t.ext.export_api._serializePlain().data,version:t.version}),t.ext.export_api._sendToExport(e,"ical")},exportToExcel(e){let i,n,r,a;e=e||{};const s=t.config.smart_rendering;if("base-colors"===e.visual&&(t.config.smart_rendering=!1),e.start||e.end){r=t.getState(),n=[t.config.start_date,t.config.end_date],a=t.getScrollState();const o=t.date.str_to_date(t.config.date_format);i=t.eachTask,e.start&&(t.config.start_date=o(e.start)),e.end&&(t.config.end_date=o(e.end)),t.render(),t.config.smart_rendering=s,t.eachTask=t.ext.export_api._eachTaskTimed(t.config.start_date,t.config.end_date)}else"base-colors"===e.visual&&(t.render(),t.config.smart_rendering=s);t._no_progress_colors="base-colors"===e.visual,(e=t.mixin(e,{name:"gantt.xlsx",title:"Tasks",data:t.ext.export_api._serializeTimeline(e).data,columns:t.ext.export_api._serializeGrid({rawDates:!0}),version:t.version})).visual&&(e.scales=t.ext.export_api._serializeScales(e)),t.ext.export_api._sendToExport(e,"excel"),(e.start||e.end)&&(t.config.start_date=r.min_date,t.config.end_date=r.max_date,t.eachTask=i,t.render(),t.scrollTo(a.x,a.y),t.config.start_date=n[0],t.config.end_date=n[1])},exportToJSON(e){e=t.mixin(e||{},{name:"gantt.json",data:t.ext.export_api._serializeAll(),config:t.config,columns:t.ext.export_api._serializeGrid(),worktime:t.ext.export_api._getWorktimeSettings(),version:t.version}),t.ext.export_api._sendToExport(e,"json")},importFromExcel(e){try{const t=e.data;if(t instanceof File){const i=new FormData;i.append("file",t),e.data=i}}catch{}t.ext.export_api._sendImportAjaxExcel(e)},importFromMSProject(e){const i=e.data;try{if(i instanceof File){const t=new FormData;t.append("file",i),e.data=t}}catch{}t.ext.export_api._sendImportAjaxMSP(e)},importFromPrimaveraP6:e=>(e.type="primaveraP6-parse",t.importFromMSProject(e)),exportToMSProject(e){(e=e||{}).skip_circular_links=void 0===e.skip_circular_links||!!e.skip_circular_links;const i=t.templates.xml_format,n=t.templates.format_date,r=t.config.xml_date,a=t.config.date_format,s="%d-%m-%Y %H:%i:%s";t.config.xml_date=s,t.config.date_format=s,t.templates.xml_format=t.date.date_to_str(s),t.templates.format_date=t.date.date_to_str(s);const o=t.ext.export_api._serializeAll();t.ext.export_api._customProjectProperties(o,e),t.ext.export_api._customTaskProperties(o,e),e.skip_circular_links&&t.ext.export_api._clearRecLinks(o),e=t.ext.export_api._exportConfig(o,e),t.ext.export_api._sendToExport(e,e.type||"msproject"),t.config.xml_date=r,t.config.date_format=a,t.templates.xml_format=i,t.templates.format_date=n,t.config.$custom_data=null,t.config.custom=null},exportToPrimaveraP6:e=>((e=e||{}).type="primaveraP6",t.exportToMSProject(e)),_fixColumns(e){for(let i=0;i<e.length;i++)e[i].label=e[i].label||t.locale.labels["column_"+e[i].name],"string"==typeof e[i].width&&(e[i].width=1*e[i].width)},_xdr(e,i,n){t.ajax.post(e,i,n)},_markColumns(t){const e=t.config.columns;if(e)for(let t=0;t<e.length;t++)e[t].template&&(e[t].$template=!0)},_sendImportAjaxExcel(e){const i=e.server||t.ext.export_api._apiUrl,n=e.store||0,r=e.data,a=e.callback;r.append("type","excel-parse"),r.append("data",JSON.stringify({sheet:e.sheet||0})),n&&r.append("store",n);const s=new XMLHttpRequest;s.onreadystatechange=function(t){4===s.readyState&&0===s.status&&a&&a(null)},s.onload=function(){let t=null;if(!(s.status>400))try{t=JSON.parse(s.responseText)}catch{}a&&a(t)},s.open("POST",i,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.send(r)},_ajaxToExport(e,i,n){delete e.callback;const r=e.server||t.ext.export_api._apiUrl,a="type="+i+"&store=1&data="+encodeURIComponent(JSON.stringify(e));t.ext.export_api._xdr(r,a,(function(t){const e=t.xmlDoc||t;let i=null;if(!(e.status>400))try{i=JSON.parse(e.responseText)}catch{}n(i)}))},_serializableGanttConfig(e){const i=t.mixin({},e);return i.columns&&(i.columns=i.columns.map((function(e){const i=t.mixin({},e);return delete i.editor,i}))),delete i.editor_types,i},_sendToExport(e,i){const n=t.date.date_to_str(t.config.date_format||t.config.xml_date);if(e.skin||(e.skin=t.skin),e.config&&(e.config=t.copy(t.ext.export_api._serializableGanttConfig(e.config)),t.ext.export_api._markColumns(e,i),e.config.start_date&&e.config.end_date&&(e.config.start_date instanceof Date&&(e.config.start_date=n(e.config.start_date)),e.config.end_date instanceof Date&&(e.config.end_date=n(e.config.end_date)))),e.callback)return t.ext.export_api._ajaxToExport(e,i,e.callback);const r=t.ext.export_api._createHiddenForm();r.firstChild.action=e.server||t.ext.export_api._apiUrl,r.firstChild.childNodes[0].value=JSON.stringify(e),r.firstChild.childNodes[1].value=i,r.firstChild.submit()},_createHiddenForm(){if(!t.ext.export_api._hidden_export_form){const e=t.ext.export_api._hidden_export_form=document.createElement("div");e.style.display="none",e.innerHTML="<form method='POST' target='_blank'><textarea name='data' style='width:0px; height:0px;' readonly='true'></textarea><input type='hidden' name='type' value=''></form>",document.body.appendChild(e)}return t.ext.export_api._hidden_export_form},_copyObjectBase(e){const i={start_date:void 0,end_date:void 0,constraint_date:void 0,deadline:void 0};for(const t in e)"$"!==t.charAt(0)&&"baselines"!==t&&(i[t]=e[t]);const n=t.templates.xml_format||t.templates.format_date;return i.start_date=n(i.start_date),i.end_date&&(i.end_date=n(i.end_date)),i.constraint_date&&(i.constraint_date=n(i.constraint_date)),i.deadline&&(i.deadline=n(i.deadline)),i},_color_box:null,_color_hash:{},_getStyles(e){if(t.ext.export_api._color_box||(t.ext.export_api._color_box=document.createElement("DIV"),t.ext.export_api._color_box.style.cssText="position:absolute; display:none;",document.body.appendChild(t.ext.export_api._color_box)),t.ext.export_api._color_hash[e])return t.ext.export_api._color_hash[e];t.ext.export_api._color_box.className=e;const i=t.ext.export_api._getColor(t.ext.export_api._color_box,"color"),n=t.ext.export_api._getColor(t.ext.export_api._color_box,"backgroundColor");return t.ext.export_api._color_hash[e]=i+";"+n},_getMinutesWorktimeSettings(t){const e=[];return t.forEach((function(t){e.push(t.startMinute),e.push(t.endMinute)})),e},_getWorktimeSettings(){const e={hours:[0,24],minutes:null,dates:{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}};let i;if(t.config.work_time){const n=t._working_time_helper;if(n&&n.get_calendar)i=n.get_calendar();else if(n)i={hours:n.hours,minutes:null,dates:n.dates};else if(t.config.worktimes&&t.config.worktimes.global){const e=t.config.worktimes.global;if(e.parsed){i={hours:null,minutes:t.ext.export_api._getMinutesWorktimeSettings(e.parsed.hours),dates:{}};for(const n in e.parsed.dates)Array.isArray(e.parsed.dates[n])?i.dates[n]=t.ext.export_api._getMinutesWorktimeSettings(e.parsed.dates[n]):i.dates[n]=e.parsed.dates[n]}else i={hours:e.hours,minutes:null,dates:e.dates}}else i=e}else i=e;return i},_eachTaskTimed:(e,i)=>function(n,r,a){r=r||t.config.root_id,a=a||t;const s=t.getChildren(r);if(s)for(let r=0;r<s.length;r++){const o=t._pull[s[r]];(!e||o.end_date>e)&&(!i||o.start_date<i)&&n.call(a,o),t.hasChild(o.id)&&t.eachTask(n,o.id,a)}},_originalCopyObject:t.json._copyObject,_copyObjectPlain(e){const i=t.templates.task_text(e.start_date,e.end_date,e),n=t.ext.export_api._copyObjectBase(e);return n.text=i||n.text,n},_getColor(t,e){const i=t.currentStyle?t.currentStyle[e]:getComputedStyle(t,null)[e],n=i.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return(n&&4===n.length?("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):i).replace("#","")},_copyObjectTable(e){const i=t.date.date_to_str("%Y-%m-%dT%H:%i:%s.000Z"),n=t.ext.export_api._copyObjectColumns(e,t.ext.export_api._copyObjectPlain(e));n.start_date&&(n.start_date=i(e.start_date)),n.end_date&&(n.end_date=i(e.end_date));const r=t._day_index_by_date?t._day_index_by_date:t.columnIndexByDate;n.$start=r.call(t,e.start_date),n.$end=r.call(t,e.end_date);let a=0;const s=t.getScale().width;if(s.indexOf(0)>-1){let t=0;for(;t<n.$start;t++)s[t]||a++;for(n.$start-=a;t<n.$end;t++)s[t]||a++;n.$end-=a}n.$level=e.$level,n.$type=e.$rendered_type;const o=t.templates;return n.$text=o.task_text(e.start,e.end_date,e),n.$left=o.leftside_text?o.leftside_text(e.start,e.end_date,e):"",n.$right=o.rightside_text?o.rightside_text(e.start,e.end_date,e):"",n},_copyObjectColors(e){const i=t.ext.export_api._copyObjectTable(e),n=t.getTaskNode(e.id);if(n&&n.firstChild){let e=t.ext.export_api._getColor(t._no_progress_colors?n:n.firstChild,"backgroundColor");"363636"===e&&(e=t.ext.export_api._getColor(n,"backgroundColor")),i.$color=e}else e.color&&(i.$color=e.color);return i},_copyObjectColumns(e,i){for(let n=0;n<t.config.columns.length;n++){const r=t.config.columns[n].template;if(r){let a=r(e);a instanceof Date&&(a=t.templates.date_grid(a,e)),i["_"+n]=a}}return i},_copyObjectAll(e){const i=t.ext.export_api._copyObjectBase(e),n=["leftside_text","rightside_text","task_text","progress_text","task_class"];for(let r=0;r<n.length;r++){const a=t.templates[n[r]];a&&(i["$"+r]=a(e.start_date,e.end_date,e))}return t.ext.export_api._copyObjectColumns(e,i),i.open=e.$open,i},_serializeHtml(){const e=t.config.smart_scales,i=t.config.smart_rendering;(e||i)&&(t.config.smart_rendering=!1,t.config.smart_scales=!1,t.render());const n=t.$container.parentNode.innerHTML;return(e||i)&&(t.config.smart_scales=e,t.config.smart_rendering=i,t.render()),n},_serializeAll(){t.json._copyObject=t.ext.export_api._copyObjectAll;const e=t.ext.export_api._exportSerialize();return t.json._copyObject=t.ext.export_api._originalCopyObject,e},_serializePlain(){const e=t.templates.xml_format,i=t.templates.format_date;t.templates.xml_format=t.date.date_to_str("%Y%m%dT%H%i%s",!0),t.templates.format_date=t.date.date_to_str("%Y%m%dT%H%i%s",!0),t.json._copyObject=t.ext.export_api._copyObjectPlain;const n=t.ext.export_api._exportSerialize();return t.templates.xml_format=e,t.templates.format_date=i,t.json._copyObject=t.ext.export_api._originalCopyObject,delete n.links,n},_getRaw(){if(t._scale_helpers){const e=t._get_scales(),i=t.config.min_column_width,n=t._get_resize_options().x?Math.max(t.config.autosize_min_width,0):t.config.$task.offsetWidth,r=t.config.config.scale_height-1;return t._scale_helpers.prepareConfigs(e,i,n,r)}{const e=t.$ui.getView("timeline");if(e){let i=e.$config.width;"x"!==t.config.autosize&&"xy"!==t.config.autosize||(i=Math.max(t.config.autosize_min_width,0));const n=t.getState(),r=e._getScales(),a=t.config.min_column_width,s=t.config.scale_height-1,o=t.config.rtl;return e.$scaleHelper.prepareConfigs(r,a,i,s,n.min_date,n.max_date,o)}}},_serializeTimeline(e){t.json._copyObject=e.visual?t.ext.export_api._copyObjectColors:t.ext.export_api._copyObjectTable;const i=t.ext.export_api._exportSerialize();if(t.json._copyObject=t.ext.export_api._originalCopyObject,delete i.links,e.cellColors){const e=t.templates.timeline_cell_class||t.templates.task_cell_class;if(e){const n=t.ext.export_api._getRaw();let r=n[0].trace_x;for(let t=1;t<n.length;t++)n[t].trace_x.length>r.length&&(r=n[t].trace_x);for(let n=0;n<i.data.length;n++){i.data[n].styles=[];const a=t.getTask(i.data[n].id);for(let s=0;s<r.length;s++){const o=e(a,r[s]);o&&i.data[n].styles.push({index:s,styles:t.ext.export_api._getStyles(o)})}}}}return i},_serializeScales(e){const i=[],n=t.ext.export_api._getRaw();let r=1/0,a=0;for(let t=0;t<n.length;t++)r=Math.min(r,n[t].col_width);for(let s=0;s<n.length;s++){let o=0,l=0;const c=[];i.push(c);const d=n[s];a=Math.max(a,d.trace_x.length);const h=d.format||d.template||(d.date?t.date.date_to_str(d.date):t.config.date_scale);for(let i=0;i<d.trace_x.length;i++){const n=d.trace_x[i];l=o+Math.round(d.width[i]/r);const a={text:h(n),start:o,end:l,styles:""};if(e.cellColors){const e=d.css||t.templates.scaleCell_class;if(e){const i=e(n);i&&(a.styles=t.ext.export_api._getStyles(i))}}c.push(a),o=l}}return{width:a,height:i.length,data:i}},_serializeGrid(e){t.exportMode=!0;const i=[],n=t.config.columns;let r=0;for(let a=0;a<n.length;a++)"add"!==n[a].name&&"buttons"!==n[a].name&&(i[r]={id:n[a].template?"_"+a:n[a].name,header:n[a].label||t.locale.labels["column_"+n[a].name],width:n[a].width?Math.floor(n[a].width/4):"",tree:n[a].tree||!1},"duration"===n[a].name&&(i[r].type="number"),"start_date"!==n[a].name&&"end_date"!==n[a].name||(i[r].type="date",e&&e.rawDates&&(i[r].id=n[a].name)),r++);return t.exportMode=!1,i},_exportSerialize(){t.exportMode=!0;const e=t.templates.xml_format,i=t.templates.format_date;t.templates.xml_format=t.templates.format_date=t.date.date_to_str(t.config.date_format||t.config.xml_date);const n=t.serialize();return t.templates.xml_format=e,t.templates.format_date=i,t.exportMode=!1,n},_setLevel(t){for(let e=0;e<t.length;e++){0==t[e].parent&&(t[e]._lvl=1);for(let i=e+1;i<t.length;i++)t[e].id==t[i].parent&&(t[i]._lvl=t[e]._lvl+1)}},_clearLevel(t){for(let e=0;e<t.length;e++)delete t[e]._lvl},_clearRecLinks(e){t.ext.export_api._setLevel(e.data);const i={};for(let t=0;t<e.data.length;t++)i[e.data[t].id]=e.data[t];const n={};for(let r=0;r<e.links.length;r++){const a=e.links[r];t.isTaskExists(a.source)&&t.isTaskExists(a.target)&&i[a.source]&&i[a.target]&&(n[a.id]=a)}for(const e in n)t.ext.export_api._makeLinksSameLevel(n[e],i);const r={};for(const e in i)t.ext.export_api._clearCircDependencies(i[e],n,i,{},r,null);Object.keys(n)&&t.ext.export_api._clearLinksSameLevel(n,i);for(let t=0;t<e.links.length;t++)n[e.links[t].id]||(e.links.splice(t,1),t--);t.ext.export_api._clearLevel(e.data)},_clearCircDependencies(e,i,n,r,a,s){const o=e.$_source;if(!o)return;r[e.id]&&t.ext.export_api._onCircDependencyFind(s,i,r,a),r[e.id]=!0;const l={};for(let e=0;e<o.length;e++){if(a[o[e]])continue;const s=i[o[e]],c=n[s._target];l[c.id]&&t.ext.export_api._onCircDependencyFind(s,i,r,a),l[c.id]=!0,t.ext.export_api._clearCircDependencies(c,i,n,r,a,s)}r[e.id]=!1},_onCircDependencyFind(e,i,n,r){e&&(t.callEvent("onExportCircularDependency",[e.id,e])&&delete i[e.id],delete n[e._source],delete n[e._target],r[e.id]=!0)},_makeLinksSameLevel(t,e){let i,n;const r={target:e[t.target],source:e[t.source]};if(r.target._lvl!=r.source._lvl){r.target._lvl<r.source._lvl?(i="source",n=r.target._lvl):(i="target",n=r.source._lvl);do{const t=e[r[i].parent];if(!t)break;r[i]=t}while(r[i]._lvl<n);let t=e[r.source.parent],a=e[r.target.parent];for(;t&&a&&t.id!=a.id;)r.source=t,r.target=a,t=e[r.source.parent],a=e[r.target.parent]}t._target=r.target.id,t._source=r.source.id,r.target.$_target||(r.target.$_target=[]),r.target.$_target.push(t.id),r.source.$_source||(r.source.$_source=[]),r.source.$_source.push(t.id)},_clearLinksSameLevel(t,e){for(const e in t)delete t[e]._target,delete t[e]._source;for(const t in e)delete e[t].$_source,delete e[t].$_target},_customProjectProperties(e,i){if(i&&i.project){for(const e in i.project)t.config.$custom_data||(t.config.$custom_data={}),t.config.$custom_data[e]="function"==typeof i.project[e]?i.project[e](t.config):i.project[e];delete i.project}},_customTaskProperties(e,i){i&&i.tasks&&(e.data.forEach((function(e){for(const n in i.tasks)e.$custom_data||(e.$custom_data={}),e.$custom_data[n]="function"==typeof i.tasks[n]?i.tasks[n](e,t.config):i.tasks[n]})),delete i.tasks)},_exportConfig(e,i){const n=i.name||"gantt.xml";delete i.name,t.config.custom=i;const r=t.ext.export_api._getWorktimeSettings(),a=t.getSubtaskDates();if(a.start_date&&a.end_date){const e=t.templates.format_date||t.templates.xml_format;t.config.start_end={start_date:e(a.start_date),end_date:e(a.end_date)}}const s=void 0!==i.auto_scheduling&&!!i.auto_scheduling,o={callback:i.callback||null,config:t.config,data:e,manual:s,name:n,worktime:r};for(const t in i)o[t]=i[t];return o},_sendImportAjaxMSP(e){const i=e.server||t.ext.export_api._apiUrl,n=e.store||0,r=e.data,a=e.callback,s={durationUnit:e.durationUnit||void 0,projectProperties:e.projectProperties||void 0,taskProperties:e.taskProperties||void 0};r.append("type",e.type||"msproject-parse"),r.append("data",JSON.stringify(s)),n&&r.append("store",n);const o=new XMLHttpRequest;o.onreadystatechange=function(t){4===o.readyState&&0===o.status&&a&&a(null)},o.onload=function(){let t=null;if(!(o.status>400))try{t=JSON.parse(o.responseText)}catch{}a&&a(t)},o.open("POST",i,!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(r)}},t.exportToPDF=t.ext.export_api.exportToPDF,t.exportToPNG=t.ext.export_api.exportToPNG,t.exportToICal=t.ext.export_api.exportToICal,t.exportToExcel=t.ext.export_api.exportToExcel,t.exportToJSON=t.ext.export_api.exportToJSON,t.importFromExcel=t.ext.export_api.importFromExcel,t.importFromMSProject=t.ext.export_api.importFromMSProject,t.exportToMSProject=t.ext.export_api.exportToMSProject,t.importFromPrimaveraP6=t.ext.export_api.importFromPrimaveraP6,t.exportToPrimaveraP6=t.ext.export_api.exportToPrimaveraP6,t.ext.export_api}},ft={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}};class pt{constructor(t){this.addExtension=(t,e)=>{this._extensions[t]=e},this.getExtension=t=>this._extensions[t],this._extensions={};for(const e in t)this._extensions[e]=t[e]}}var gt=typeof window<"u";const mt={isIE:gt&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isOpera:gt&&(navigator.userAgent.indexOf("Opera")>=0||navigator.userAgent.indexOf("OPR")>=0),isChrome:gt&&navigator.userAgent.indexOf("Chrome")>=0,isSafari:gt&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:gt&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:gt&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:gt&&-1!=navigator.userAgent.indexOf("Edge"),isNode:!gt||typeof navigator>"u"||!1,isSalesforce:gt&&(!!P.Sfdc||!!P.$A||P.Aura)};function _t(t){if("string"==typeof t||"number"==typeof t)return t;let e="";for(const i in t){let n="";t.hasOwnProperty(i)&&(n="string"==typeof t[i]?encodeURIComponent(t[i]):"number"==typeof t[i]?String(t[i]):encodeURIComponent(JSON.stringify(t[i])),n=i+"="+n,e.length&&(n="&"+n),e+=n)}return e}function vt(t,e){var i={method:t};if(0===e.length)throw new Error("Arguments list of query is wrong.");if(1===e.length)return"string"==typeof e[0]?(i.url=e[0],i.async=!0):(i.url=e[0].url,i.async=e[0].async||!0,i.callback=e[0].callback,i.headers=e[0].headers),e[0].data?"string"!=typeof e[0].data?i.data=_t(e[0].data):i.data=e[0].data:i.data="",i;switch(i.url=e[0],t){case"GET":case"DELETE":i.callback=e[1],i.headers=e[2];break;case"POST":case"PUT":e[1]?"string"!=typeof e[1]?i.data=_t(e[1]):i.data=e[1]:i.data="",i.callback=e[2],i.headers=e[3]}return i}const yt={date_to_str:(t,e,i)=>{t=t.replace(/%[a-zA-Z]/g,(t=>{switch(t){case"%d":return`"+to_fixed(date.get${e?"UTC":""}Date())+"`;case"%m":return`"+to_fixed((date.get${e?"UTC":""}Month()+1))+"`;case"%j":return`"+date.get${e?"UTC":""}Date()+"`;case"%n":return`"+(date.get${e?"UTC":""}Month()+1)+"`;case"%y":return`"+to_fixed(date.get${e?"UTC":""}FullYear()%100)+"`;case"%Y":return`"+date.get${e?"UTC":""}FullYear()+"`;case"%D":return`"+locale.date.day_short[date.get${e?"UTC":""}Day()]+"`;case"%l":return`"+locale.date.day_full[date.get${e?"UTC":""}Day()]+"`;case"%M":return`"+locale.date.month_short[date.get${e?"UTC":""}Month()]+"`;case"%F":return`"+locale.date.month_full[date.get${e?"UTC":""}Month()]+"`;case"%h":return`"+to_fixed((date.get${e?"UTC":""}Hours()+11)%12+1)+"`;case"%g":return`"+((date.get${e?"UTC":""}Hours()+11)%12+1)+"`;case"%G":return`"+date.get${e?"UTC":""}Hours()+"`;case"%H":return`"+to_fixed(date.get${e?"UTC":""}Hours())+"`;case"%i":return`"+to_fixed(date.get${e?"UTC":""}Minutes())+"`;case"%a":return`"+(date.get${e?"UTC":""}Hours()>11?"pm":"am")+"`;case"%A":return`"+(date.get${e?"UTC":""}Hours()>11?"PM":"AM")+"`;case"%s":return`"+to_fixed(date.get${e?"UTC":""}Seconds())+"`;case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return t}}));const n=new Function("date","to_fixed","locale","getISOWeek","getWeek",`return "${t}";`);return t=>n(t,i.date.to_fixed,i.locale,i.date.getISOWeek,i.date.getWeek)},str_to_date:(t,e,i)=>{let n="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);";const r=t.match(/%[a-zA-Z]/g);for(let t=0;t<r.length;t++)switch(r[t]){case"%j":case"%d":n+=`set[2]=temp[${t}]||1;`;break;case"%n":case"%m":n+=`set[1]=(temp[${t}]||1)-1;`;break;case"%y":n+=`set[0]=temp[${t}]*1+(temp[${t}]>50?1900:2000);`;break;case"%g":case"%G":case"%h":case"%H":n+=`set[3]=temp[${t}]||0;`;break;case"%i":n+=`set[4]=temp[${t}]||0;`;break;case"%Y":n+=`set[0]=temp[${t}]||0;`;break;case"%a":case"%A":n+=`set[3]=set[3]%12+((temp[${t}]||'').toLowerCase()=='am'?0:12);`;break;case"%s":n+=`set[5]=temp[${t}]||0;`;break;case"%M":n+=`set[1]=locale.date.month_short_hash[temp[${t}]]||0;`;break;case"%F":n+=`set[1]=locale.date.month_full_hash[temp[${t}]]||0;`}let a="set[0],set[1],set[2],set[3],set[4],set[5]";e&&(a=` Date.UTC(${a})`);const s=new Function("date","locale",`var set=[0,0,1,0,0,0]; ${n} return new Date(${a});`);return t=>s(t,i.locale)}},bt={date_to_str:(t,e,i)=>n=>t.replace(/%[a-zA-Z]/g,(t=>{switch(t){case"%d":return e?i.date.to_fixed(n.getUTCDate()):i.date.to_fixed(n.getDate());case"%m":return e?i.date.to_fixed(n.getUTCMonth()+1):i.date.to_fixed(n.getMonth()+1);case"%j":return e?n.getUTCDate():n.getDate();case"%n":return e?n.getUTCMonth()+1:n.getMonth()+1;case"%y":return e?i.date.to_fixed(n.getUTCFullYear()%100):i.date.to_fixed(n.getFullYear()%100);case"%Y":return e?n.getUTCFullYear():n.getFullYear();case"%D":return e?i.locale.date.day_short[n.getUTCDay()]:i.locale.date.day_short[n.getDay()];case"%l":return e?i.locale.date.day_full[n.getUTCDay()]:i.locale.date.day_full[n.getDay()];case"%M":return e?i.locale.date.month_short[n.getUTCMonth()]:i.locale.date.month_short[n.getMonth()];case"%F":return e?i.locale.date.month_full[n.getUTCMonth()]:i.locale.date.month_full[n.getMonth()];case"%h":return e?i.date.to_fixed((n.getUTCHours()+11)%12+1):i.date.to_fixed((n.getHours()+11)%12+1);case"%g":return e?(n.getUTCHours()+11)%12+1:(n.getHours()+11)%12+1;case"%G":return e?n.getUTCHours():n.getHours();case"%H":return e?i.date.to_fixed(n.getUTCHours()):i.date.to_fixed(n.getHours());case"%i":return e?i.date.to_fixed(n.getUTCMinutes()):i.date.to_fixed(n.getMinutes());case"%a":return e?n.getUTCHours()>11?"pm":"am":n.getHours()>11?"pm":"am";case"%A":return e?n.getUTCHours()>11?"PM":"AM":n.getHours()>11?"PM":"AM";case"%s":return e?i.date.to_fixed(n.getUTCSeconds()):i.date.to_fixed(n.getSeconds());case"%W":return e?i.date.to_fixed(i.date.getUTCISOWeek(n)):i.date.to_fixed(i.date.getISOWeek(n));default:return t}})),str_to_date:(t,e,i)=>n=>{const r=[0,0,1,0,0,0],a=n.match(/[a-zA-Z]+|[0-9]+/g),s=t.match(/%[a-zA-Z]/g);for(let t=0;t<s.length;t++)switch(s[t]){case"%j":case"%d":r[2]=a[t]||1;break;case"%n":case"%m":r[1]=(a[t]||1)-1;break;case"%y":r[0]=1*a[t]+(a[t]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":r[3]=a[t]||0;break;case"%i":r[4]=a[t]||0;break;case"%Y":r[0]=a[t]||0;break;case"%a":case"%A":r[3]=r[3]%12+("am"===(a[t]||"").toLowerCase()?0:12);break;case"%s":r[5]=a[t]||0;break;case"%M":r[1]=i.locale.date.month_short_hash[a[t]]||0;break;case"%F":r[1]=i.locale.date.month_full_hash[a[t]]||0}return e?new Date(Date.UTC(r[0],r[1],r[2],r[3],r[4],r[5])):new Date(r[0],r[1],r[2],r[3],r[4],r[5])}};class kt{constructor(t){const{url:e,token:i}=t;this._url=e,this._token=i,this._mode=1,this._seed=1,this._queue=[],this.data={},this.api={},this._events={}}headers(){return{Accept:"application/json","Content-Type":"application/json","Remote-Token":this._token}}fetch(t,e){const i={credentials:"include",headers:this.headers()};return e&&(i.method="POST",i.body=e),fetch(t,i).then((t=>t.json()))}load(t){return t&&(this._url=t),this.fetch(this._url).then((t=>this.parse(t)))}parse(t){const{key:e,websocket:i}=t;e&&(this._token=t.key);for(const e in t.data)this.data[e]=t.data[e];for(const e in t.api){const i=this.api[e]={},n=t.api[e];for(const t in n)i[t]=this._wrapper(e+"."+t)}return i&&this.connect(),this}connect(){const t=this._socket;t&&(this._socket=null,t.onclose=function(){},t.close()),this._mode=2,this._socket=function(t,e,i,n){let r=e;"/"===r[0]&&(r=document.location.protocol+"//"+document.location.host+e),r=r.replace(/^http(s|):/,"ws$1:");const a=-1!=r.indexOf("?")?"&":"?";r=`${r}${a}token=${i}&ws=1`;const s=new WebSocket(r);return s.onclose=()=>setTimeout((()=>t.connect()),2e3),s.onmessage=e=>{const i=JSON.parse(e.data);switch(i.action){case"result":t.result(i.body,[]);break;case"event":t.fire(i.body.name,i.body.value);break;case"start":n();break;default:t.onError(i.data)}},s}(this,this._url,this._token,(()=>(this._mode=3,this._send(),this._resubscribe(),this)))}_wrapper(t){return function(){const e=[].slice.call(arguments);let i=null;const n=new Promise(((n,r)=>{i={data:{id:this._uid(),name:t,args:e},status:1,resolve:n,reject:r},this._queue.push(i)}));return this.onCall(i,n),3===this._mode?this._send(i):setTimeout((()=>this._send()),1),n}.bind(this)}_uid(){return(this._seed++).toString()}_send(t){if(2==this._mode)return void setTimeout((()=>this._send()),100);const e=t?[t]:this._queue.filter((t=>1===t.status));if(!e.length)return;const i=e.map((t=>(t.status=2,t.data)));3!==this._mode?this.fetch(this._url,JSON.stringify(i)).catch((t=>this.onError(t))).then((t=>this.result(t,i))):this._socket.send(JSON.stringify({action:"call",body:i}))}result(t,e){const i={};if(t)for(let e=0;e<t.length;e++)i[t[e].id]=t[e];else for(let t=0;t<e.length;t++)i[e[t].id]={id:e[t].id,error:"Network Error",data:null};for(let t=this._queue.length-1;t>=0;t--){const e=this._queue[t],n=i[e.data.id];n&&(this.onResponse(e,n),n.error?e.reject(n.error):e.resolve(n.data),this._queue.splice(t,1))}}on(t,e){const i=this._uid();let n=this._events[t];const r=!!n;return r||(n=this._events[t]=[]),n.push({id:i,handler:e}),r||3!=this._mode||this._socket.send(JSON.stringify({action:"subscribe",name:t})),{name:t,id:i}}_resubscribe(){if(3==this._mode)for(const t in this._events)this._socket.send(JSON.stringify({action:"subscribe",name:t}))}detach(t){if(!t){if(3==this._mode)for(const t in this._events)this._socket.send(JSON.stringify({action:"unsubscribe",key:t}));return void(this._events={})}const{id:e,name:i}=t,n=this._events[i];if(n){const t=n.filter((t=>t.id!=e));t.length?this._events[i]=t:(delete this._events[i],3==this._mode&&this._socket.send(JSON.stringify({action:"unsubscribe",name:i})))}}fire(t,e){const i=this._events[t];if(i)for(let t=0;t<i.length;t++)i[t].handler(e)}onError(t){return null}onCall(t,e){}onResponse(t,e){}}const xt=function(t,e){const i=new kt({url:t,token:e});i.fetch=function(t,e){const i={headers:this.headers()};return e&&(i.method="POST",i.body=e),fetch(t,i).then((t=>t.json()))},this._ready=i.load().then((t=>this._remote=t)),this.ready=function(){return this._ready},this.on=function(t,e){this.ready().then((i=>{if("string"==typeof t)i.on(t,e);else for(const e in t)i.on(e,t[e])}))}};function wt(t,e){if(!e)return!0;if(t._on_timeout)return!1;var i=Math.ceil(1e3/e);return i<2||(setTimeout((function(){delete t._on_timeout}),i),t._on_timeout=!0),!0}var St=function(){var t={};return{getState:function(e){if(t[e])return t[e].method();var i={};for(var n in t)t[n].internal||Z(i,t[n].method(),!0);return i},registerProvider:function(e,i,n){t[e]={method:i,internal:n}},unregisterProvider:function(e){delete t[e]}}};const Tt=Promise;var Et={$create:function(t){return Z(t||[],this)},$removeAt:function(t,e){t>=0&&this.splice(t,e||1)},$remove:function(t){this.$removeAt(this.$find(t))},$insertAt:function(t,e){if(e||0===e){var i=this.splice(e,this.length-e);this[e]=t,this.push.apply(this,i)}else this.push(t)},$find:function(t){for(var e=0;e<this.length;e++)if(t==this[e])return e;return-1},$each:function(t,e){for(var i=0;i<this.length;i++)t.call(e||this,this[i])},$map:function(t,e){for(var i=0;i<this.length;i++)this[i]=t.call(e||this,this[i]);return this},$filter:function(t,e){for(var i=0;i<this.length;i++)t.call(e||this,this[i])||(this.splice(i,1),i--);return this}};function Ct(t,e,i,n){return!!((n=e?e.config:n)&&n.placeholder_task&&i.exists(t))&&i.getItem(t).type===n.types.placeholder}var Mt=function(t){return this.pull={},this.$initItem=t.initItem,this.visibleOrder=Et.$create(),this.fullOrder=Et.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=t,D(this),this._attachDataChange((function(){return this._indexRangeCache={},this._getItemsCache=null,!0})),this};Mt.prototype={_attachDataChange:function(t){this.attachEvent("onClearAll",t),this.attachEvent("onBeforeParse",t),this.attachEvent("onBeforeUpdate",t),this.attachEvent("onBeforeDelete",t),this.attachEvent("onBeforeAdd",t),this.attachEvent("onParse",t),this.attachEvent("onBeforeFilter",t)},_parseInner:function(t){for(var e=null,i=[],n=0,r=t.length;n<r;n++)e=t[n],this.$initItem&&(this.$config.copyOnParse()&&(e=J(e)),e=this.$initItem(e)),this.callEvent("onItemLoading",[e])&&(this.pull.hasOwnProperty(e.id)||this.fullOrder.push(e.id),i.push(e),this.pull[e.id]=e);return i},parse:function(t){this.isSilent()||this.callEvent("onBeforeParse",[t]);var e=this._parseInner(t);this.isSilent()||(this.refresh(),this.callEvent("onParse",[e]))},getItem:function(t){return this.pull[t]},_updateOrder:function(t){t.call(this.visibleOrder),t.call(this.fullOrder)},updateItem:function(t,e){if(Q(e)||(e=this.getItem(t)),!this.isSilent()&&!1===this.callEvent("onBeforeUpdate",[e.id,e]))return!1;Z(this.pull[t],e,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"update"]))},_removeItemInner:function(t){this._updateOrder((function(){this.$remove(t)})),delete this.pull[t]},removeItem:function(t){var e=this.getItem(t);if(!this.isSilent()&&!1===this.callEvent("onBeforeDelete",[e.id,e]))return!1;this.callEvent("onAfterDeleteConfirmed",[e.id,e]),this._removeItemInner(t),this.isSilent()&&this.callEvent("onAfterSilentDelete",[e.id,e]),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"delete"]))},_addItemInner:function(t,e){if(this.exists(t.id))this.silent((function(){this.updateItem(t.id,t)}));else{var i=this.visibleOrder,n=i.length;(!Q(e)||e<0)&&(e=n),e>n&&(e=Math.min(i.length,e))}this.pull[t.id]=t,this._updateOrder((function(){-1===this.$find(t.id)&&this.$insertAt(t.id,e)})),this.filter()},isVisible:function(t){return this.visibleOrder.$find(t)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(t,e){return Q(t.id)||(t.id=tt()),this.$initItem&&(t=this.$initItem(t)),!(!this.isSilent()&&!1===this.callEvent("onBeforeAdd",[t.id,t]))&&(this._addItemInner(t,e),this.isSilent()||(this.callEvent("onAfterAdd",[t.id,t]),this.callEvent("onStoreUpdated",[t.id,t,"add"])),t.id)},_changeIdInner:function(t,e){this.pull[t]&&(this.pull[e]=this.pull[t]);var i=this._searchVisibleOrder[t];this.pull[e].id=e,this._updateOrder((function(){this[this.$find(t)]=e})),this._searchVisibleOrder[e]=i,delete this._searchVisibleOrder[t],delete this.pull[t]},changeId:function(t,e){this._changeIdInner(t,e),this.callEvent("onIdChange",[t,e])},exists:function(t){return!!this.pull[t]},_moveInner:function(t,e){var i=this.getIdByIndex(t);this._updateOrder((function(){this.$removeAt(t),this.$insertAt(i,Math.min(this.length,e))}))},move:function(t,e){var i=this.getIdByIndex(t),n=this.getItem(i);this._moveInner(t,e),this.isSilent()||this.callEvent("onStoreUpdated",[n.id,n,"move"])},clearAll:function(){this.$destroyed||(this.silent((function(){this.unselect()})),this.pull={},this.visibleOrder=Et.$create(),this.fullOrder=Et.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(t,e){var i=!1;this.isSilent()&&(i=!0),this._skip_refresh=!0,t.call(e||this),i||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},refresh:function(t,e){var i,n;if(!this.$destroyed&&!this.isSilent()&&(t&&(i=this.getItem(t)),n=t?[t,i,"paint"]:[null,null,null],!1!==this.callEvent("onBeforeStoreUpdate",n))){var r=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,t){if(!e&&!r){var a=this.visibleOrder;this.filter(),this.arraysEqual(a,this.visibleOrder)||(t=void 0)}}else r||this.filter();n=t?[t,i,"paint"]:[null,null,null],this.callEvent("onStoreUpdated",n)}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(t){},serialize:function(){},eachItem:function(t){for(var e=0;e<this.fullOrder.length;e++){var i=this.getItem(this.fullOrder[e]);t.call(this,i)}},find:function(t){var e=[];return this.eachItem((function(i){t(i)&&e.push(i)})),e},filter:function(t){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var e=Et.$create(),i=[];this.eachItem((function(t){this.callEvent("onFilterItem",[t.id,t])&&(Ct(t.id,null,this,this._ganttConfig)?i.push(t.id):e.push(t.id))}));for(var n=0;n<i.length;n++)e.push(i[n]);for(this.visibleOrder=e,this._searchVisibleOrder={},n=0;n<this.visibleOrder.length;n++)this._searchVisibleOrder[this.visibleOrder[n]]=n;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(t,e){var i=Math.min(e||1/0,this.countVisible()-1),n=t||0,r=n+"-"+i;if(this._indexRangeCache[r])return this._indexRangeCache[r].slice();for(var a=[],s=n;s<=i;s++)a.push(this.getItem(this.visibleOrder[s]));return this._indexRangeCache[r]=a.slice(),a},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var t=[];for(var e in this.pull)t.push(this.pull[e]);return this._getItemsCache=t.slice(),t},getIdByIndex:function(t){return this.visibleOrder[t]},getIndexById:function(t){var e=this._searchVisibleOrder[t];return void 0===e&&(e=-1),e},_getNullIfUndefined:function(t){return void 0===t?null:t},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(t){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(t)+1])},getPrev:function(t){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(t)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}};var Pt=function(t){var e;Mt.apply(this,[t]),this._branches={},this.pull={},this.$initItem=function(e){var i=e;t.initItem&&(i=t.initItem(i));var n=this.getItem(e.id);return n&&!At(n.parent,i.parent)&&this.move(i.id,i.$index||-1,i.parent||this._ganttConfig.root_id),i},this.$parentProperty=t.parentProperty||"parent","function"!=typeof t.rootId?this.$getRootId=(e=t.rootId||0,function(){return e}):this.$getRootId=t.rootId,this.$openInitially=t.openInitially,this.visibleOrder=Et.$create(),this.fullOrder=Et.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,t.getConfig&&(this._ganttConfig=t.getConfig());var i={},n={},r={},a={},s=!1;return this._attachDataChange((function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0})),this.attachEvent("onPreFilter",(function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,i={},n={},r={},a={},s=!1,this.eachItem((function(t){var e=this.getParent(t.id);t.$open&&!1!==r[e]?r[t.id]=!0:r[t.id]=!1,this._isSplitItem(t)&&(s=!0,i[t.id]=!0,n[t.id]=!0),s&&n[e]&&(n[t.id]=!0),r[e]||void 0===r[e]?a[t.id]=!0:a[t.id]=!1}))})),this.attachEvent("onFilterItem",(function(t,e){var r=!1;this._ganttConfig&&(r=this._ganttConfig.open_split_tasks);var o=a[e.id];return s&&(o&&n[e.id]&&!i[e.id]&&(o=!!r),n[e.id]&&!i[e.id]&&(e.$split_subtask=!0)),e.$expanded_branch=!!a[e.id],!!o})),this.attachEvent("onFilter",(function(){i={},n={},r={},a={}})),this};function At(t,e){return String(t)===String(e)}function $t(t){return mt.isNode||!t.$root}Pt.prototype=Z({_buildTree:function(t){for(var e=null,i=this.$getRootId(),n=0,r=t.length;n<r;n++)e=t[n],this.setParent(e,H(this.getParent(e),i)||i);for(n=0,r=t.length;n<r;n++)e=t[n],this._add_branch(e),e.$level=this.calculateItemLevel(e),e.$local_index=this.getBranchIndex(e.id),Q(e.$open)||(e.$open=Q(e.open)?e.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(t){return"split"==t.render&&this.hasChild(t.id)},parse:function(t){this._skip_refresh||this.callEvent("onBeforeParse",[t]);var e=this._parseInner(t);this._buildTree(e),this.filter(),this._skip_refresh||this.callEvent("onParse",[e])},_addItemInner:function(t,e){var i=this.getParent(t);Q(i)||(i=this.$getRootId(),this.setParent(t,i));var n=this.getIndexById(i)+Math.min(Math.max(e,0),this.visibleOrder.length);1*n!==n&&(n=void 0),Mt.prototype._addItemInner.call(this,t,n),this.setParent(t,i),t.hasOwnProperty("$rendered_parent")&&this._move_branch(t,t.$rendered_parent),this._add_branch(t,e)},_changeIdInner:function(t,e){var i=this.getChildren(t),n=this._searchVisibleOrder[t];Mt.prototype._changeIdInner.call(this,t,e);var r=this.getParent(e);this._replace_branch_child(r,t,e),this._branches[t]&&(this._branches[e]=this._branches[t]);for(var a=0;a<i.length;a++){var s=this.getItem(i[a]);s[this.$parentProperty]=e,s.$rendered_parent=e}this._searchVisibleOrder[e]=n,delete this._branches[t]},_traverseBranches:function(t,e){Q(e)||(e=this.$getRootId());var i=this._branches[e];if(i)for(var n=0;n<i.length;n++){var r=i[n];t.call(this,r),this._branches[r]&&this._traverseBranches(t,r)}},_updateOrder:function(t){this.fullOrder=Et.$create(),this._traverseBranches((function(t){this.fullOrder.push(t)})),t&&Mt.prototype._updateOrder.call(this,t)},_removeItemInner:function(t){var e=[];this.eachItem((function(t){e.push(t)}),t),e.push(this.getItem(t));for(var i=0;i<e.length;i++)this._move_branch(e[i],this.getParent(e[i]),null),Mt.prototype._removeItemInner.call(this,e[i].id),this._move_branch(e[i],this.getParent(e[i]),null)},move:function(t,e,i){var n=arguments[3],r=(this._ganttConfig||{}).root_id||0;if(n=H(n,r)){if(n===t)return;i=this.getParent(n),e=this.getBranchIndex(n)}if(!At(t,i)){Q(i)||(i=this.$getRootId());var a=this.getItem(t),s=this.getParent(a.id),o=this.getChildren(i);if(-1==e&&(e=o.length+1),At(s,i)&&this.getBranchIndex(t)==e)return;if(!1===this.callEvent("onBeforeItemMove",[t,i,e]))return!1;for(var l=[],c=0;c<o.length;c++)Ct(o[c],null,this,this._ganttConfig)&&(l.push(o[c]),o.splice(c,1),c--);this._replace_branch_child(s,t);var d=(o=this.getChildren(i))[e];(d=H(d,r))?o=o.slice(0,e).concat([t]).concat(o.slice(e)):o.push(t),l.length&&(o=o.concat(l)),At(a.$rendered_parent,s)||At(s,i)||(a.$rendered_parent=s),this.setParent(a,i),this._branches[i]=o;var h=this.calculateItemLevel(a)-a.$level;a.$level+=h,this.eachItem((function(t){t.$level+=h}),a.id,this),this._moveInner(this.getIndexById(t),this.getIndexById(i)+e),this.callEvent("onAfterItemMove",[t,i,e]),this.refresh()}},getBranchIndex:function(t){var e=this.getChildren(this.getParent(t));let i=e.indexOf(t+"");return-1==i&&(i=e.indexOf(+t)),i},hasChild:function(t){var e=this._branches[t];return e&&e.length},getChildren:function(t){return this._branches[t]||Et.$create()},isChildOf:function(t,e){if(!this.exists(t))return!1;if(e===this.$getRootId())return!0;if(!this.hasChild(e))return!1;var i=this.getItem(t),n=this.getParent(t);if(this.getItem(e).$level>=i.$level)return!1;for(;i&&this.exists(n);){if((i=this.getItem(n))&&At(i.id,e))return!0;n=this.getParent(i)}return!1},getSiblings:function(t){if(!this.exists(t))return Et.$create();var e=this.getParent(t);return this.getChildren(e)},getNextSibling:function(t){for(var e=this.getSiblings(t),i=0,n=e.length;i<n;i++)if(At(e[i],t)){var r=e[i+1];return 0===r&&i>0&&(r="0"),r||null}return null},getPrevSibling:function(t){for(var e=this.getSiblings(t),i=0,n=e.length;i<n;i++)if(At(e[i],t)){var r=e[i-1];return 0===r&&i>0&&(r="0"),r||null}return null},getParent:function(t){var e;return(e=void 0!==t.id?t:this.getItem(t))?e[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},Mt.prototype.clearAll.call(this)},calculateItemLevel:function(t){var e=0;return this.eachParent((function(){e++}),t),e},_setParentInner:function(t,e,i){i||(t.hasOwnProperty("$rendered_parent")?this._move_branch(t,t.$rendered_parent,e):this._move_branch(t,t[this.$parentProperty],e))},setParent:function(t,e,i){this._setParentInner(t,e,i),t[this.$parentProperty]=e},_eachItemCached:function(t,e){for(var i=0,n=e.length;i<n;i++)t.call(this,e[i])},_eachItemIterate:function(t,e,i){var n=this.getChildren(e);for(n.length&&(n=n.slice().reverse());n.length;){var r=n.pop(),a=this.getItem(r);if(t.call(this,a),i&&i.push(a),this.hasChild(a.id))for(var s=this.getChildren(a.id),o=s.length-1;o>=0;o--)n.push(s[o])}},eachItem:function(t,e){var i=this.$getRootId();Q(e)||(e=i);var n=H(e,i)||i,r=!1,a=!1,s=null;n===i&&(this._eachItemMainRangeCache?(r=!0,s=this._eachItemMainRangeCache):(a=!0,s=this._eachItemMainRangeCache=[])),r?this._eachItemCached(t,s):this._eachItemIterate(t,n,a?s:null)},eachParent:function(t,e){for(var i={},n=e,r=this.getParent(n);this.exists(r);){if(i[r])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+r);i[r]=!0,n=this.getItem(r),t.call(this,n),r=this.getParent(n)}},_add_branch:function(t,e,i){var n=void 0===i?this.getParent(t):i;this.hasChild(n)||(this._branches[n]=Et.$create());var r=this.getChildren(n);r.indexOf(t.id+"")>-1||r.indexOf(+t.id)>-1||(1*e==e?r.splice(e,0,t.id):r.push(t.id),t.$rendered_parent=n)},_move_branch:function(t,e,i){this._eachItemMainRangeCache=null,this._replace_branch_child(e,t.id),this.exists(i)||At(i,this.$getRootId())?this._add_branch(t,void 0,i):delete this._branches[t.id],t.$level=this.calculateItemLevel(t),this.eachItem((function(t){t.$level=this.calculateItemLevel(t)}),t.id)},_replace_branch_child:function(t,e,i){var n=this.getChildren(t);if(n&&void 0!==t){var r=Et.$create();let a=n.indexOf(e+"");-1!=a||isNaN(+e)||(a=n.indexOf(+e)),a>-1&&(i?n.splice(a,1,i):n.splice(a,1)),r=n,this._branches[t]=r}},sort:function(t,e,i){this.exists(i)||(i=this.$getRootId()),t||(t="order");var n="string"==typeof t?function(e,i){return e[t]==i[t]||B(e[t])&&B(i[t])&&e[t].valueOf()==i[t].valueOf()?0:e[t]>i[t]?1:-1}:t;if(e){var r=n;n=function(t,e){return r(e,t)}}var a=this.getChildren(i);if(a){for(var s=[],o=a.length-1;o>=0;o--)s[o]=this.getItem(a[o]);for(s.sort(n),o=0;o<s.length;o++)a[o]=s[o].id,this.sort(t,e,a[o])}},filter:function(t){for(let t in this.pull){const e=this.pull[t].$rendered_parent,i=this.getParent(this.pull[t]);At(e,i)||this._move_branch(this.pull[t],e,i)}return Mt.prototype.filter.apply(this,arguments)},open:function(t){this.exists(t)&&(this.getItem(t).$open=!0,this._skipTaskRecalculation=!0,this.callEvent("onItemOpen",[t]))},close:function(t){this.exists(t)&&(this.getItem(t).$open=!1,this._skipTaskRecalculation=!0,this.callEvent("onItemClose",[t]))},destructor:function(){Mt.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},Mt.prototype);const Dt=function(t,e){const i=e.getDatastore(t),n=function(t,e){const n=e.getLayers(),r=i.getItem(t);if(r&&i.isVisible(t))for(let t=0;t<n.length;t++)n[t].render_item(r)};function r(t){return!!t.$services.getService("state").getState("batchUpdate").batch_update}i.attachEvent("onStoreUpdated",(function(n,r,a){if($t(e))return!0;const s=e.$services.getService("layers").getDataRender(t);s&&(s.onUpdateRequest=function(t){!function(t){if(t.update_items){let n=[];if(t.get_visible_range){var e=t.get_visible_range(i);if(void 0!==e.start&&void 0!==e.end&&(n=i.getIndexRange(e.start,e.end)),void 0!==e.ids){let t=e.ids.map((function(t){return i.getItem(t)}));t.length>0&&(t=t.filter((t=>void 0!==t)),n=n.concat(t))}if((null==e.start||null==e.end)&&null==e.ids)throw new Error("Invalid range returned from 'getVisibleRange' of the layer")}else n=i.getVisibleItems();t.prepare_data&&t.prepare_data(n,t),t.update_items(n)}}(t)})})),i.attachEvent("onStoreUpdated",(function(t,n,a){r(e)||(t&&"move"!=a&&"delete"!=a?(i.callEvent("onBeforeRefreshItem",[n.id]),i.callEvent("onAfterRefreshItem",[n.id])):(i.callEvent("onBeforeRefreshAll",[]),i.callEvent("onAfterRefreshAll",[])))})),i.attachEvent("onAfterRefreshAll",(function(){if($t(e))return!0;const n=e.$services.getService("layers").getDataRender(t);n&&!r(e)&&function(t){const e=t.getLayers();for(let t=0;t<e.length;t++)e[t].clear();let n=null;const r={};for(let t=0;t<e.length;t++){const o=e[t];let l;if(o.get_visible_range){var a=o.get_visible_range(i);if(void 0!==a.start&&void 0!==a.end){var s=a.start+" - "+a.end;r[s]?l=r[s]:(l=i.getIndexRange(a.start,a.end),r[s]=l)}else{if(void 0===a.ids)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");l=a.ids.map((function(t){return i.getItem(t)}))}}else n||(n=i.getVisibleItems()),l=n;o.prepare_data&&o.prepare_data(l),e[t].render_items(l)}}(n)})),i.attachEvent("onAfterRefreshItem",(function(i){if($t(e))return!0;const r=e.$services.getService("layers").getDataRender(t);r&&n(i,r)})),i.attachEvent("onItemOpen",(function(){if($t(e)||i.isSilent())return!0;e.render()})),i.attachEvent("onItemClose",(function(){if($t(e)||i.isSilent())return!0;e.render()})),i.attachEvent("onIdChange",(function(a,s){if($t(e))return!0;if(i.callEvent("onBeforeIdChange",[a,s]),!r(e)&&!i.isSilent()){const r=e.$services.getService("layers").getDataRender(t);r?(function(t,e,i){for(let n=0;n<t.length;n++)t[n].change_id(e,i)}(r.getLayers(),a,s,i.getItem(s)),n(s,r)):e.render()}}))};function It(){for(var t=this.$services.getService("datastores"),e=[],i=0;i<t.length;i++){var n=this.getDatastore(t[i]);n.$destroyed||e.push(n)}return e}const Lt=function(){var t=Z({},{createDatastore:function(t){var e="treedatastore"==(t.type||"").toLowerCase()?Pt:Mt;if(t){var i=this;t.openInitially=function(){return i.config.open_tree_initially},t.copyOnParse=function(){return i.config.deepcopy_on_parse}}var n=new e(t);if(this.mixin(n,function(t){var e=null,i=t._removeItemInner;function n(t){e=null,this.callEvent("onAfterUnselect",[t])}return t._removeItemInner=function(t){return e==t&&n.call(this,t),e&&this.eachItem&&this.eachItem((function(t){t.id==e&&n.call(this,t.id)}),t),i.apply(this,arguments)},t.attachEvent("onIdChange",(function(e,i){t.getSelectedId()==e&&t.silent((function(){t.unselect(e),t.select(i)}))})),{select:function(t){if(t){if(e==t)return e;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[t]))return!1;this.unselect(),e=t,this._skip_refresh||(this.refresh(t),this.callEvent("onAfterSelect",[t]))}return e},getSelectedId:function(){return e},isSelected:function(t){return t==e},unselect:function(t){(t=t||e)&&(e=null,this._skip_refresh||(this.refresh(t),n.call(this,t)))}}}(n)),t.name){var r="datastore:"+t.name;n.attachEvent("onDestroy",function(){this.$services.dropService(r);for(var e=this.$services.getService("datastores"),i=0;i<e.length;i++)if(e[i]===t.name){e.splice(i,1);break}}.bind(this)),this.$services.dropService(r),this.$services.setService(r,(function(){return n}));var a=this.$services.getService("datastores");a?a.indexOf(t.name)<0&&a.push(t.name):(a=[],this.$services.setService("datastores",(function(){return a})),a.push(t.name)),Dt(t.name,this)}return n},getDatastore:function(t){return this.$services.getService("datastore:"+t)},_getDatastores:It,refreshData:function(){var t;$t(this)||(t=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var e=It.call(this),i=0;i<e.length;i++)e[i].refresh();this.config.preserve_scroll&&!$t(this)&&(t.x||t.y)&&this.scrollTo(t.x,t.y),this.callEvent("onDataRender",[])},isChildOf:function(t,e){return this.$data.tasksStore.isChildOf(t,e)},refreshTask:function(t,e){var i=this.getTask(t),n=this;function r(){if(void 0===e||e){for(var t=0;t<i.$source.length;t++)n.refreshLink(i.$source[t]);for(t=0;t<i.$target.length;t++)n.refreshLink(i.$target[t])}}if(i&&this.isTaskVisible(t))this.$data.tasksStore.refresh(t,!!this.getState("tasksDnd").drag_id||!1===e),r();else if(this.isTaskExists(t)&&this.isTaskExists(this.getParent(t))&&!this._bulk_dnd){this.refreshTask(this.getParent(t));var a=!1;this.eachParent((function(t){(a||this.isSplitTask(t))&&(a=!0)}),t),a&&r()}},refreshLink:function(t){this.$data.linksStore.refresh(t,!!this.getState("tasksDnd").drag_id)},silent:function(t){var e=this;e.$data.tasksStore.silent((function(){e.$data.linksStore.silent((function(){t()}))}))},clearAll:function(){for(var t=It.call(this),e=0;e<t.length;e++)t[e].silent((function(){t[e].clearAll()}));for(e=0;e<t.length;e++)t[e].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(t){var e=this.$data.tasksStore;if(!this.config.select_task)return!1;if(t=H(t,this.config.root_id)){let i=this.getSelectedId();e._skipResourceRepaint=!0,e.select(t),e._skipResourceRepaint=!1,i&&e.pull[i].$split_subtask&&i!=t&&this.refreshTask(i),e.pull[t].$split_subtask&&i!=t&&this.refreshTask(t)}return e.getSelectedId()},unselectTask:function(t){var e=this.$data.tasksStore;e.unselect(t),t&&e.pull[t].$split_subtask&&this.refreshTask(t)},isSelectedTask:function(t){return this.$data.tasksStore.isSelected(t)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}});return Z(t,{getTask:function(t){t=H(t,this.config.root_id),this.assert(t,"Invalid argument for gantt.getTask");var e=this.$data.tasksStore.getItem(t);return this.assert(e,"Task not found id="+t),e},getTaskByTime:function(t,e){var i=this.$data.tasksStore.getItems(),n=[];if(t||e){t=+t||-1/0,e=+e||1/0;for(var r=0;r<i.length;r++){var a=i[r];+a.start_date<e&&+a.end_date>t&&n.push(a)}}else n=i;return n},isTaskExists:function(t){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(t)},updateTask:function(t,e){Q(e)||(e=this.getTask(t)),this.$data.tasksStore.updateItem(t,e),this.isTaskExists(t)&&this.refreshTask(t)},addTask:function(t,e,i){if(Q(t.id)||(t.id=tt()),this.isTaskExists(t.id)&&this.getTask(t.id).$index!=t.$index)return t.start_date&&"string"==typeof t.start_date&&(t.start_date=this.date.parseDate(t.start_date,"parse_date")),t.end_date&&"string"==typeof t.end_date&&(t.end_date=this.date.parseDate(t.end_date,"parse_date")),this.$data.tasksStore.updateItem(t.id,t);if(Q(e)||(e=this.getParent(t)||0),this.isTaskExists(e)||(e=this.config.root_id),this.setParent(t,e),this.getState().lightbox&&this.isTaskExists(e)){var n=this.getTask(e);this.callEvent("onAfterParentExpand",[e,n])}return this.$data.tasksStore.addItem(t,i,e)},deleteTask:function(t){return t=H(t,this.config.root_id),this.$data.tasksStore.removeItem(t)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(t){return this.$data.tasksStore.getBranchIndex(t)},getGlobalTaskIndex:function(t){return t=H(t,this.config.root_id),this.assert(t,"Invalid argument"),this.$data.tasksStore.getIndexById(t)},eachTask:function(t,e,i){return this.$data.tasksStore.eachItem(et(t,i||this),e)},eachParent:function(t,e,i){return this.$data.tasksStore.eachParent(et(t,i||this),e)},changeTaskId:function(t,e){this.$data.tasksStore.changeId(t,e);var i=this.$data.tasksStore.getItem(e),n=[];i.$source&&(n=n.concat(i.$source)),i.$target&&(n=n.concat(i.$target));for(var r=0;r<n.length;r++){var a=this.getLink(n[r]);a.source==t&&(a.source=e),a.target==t&&(a.target=e)}},calculateTaskLevel:function(t){return this.$data.tasksStore.calculateItemLevel(t)},getNext:function(t){return this.$data.tasksStore.getNext(t)},getPrev:function(t){return this.$data.tasksStore.getPrev(t)},getParent:function(t){return this.$data.tasksStore.getParent(t)},setParent:function(t,e,i){return this.$data.tasksStore.setParent(t,e,i)},getSiblings:function(t){return this.$data.tasksStore.getSiblings(t).slice()},getNextSibling:function(t){return this.$data.tasksStore.getNextSibling(t)},getPrevSibling:function(t){return this.$data.tasksStore.getPrevSibling(t)},getTaskByIndex:function(t){var e=this.$data.tasksStore.getIdByIndex(t);return this.isTaskExists(e)?this.getTask(e):null},getChildren:function(t){return this.hasChild(t)?this.$data.tasksStore.getChildren(t).slice():[]},hasChild:function(t){return this.$data.tasksStore.hasChild(t)},open:function(t){this.$data.tasksStore.open(t)},close:function(t){this.$data.tasksStore.close(t)},moveTask:function(t,e,i){return i=H(i,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(t,e,i,n){var r=!n;this.$data.tasksStore.sort(t,e,i),this.callEvent("onAfterSort",[t,e,i]),r&&this.render()}}),Z(t,{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(t){return this.$data.linksStore.getItem(t)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(t){return this.$data.linksStore.exists(t)},addLink:function(t){const e=this.$data.linksStore.addItem(t);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(e),e},updateLink:function(t,e){Q(e)||(e=this.getLink(t)),this.$data.linksStore.updateItem(t,e)},deleteLink:function(t){return this.$data.linksStore.removeItem(t)},changeLinkId:function(t,e){return this.$data.linksStore.changeId(t,e)}}),t};function Ot(t){var e=t.date,i=t.$services;return{getSum:function(t,e,i){void 0===i&&(i=t.length-1),void 0===e&&(e=0);for(var n=0,r=e;r<=i;r++)n+=t[r];return n},setSumWidth:function(t,e,i,n){var r=e.width;void 0===n&&(n=r.length-1),void 0===i&&(i=0);var a=n-i+1;if(!(i>r.length-1||a<=0||n>r.length-1)){var s=t-this.getSum(r,i,n);this.adjustSize(s,r,i,n),this.adjustSize(-s,r,n+1),e.full_width=this.getSum(r)}},splitSize:function(t,e){for(var i=[],n=0;n<e;n++)i[n]=0;return this.adjustSize(t,i),i},adjustSize:function(t,e,i,n){i||(i=0),void 0===n&&(n=e.length-1);for(var r=n-i+1,a=this.getSum(e,i,n),s=i;s<=n;s++){var o=Math.floor(t*(a?e[s]/a:1/r));a-=e[s],t-=o,r--,e[s]+=o}e[e.length-1]+=t},sortScales:function(t){function i(t,i){var n=new Date(1970,0,1);return e.add(n,i,t)-n}t.sort((function(t,e){return i(t.unit,t.step)<i(e.unit,e.step)?1:i(t.unit,t.step)>i(e.unit,e.step)?-1:0}));for(var n=0;n<t.length;n++)t[n].index=n},_isLegacyMode:function(e){var i=e||t.config;return i.scale_unit||i.date_scale||i.subscales},_prepareScaleObject:function(e){var i=e.format;return i||(i=e.template||e.date||"%d %M"),"string"==typeof i&&(i=t.date.date_to_str(i)),{unit:e.unit||"day",step:e.step||1,format:i,css:e.css}},primaryScale:function(e){var n,r=i.getService("templateLoader"),a=this._isLegacyMode(e),s=e||t.config;if(a)r.initTemplate("date_scale",void 0,void 0,s,t.config.templates),n={unit:t.config.scale_unit,step:t.config.step,template:t.templates.date_scale,date:t.config.date_scale,css:t.templates.scale_cell_class};else{var o=s.scales[0];n={unit:o.unit,step:o.step,template:o.template,format:o.format,date:o.date,css:o.css||t.templates.scale_cell_class}}return this._prepareScaleObject(n)},getSubScales:function(e){var i,n=this._isLegacyMode(e),r=e||t.config;if(n){let e="https://docs.dhtmlx.com/gantt/migrating.html#:~:text=%3D%20false%3B-,Time%20scale%20settings,-Configuration%20of%20time";t.env.isFF&&(e="https://docs.dhtmlx.com/gantt/migrating.html#6162"),console.warn(`You are using the obsolete scale configuration.\nIt will stop working in the future versions.\nPlease migrate the configuration to the newer version:\n${e}`),i=r.subscales||[]}else i=r.scales.slice(1);return i.map(function(t){return this._prepareScaleObject(t)}.bind(this))},prepareConfigs:function(t,e,i,n,r,a,s){for(var o=this.splitSize(n,t.length),l=i,c=[],d=t.length-1;d>=0;d--){var h=d==t.length-1,u=this.initScaleConfig(t[d],r,a);h&&this.processIgnores(u),this.initColSizes(u,e,l,o[d]),this.limitVisibleRange(u),h&&(l=u.full_width),c.unshift(u)}for(d=0;d<c.length-1;d++)this.alineScaleColumns(c[c.length-1],c[d]);for(d=0;d<c.length;d++)s&&this.reverseScale(c[d]),this.setPosSettings(c[d]);return c},reverseScale:function(t){t.width=t.width.reverse(),t.trace_x=t.trace_x.reverse();var e=t.trace_indexes;t.trace_indexes={},t.trace_index_transition={},t.rtl=!0;for(var i=0;i<t.trace_x.length;i++)t.trace_indexes[t.trace_x[i].valueOf()]=i,t.trace_index_transition[e[t.trace_x[i].valueOf()]]=i;return t},setPosSettings:function(t){for(var e=0,i=t.trace_x.length;e<i;e++)t.left.push((t.width[e-1]||0)+(t.left[e-1]||0))},_ignore_time_config:function(i,n){if(t.config.skip_off_time){for(var r=!0,a=i,s=0;s<n.step;s++)s&&(a=e.add(i,s,n.unit)),r=r&&!this.isWorkTime(a,n.unit);return r}return!1},processIgnores:function(t){t.ignore_x={},t.display_count=t.count},initColSizes:function(t,i,n,r){var a=n;t.height=r;var s=void 0===t.display_count?t.count:t.display_count;s||(s=1),t.col_width=Math.floor(a/s),i&&t.col_width<i&&(t.col_width=i,a=t.col_width*s),t.width=[];for(var o=t.ignore_x||{},l=0;l<t.trace_x.length;l++)if(o[t.trace_x[l].valueOf()]||t.display_count==t.count)t.width[l]=0;else{var c=1;"month"==t.unit&&(c=Math.round((e.add(t.trace_x[l],t.step,t.unit)-t.trace_x[l])/864e5)),t.width[l]=c}this.adjustSize(a-this.getSum(t.width),t.width),t.full_width=this.getSum(t.width)},initScaleConfig:function(t,e,i){var n=Z({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(e),max_date:new Date(i)},t);return this.eachColumn(t.unit,t.step,e,i,(function(t){n.count++,n.trace_x.push(new Date(t)),n.trace_indexes[t.valueOf()]=n.trace_x.length-1})),n.trace_x_ascending=n.trace_x.slice(),n},iterateScales:function(t,e,i,n,r){for(var a=e.trace_x,s=t.trace_x,o=i||0,l=n||s.length-1,c=0,d=1;d<a.length;d++){var h=t.trace_indexes[+a[d]];void 0!==h&&h<=l&&(r&&r.apply(this,[c,d,o,h]),o=h,c=d)}},alineScaleColumns:function(t,e,i,n){this.iterateScales(t,e,i,n,(function(i,n,r,a){var s=this.getSum(t.width,r,a-1);this.getSum(e.width,i,n-1)!=s&&this.setSumWidth(s,e,i,n-1)}))},eachColumn:function(i,n,r,a,s){var o=new Date(r),l=new Date(a);e[i+"_start"]&&(o=e[i+"_start"](o));var c=new Date(o);for(+c>=+l&&(l=e.add(c,n,i));+c<+l;){s.call(this,new Date(c));var d=c.getTimezoneOffset();c=e.add(c,n,i),c=t._correct_dst_change(c,d,n,i),e[i+"_start"]&&(c=e[i+"_start"](c))}},limitVisibleRange:function(t){var i=t.trace_x,n=t.width.length-1,r=0;if(+i[0]<+t.min_date&&0!=n){var a=Math.floor(t.width[0]*((i[1]-t.min_date)/(i[1]-i[0])));r+=t.width[0]-a,t.width[0]=a,i[0]=new Date(t.min_date)}var s=i.length-1,o=i[s],l=e.add(o,t.step,t.unit);if(+l>+t.max_date&&s>0&&(a=t.width[s]-Math.floor(t.width[s]*((l-t.max_date)/(l-o))),r+=t.width[s]-a,t.width[s]=a),r){for(var c=this.getSum(t.width),d=0,h=0;h<t.width.length;h++){var u=Math.floor(r*(t.width[h]/c));t.width[h]+=u,d+=u}this.adjustSize(r-d,t.width)}}}}function Rt(t,e,i){e<t.start_date&&(t.start_date=new Date(e)),i>t.end_date&&(t.end_date=new Date(i))}function Ft(t){(function(t){var e=function(t){var e=new Ot(t).primaryScale(),i=e.unit,n=e.step;if(t.config.scale_offset_minimal){var r=new Ot(t),a=[r.primaryScale()].concat(r.getSubScales());r.sortScales(a),i=a[a.length-1].unit,n=a[a.length-1].step||1}return{unit:i,step:n}}(t),i=e.unit,n=e.step,r=function(t,e){var i={start_date:null,end_date:null};if(e.config.start_date&&e.config.end_date){i.start_date=e.date[t+"_start"](new Date(e.config.start_date));var n=new Date(e.config.end_date),r=e.date[t+"_start"](new Date(n));n=+n!=+r?e.date.add(r,1,t):r,i.end_date=n}return i}(i,t);if(!r.start_date||!r.end_date){for(var a=!0,s=t.getTaskByTime(),o=0;o<s.length;o++)if(s[o].type!==t.config.types.project){a=!1;break}if(s.length&&a){var l=s[0].start_date,c=t.date.add(l,1,t.config.duration_unit);r={start_date:new Date(l),end_date:new Date(c)}}else r=t.getSubtaskDates();r.start_date&&r.end_date||(r={start_date:new Date,end_date:new Date}),t.eachTask((function(e){t.config.deadlines&&e.deadline&&Rt(r,e.deadline,e.deadline),e.constraint_date&&e.constraint_type&&t.config.constraint_types&&e.constraint_type!==t.config.constraint_types.ASAP&&e.constraint_type!==t.config.constraint_types.ALAP&&Rt(r,e.constraint_date,e.constraint_date),t.config.baselines&&e.baselines&&e.baselines.forEach((function(t){Rt(r,t.start_date,t.end_date)}))})),r.start_date=t.date[i+"_start"](r.start_date),r.start_date=t.calculateEndDate({start_date:t.date[i+"_start"](r.start_date),duration:-1,unit:i,step:n}),r.end_date=t.date[i+"_start"](r.end_date),r.end_date=t.calculateEndDate({start_date:r.end_date,duration:2,unit:i,step:n})}t._min_date=r.start_date,t._max_date=r.end_date})(t),function(t){if(t.config.fit_tasks){var e=+t._min_date,i=+t._max_date;if(+t._min_date!=e||+t._max_date!=i)t.render(),t.callEvent("onScaleAdjusted",[])}}(t)}function Nt(t,e,i){for(var n=0;n<e.length;n++)t.isLinkExists(e[n])&&(i[e[n]]=t.getLink(e[n]))}function Bt(t,e,i){Nt(t,e.$source,i),Nt(t,e.$target,i)}const zt=function(t,e){var i={};return t.isTaskExists(e)&&Bt(t,t.getTask(e),i),t.eachTask((function(e){Bt(t,e,i)}),e),i},Vt=function(t,e){var i={};return t.eachTask((function(t){i[t.id]=t}),e),i};class Ht{constructor(t,e){this.$gantt=t,this.$dp=e,this._dataProcessorHandlers=[]}attach(){const t=this.$dp,e=this.$gantt,i={},n=i=>this.clientSideDelete(i,t,e);this._dataProcessorHandlers.push(e.attachEvent("onAfterTaskAdd",(function(i,n){e.isTaskExists(i)&&(t.setGanttMode("tasks"),t.setUpdated(i,!0,"inserted"))}))),this._dataProcessorHandlers.push(e.attachEvent("onAfterTaskUpdate",(function(i,n){e.isTaskExists(i)&&(t.setGanttMode("tasks"),t.setUpdated(i,!0),e._sendTaskOrder&&e._sendTaskOrder(i,n))}))),this._dataProcessorHandlers.push(e.attachEvent("onBeforeTaskDelete",(function(n,r){return e.config.cascade_delete&&(i[n]={tasks:Vt(e,n),links:zt(e,n)}),!t.deleteAfterConfirmation||(t.setGanttMode("tasks"),t.setUpdated(n,!0,"deleted"),!1)}))),this._dataProcessorHandlers.push(e.attachEvent("onAfterTaskDelete",(function(r,a){t.setGanttMode("tasks");const s=!n(r),o=e.config.cascade_delete&&i[r];if(s||o){if(o){const e=t.updateMode;t.setUpdateMode("off");const a=i[r];for(const e in a.tasks)n(e)||(t.storeItem(a.tasks[e]),t.setUpdated(e,!0,"deleted"));t.setGanttMode("links");for(const e in a.links)n(e)||(t.storeItem(a.links[e]),t.setUpdated(e,!0,"deleted"));i[r]=null,"off"!==e&&t.sendAllData(),t.setGanttMode("tasks"),t.setUpdateMode(e)}s&&(t.storeItem(a),t.deleteAfterConfirmation||t.setUpdated(r,!0,"deleted")),"off"===t.updateMode||t._tSend||t.sendAllData()}}))),this._dataProcessorHandlers.push(e.attachEvent("onAfterLinkUpdate",(function(i,n){e.isLinkExists(i)&&(t.setGanttMode("links"),t.setUpdated(i,!0))}))),this._dataProcessorHandlers.push(e.attachEvent("onAfterLinkAdd",(function(i,n){e.isLinkExists(i)&&(t.setGanttMode("links"),t.setUpdated(i,!0,"inserted"))}))),this._dataProcessorHandlers.push(e.attachEvent("onAfterLinkDelete",(function(e,i){t.setGanttMode("links"),!n(e)&&(t.storeItem(i),t.setUpdated(e,!0,"deleted"))}))),this._dataProcessorHandlers.push(e.attachEvent("onRowDragEnd",(function(t,i){e._sendTaskOrder(t,e.getTask(t))})));let r=null,a=null;this._dataProcessorHandlers.push(e.attachEvent("onTaskIdChange",(function(i,n){if(!t._waitMode)return;const s=e.getChildren(n);if(s.length){r=r||{};for(let t=0;t<s.length;t++){const e=this.getTask(s[t]);r[e.id]=e}}const o=function(t){let e=[];return t.$source&&(e=e.concat(t.$source)),t.$target&&(e=e.concat(t.$target)),e}(this.getTask(n));if(o.length){a=a||{};for(let t=0;t<o.length;t++){const e=this.getLink(o[t]);a[e.id]=e}}}))),t.attachEvent("onAfterUpdateFinish",(function(){(r||a)&&(e.batchUpdate((function(){for(const t in r)e.updateTask(r[t].id);for(const t in a)e.updateLink(a[t].id);r=null,a=null})),r?e._dp.setGanttMode("tasks"):e._dp.setGanttMode("links"))})),t.attachEvent("onBeforeDataSending",(function(){if("CUSTOM"===this._tMode)return!0;let t=this._serverProcessor;if("REST-JSON"===this._tMode||"REST"===this._tMode){const e=this._ganttMode;t=t.substring(0,t.indexOf("?")>-1?t.indexOf("?"):t.length),this.serverProcessor=t+("/"===t.slice(-1)?"":"/")+e}else{const i=this._ganttMode+"s";this.serverProcessor=t+e.ajax.urlSeparator(t)+"gantt_mode="+i}return!0})),t.attachEvent("insertCallback",(function(t,i,n,r){const a=t.data||e.xml._xmlNodeToJSON(t.firstChild),s={add:e.addTask,isExist:e.isTaskExists};"links"===r&&(s.add=e.addLink,s.isExist=e.isLinkExists),s.isExist.call(e,i)||(a.id=i,s.add.call(e,a))})),t.attachEvent("updateCallback",(function(t,i){const n=t.data||e.xml._xmlNodeToJSON(t.firstChild);if(!e.isTaskExists(i))return;const r=e.getTask(i);for(const t in n){let i=n[t];switch(t){case"id":continue;case"start_date":case"end_date":i=e.defined(e.templates.xml_date)?e.templates.xml_date(i):e.templates.parse_date(i);break;case"duration":r.end_date=e.calculateEndDate({start_date:r.start_date,duration:i,task:r})}r[t]=i}e.updateTask(i),e.refreshData()})),t.attachEvent("deleteCallback",(function(t,i,n,r){const a={delete:e.deleteTask,isExist:e.isTaskExists};"links"===r?(a.delete=e.deleteLink,a.isExist=e.isLinkExists):"assignment"===r&&(a.delete=function(t){e.$data.assignmentsStore.remove(t)},a.isExist=function(t){return e.$data.assignmentsStore.exists(t)}),a.isExist.call(e,i)&&a.delete.call(e,i)})),this.handleResourceCRUD(t,e),this.handleResourceAssignmentCRUD(t,e),this.handleBaselineCRUD(t,e)}clientSideDelete(t,e,i){const n=e.updatedRows.slice();let r=!1;"true_deleted"===i.getUserData(t,"!nativeeditor_status",e._ganttMode)&&(r=!0,e.setUpdated(t,!1));for(let a=0;a<n.length&&!e._in_progress[t];a++)n[a]===t&&("inserted"===i.getUserData(t,"!nativeeditor_status",e._ganttMode)&&(r=!0),e.setUpdated(t,!1));return r}handleResourceAssignmentCRUD(t,e){if(!e.config.resources||!0!==e.config.resources.dataprocessor_assignments)return;const i=e.getDatastore(e.config.resource_assignment_store),n={},r={};function a(e){const n=e.id;i.exists(n)&&(t.setGanttMode("assignment"),t.setUpdated(n,!0,"inserted")),delete r[n]}e.attachEvent("onBeforeTaskAdd",(function(t,e){return n[t]=!0,!0})),e.attachEvent("onTaskIdChange",(function(t,e){delete n[t]})),i.attachEvent("onAfterAdd",((t,e)=>{var i;n[e.task_id]?(r[(i=e).id]=i,n[i.task_id]=!0):a(e)})),i.attachEvent("onAfterUpdate",((e,n)=>{i.exists(e)&&(r[e]?a(n):(t.setGanttMode("assignment"),t.setUpdated(e,!0)))})),i.attachEvent("onAfterDelete",((i,n)=>{t.setGanttMode("assignment"),!this.clientSideDelete(i,t,e)&&(t.storeItem(n),t.setUpdated(i,!0,"deleted"))}))}handleResourceCRUD(t,e){if(!e.config.resources||!0!==e.config.resources.dataprocessor_resources)return;const i=e.getDatastore(e.config.resource_store);i.attachEvent("onAfterAdd",((e,n)=>{!function(e){const n=e.id;i.exists(n)&&(t.setGanttMode("resource"),t.setUpdated(n,!0,"inserted"))}(n)})),i.attachEvent("onAfterUpdate",((e,n)=>{i.exists(e)&&(t.setGanttMode("resource"),t.setUpdated(e,!0))})),i.attachEvent("onAfterDelete",((i,n)=>{t.setGanttMode("resource"),!this.clientSideDelete(i,t,e)&&(t.storeItem(n),t.setUpdated(i,!0,"deleted"))}))}handleBaselineCRUD(t,e){if(!e.config.baselines||!0!==e.config.baselines.dataprocessor_baselines)return;const i=e.getDatastore(e.config.baselines.datastore);i.attachEvent("onAfterAdd",((e,n)=>{!function(e){const n=e.id;i.exists(n)&&(t.setGanttMode("baseline"),t.setUpdated(n,!0,"inserted"))}(n)})),i.attachEvent("onAfterUpdate",((e,n)=>{i.exists(e)&&(t.setGanttMode("baseline"),t.setUpdated(e,!0))})),i.attachEvent("onAfterDelete",((i,n)=>{t.setGanttMode("baseline"),!this.clientSideDelete(i,t,e)&&(t.storeItem(n),t.setUpdated(i,!0,"deleted"))}))}detach(){O(this._dataProcessorHandlers,(t=>{this.$gantt.detachEvent(t)})),this._dataProcessorHandlers=[]}}const jt=class{constructor(){this.clear=()=>{this._storage={}},this.storeItem=t=>{this._storage[t.id]=J(t)},this.getStoredItem=t=>this._storage[t]||null,this._storage={}}};jt.create=()=>new jt;let Gt=jt,Wt=class{constructor(t){this.serverProcessor=t,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=Gt.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),D(this)}setTransactionMode(t,e){"object"==typeof t?(this._tMode=t.mode||this._tMode,Q(t.headers)&&(this._headers=t.headers),Q(t.payload)&&(this._payload=t.payload),this._tSend=!!e):(this._tMode=t,this._tSend=e),"REST"===this._tMode&&(this._tSend=!1),"JSON"===this._tMode||"REST-JSON"===this._tMode?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),"CUSTOM"===this._tMode&&(this._tSend=!1,this._router=t.router)}escape(t){return this._utf?encodeURIComponent(t):escape(t)}enableUTFencoding(t){this._utf=!!t}getSyncState(){return!this.updatedRows.length}setUpdateMode(t,e){this.autoUpdate="cell"===t,this.updateMode=t,this.dnd=e}ignore(t,e){this._silent_mode=!0,t.call(e||P),this._silent_mode=!1}setUpdated(t,e,i){if(this._silent_mode)return;const n=this.findRow(t);i=i||"updated";const r=this.$gantt.getUserData(t,this.action_param,this._ganttMode);r&&"updated"===i&&(i=r),e?(this.set_invalid(t,!1),this.updatedRows[n]=t,this.$gantt.setUserData(t,this.action_param,i,this._ganttMode),this._in_progress[t]&&(this._in_progress[t]="wait")):this.is_invalid(t)||(this.updatedRows.splice(n,1),this.$gantt.setUserData(t,this.action_param,"",this._ganttMode)),this.markRow(t,e,i),e&&this.autoUpdate&&this.sendData(t)}markRow(t,e,i){let n="";const r=this.is_invalid(t);if(r&&(n=this.styles[r],e=!0),this.callEvent("onRowMark",[t,e,i,r])&&(n=this.styles[e?i:"clear"]+" "+n,this.$gantt[this._methods[0]](t,n),r&&r.details)){n+=this.styles[r+"_cell"];for(let e=0;e<r.details.length;e++)r.details[e]&&this.$gantt[this._methods[1]](t,e,n)}}getActionByState(t){return"inserted"===t?"create":"updated"===t?"update":"deleted"===t?"delete":"update"}getState(t){return this.$gantt.getUserData(t,this.action_param,this._ganttMode)}is_invalid(t){return this._invalid[t]}set_invalid(t,e,i){i&&(e={value:e,details:i,toString:function(){return this.value.toString()}}),this._invalid[t]=e}checkBeforeUpdate(t){return!0}sendData(t){if(this.$gantt.editStop&&this.$gantt.editStop(),void 0===t||this._tSend){const t=[];if(this.modes&&["task","link","assignment","baseline"].forEach((e=>{this.modes[e]&&this.modes[e].updatedRows.length&&t.push(e)})),t.length){for(let e=0;e<t.length;e++)this.setGanttMode(t[e]),this.sendAllData();return}return this.sendAllData()}return!this._in_progress[t]&&(this.messages=[],!(!this.checkBeforeUpdate(t)&&this.callEvent("onValidationError",[t,this.messages]))&&void this._beforeSendData(this._getRowData(t),t))}serialize(t,e){if(this._serializeAsJson)return this._serializeAsJSON(t);if("string"==typeof t)return t;if(void 0!==e)return this.serialize_one(t,"");{const e=[],i=[];for(const n in t)t.hasOwnProperty(n)&&(e.push(this.serialize_one(t[n],n+this._postDelim)),i.push(n));return e.push("ids="+this.escape(i.join(","))),this.$gantt.security_key&&e.push("dhx_security="+this.$gantt.security_key),e.join("&")}}serialize_one(t,e){if("string"==typeof t)return t;const i=[];let n="";for(const r in t)if(t.hasOwnProperty(r)){if(("id"===r||r==this.action_param)&&"REST"===this._tMode)continue;n="string"==typeof t[r]||"number"==typeof t[r]?String(t[r]):JSON.stringify(t[r]),i.push(this.escape((e||"")+r)+"="+this.escape(n))}return i.join("&")}sendAllData(){if(!this.updatedRows.length)return;this.messages=[];let t=!0;if(this._forEachUpdatedRow((function(e){t=t&&this.checkBeforeUpdate(e)})),!t&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow((function(t){if(!this._in_progress[t]){if(this.is_invalid(t))return;this._beforeSendData(this._getRowData(t),t)}}))}findRow(t){let e=0;for(e=0;e<this.updatedRows.length&&t!=this.updatedRows[e];e++);return e}defineAction(t,e){this._uActions||(this._uActions={}),this._uActions[t]=e}afterUpdateCallback(t,e,i,n,r){if(!this.$gantt)return;this.setGanttMode(r);const a=t,s="error"!==i&&"invalid"!==i;if(s||this.set_invalid(t,i),this._uActions&&this._uActions[i]&&!this._uActions[i](n))return delete this._in_progress[a];"wait"!==this._in_progress[a]&&this.setUpdated(t,!1);const o=t;switch(i){case"inserted":case"insert":e!=t&&(this.setUpdated(t,!1),this.$gantt[this._methods[2]](t,e),t=e);break;case"delete":case"deleted":if(this.deleteAfterConfirmation&&"task"===this._ganttMode){if("task"===this._ganttMode&&this.$gantt.isTaskExists(t)){this.$gantt.setUserData(t,this.action_param,"true_deleted",this._ganttMode);const e=this.$gantt.getTask(t);this.$gantt.silent((()=>{this.$gantt.deleteTask(t)})),this.$gantt.callEvent("onAfterTaskDelete",[t,e]),this.$gantt.render(),delete this._in_progress[a]}return this.callEvent("onAfterUpdate",[t,i,e,n])}return this.$gantt.setUserData(t,this.action_param,"true_deleted",this._ganttMode),this.$gantt[this._methods[3]](t),delete this._in_progress[a],this.callEvent("onAfterUpdate",[t,i,e,n])}"wait"!==this._in_progress[a]?(s&&this.$gantt.setUserData(t,this.action_param,"",this._ganttMode),delete this._in_progress[a]):(delete this._in_progress[a],this.setUpdated(e,!0,this.$gantt.getUserData(t,this.action_param,this._ganttMode))),this.callEvent("onAfterUpdate",[o,i,e,n])}afterUpdate(t,e,i){let n;n=3===arguments.length?arguments[1]:arguments[4];let r=this.getGanttMode();const a=n.filePath||n.url;r="REST"!==this._tMode&&"REST-JSON"!==this._tMode?-1!==a.indexOf("gantt_mode=links")?"link":-1!==a.indexOf("gantt_mode=assignments")?"assignment":-1!==a.indexOf("gantt_mode=baselines")?"baseline":"task":a.indexOf("/link")>=0?"link":a.indexOf("/assignment")>=0?"assignment":a.indexOf("/baseline")>=0?"baseline":"task",this.setGanttMode(r);const s=this.$gantt.ajax;let o;try{o=JSON.parse(e.xmlDoc.responseText)}catch{e.xmlDoc.responseText.length||(o={})}const l=e=>{const i=o.action||this.getState(e)||"updated",n=o.sid||e[0],a=o.tid||e[0];t.afterUpdateCallback(n,a,i,o,r)};if(o)return Array.isArray(i)&&i.length>1?i.forEach((t=>l(t))):l(i),t.finalizeUpdate(),void this.setGanttMode(r);const c=s.xmltop("data",e.xmlDoc);if(!c)return this.cleanUpdate(i);const d=s.xpath("//data/action",c);if(!d.length)return this.cleanUpdate(i);for(let e=0;e<d.length;e++){const i=d[e],n=i.getAttribute("type"),a=i.getAttribute("sid"),s=i.getAttribute("tid");t.afterUpdateCallback(a,s,n,i,r)}t.finalizeUpdate()}cleanUpdate(t){if(t)for(let e=0;e<t.length;e++)delete this._in_progress[t[e]]}finalizeUpdate(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])}init(t){if(this._initialized)return;var e,i;this.$gantt=t,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",delete_confirmation:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],e=this.$gantt,i=this,e.getUserData=function(t,e,i){return this.userdata||(this.userdata={}),this.userdata[i]=this.userdata[i]||{},this.userdata[i][t]&&this.userdata[i][t][e]?this.userdata[i][t][e]:""},e.setUserData=function(t,e,i,n){this.userdata||(this.userdata={}),this.userdata[n]=this.userdata[n]||{},this.userdata[n][t]=this.userdata[n][t]||{},this.userdata[n][t][e]=i},e._change_id=function(t,e){switch(this._dp._ganttMode){case"task":this.changeTaskId(t,e);break;case"link":this.changeLinkId(t,e);break;case"assignment":this.$data.assignmentsStore.changeId(t,e);break;case"resource":this.$data.resourcesStore.changeId(t,e);break;case"baseline":this.$data.baselineStore.changeId(t,e);break;default:throw new Error(`Invalid mode of the dataProcessor after database id is received: ${this._dp._ganttMode}, new id: ${e}`)}},e._row_style=function(t,i){"task"===this._dp._ganttMode&&e.isTaskExists(t)&&(e.getTask(t).$dataprocessor_class=i,e.refreshTask(t))},e._delete_task=function(t,e){},e._sendTaskOrder=function(t,e){e.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(t).target=e.$drop_target,this._dp.setUpdated(t,!0,"order"),delete this.getTask(t).$drop_target)},e.setDp=function(){this._dp=i},e.setDp();const n=new Ht(this.$gantt,this);n.attach(),this.attachEvent("onDestroy",(function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,n.detach()})),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}setOnAfterUpdate(t){this.attachEvent("onAfterUpdate",t)}setOnBeforeUpdateHandler(t){this.attachEvent("onBeforeDataSending",t)}setAutoUpdate(t,e){t=t||2e3,this._user=e||(new Date).valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval((()=>{this.loadUpdate()}),t)}afterAutoUpdate(t,e,i,n){return"collision"!==e||(this._needUpdate=!0,!1)}fullSync(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0}getUpdates(t,e){const i=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,i.get(t,e)}loadUpdate(){const t=this.$gantt.ajax,e=this.$gantt.getUserData(0,"version",this._ganttMode);let i=this.serverProcessor+t.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+e].join("&");i=i.replace("editing=true&",""),this.getUpdates(i,(e=>{const i=t.xpath("//userdata",e);this.$gantt.setUserData(0,"version",this._getXmlNodeValue(i[0]),this._ganttMode);const n=t.xpath("//update",e);if(n.length){this._silent_mode=!0;for(let t=0;t<n.length;t++){const e=n[t].getAttribute("status"),i=n[t].getAttribute("id"),r=n[t].getAttribute("parent");switch(e){case"inserted":this.callEvent("insertCallback",[n[t],i,r]);break;case"updated":this.callEvent("updateCallback",[n[t],i,r]);break;case"deleted":this.callEvent("deleteCallback",[n[t],i,r])}}this._silent_mode=!1}this._updateBusy=!1}))}destructor(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized}setGanttMode(t){"tasks"===t?t="task":"links"===t&&(t="link");const e=this.modes||{},i=this.getGanttMode();i&&(e[i]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});let n=e[t];n||(n=e[t]={_in_progress:{},_invalid:{},_storage:Gt.create(),updatedRows:[]}),this._in_progress=n._in_progress,this._invalid=n._invalid,this._storage=n._storage,this.updatedRows=n.updatedRows,this.modes=e,this._ganttMode=t}getGanttMode(){return this._ganttMode}storeItem(t){this._storage.storeItem(t)}url(t){this.serverProcessor=this._serverProcessor=t}_beforeSendData(t,e){if(!this.callEvent("onBeforeUpdate",[e,this.getState(e),t]))return!1;this._sendData(t,e)}_serializeAsJSON(t){if("string"==typeof t)return t;const e=J(t);return"REST-JSON"===this._tMode&&(delete e.id,delete e[this.action_param]),JSON.stringify(e)}_applyPayload(t){const e=this.$gantt.ajax;if(this._payload)for(const i in this._payload)t=t+e.urlSeparator(t)+this.escape(i)+"="+this.escape(this._payload[i]);return t}_cleanupArgumentsBeforeSend(t){let e;if(void 0===t[this.action_param]){e={};for(const i in t)e[i]=this._cleanupArgumentsBeforeSend(t[i])}else e=this._cleanupItemBeforeSend(t);return e}_cleanupItemBeforeSend(t){let e=null;return t&&("deleted"===t[this.action_param]?(e={},e.id=t.id,e[this.action_param]=t[this.action_param]):e=t),e}_sendData(t,e){if(!t)return;if(!this.callEvent("onBeforeDataSending",e?[e,this.getState(e),t]:[null,null,t]))return!1;e&&(this._in_progress[e]=(new Date).valueOf());const i=this.$gantt.ajax;if("CUSTOM"===this._tMode){const i=this.getState(e),n=this.getActionByState(i),r=this.getGanttMode(),a=t=>{let n=i||"updated",a=e,s=e;t&&(n=t.action||i,a=t.sid||a,s=t.id||t.tid||s),this.afterUpdateCallback(a,s,n,t,r)};let s;if(this._router instanceof Function)if("object"===this._routerParametersFormat){const i={entity:r,action:n,data:t,id:e};s=this._router(i)}else s=this._router(r,n,t,e);else if(this._router[r]instanceof Function)s=this._router[r](n,t,e);else{const n="Incorrect configuration of gantt.createDataProcessor",a="\nYou need to either add missing properties to the dataProcessor router object or to use a router function.\nSee https://docs.dhtmlx.com/gantt/desktop__server_side.html#customrouting and https://docs.dhtmlx.com/gantt/api__gantt_createdataprocessor.html for details.";if(!this._router[r])throw new Error(`${n}: router for the **${r}** entity is not defined. ${a}`);switch(i){case"inserted":if(!this._router[r].create)throw new Error(`${n}: **create** action for the **${r}** entity is not defined. ${a}`);s=this._router[r].create(t);break;case"deleted":if(!this._router[r].delete)throw new Error(`${n}: **delete** action for the **${r}** entity is not defined. ${a}`);s=this._router[r].delete(e);break;default:if(!this._router[r].update)throw new Error(`${n}: **update**" action for the **${r}** entity is not defined. ${a}`);s=this._router[r].update(t,e)}}if(s){if(!s.then&&void 0===s.id&&void 0===s.tid&&void 0===s.action)throw new Error("Incorrect router return value. A Promise or a response object is expected");s.then?s.then(a).catch((t=>{t&&t.action?a(t):a({action:"error",value:t})})):a(s)}else a(null);return}let n;n={callback:i=>{const n=[];if(e)n.push(e);else if(t)for(const e in t)n.push(e);return this.afterUpdate(this,i,n)},headers:this._headers};const r="dhx_version="+this.$gantt.getUserData(0,"version",this._ganttMode),a=this.serverProcessor+(this._user?i.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,r].join("&"):"");let s,o=this._applyPayload(a);switch(this._tMode){case"GET":s=this._cleanupArgumentsBeforeSend(t),n.url=o+i.urlSeparator(o)+this.serialize(s,e),n.method="GET";break;case"POST":s=this._cleanupArgumentsBeforeSend(t),n.url=o,n.method="POST",n.data=this.serialize(s,e);break;case"JSON":s={};const r=this._cleanupItemBeforeSend(t);for(const t in r)t!==this.action_param&&"id"!==t&&"gr_id"!==t&&(s[t]=r[t]);n.url=o,n.method="POST",n.data=JSON.stringify({id:e,action:t[this.action_param],data:s});break;case"REST":case"REST-JSON":switch(o=a.replace(/(&|\?)editing=true/,""),s="",this.getState(e)){case"inserted":n.method="POST",n.data=this.serialize(t,e);break;case"deleted":n.method="DELETE",o=o+("/"===o.slice(-1)?"":"/")+e;break;default:n.method="PUT",n.data=this.serialize(t,e),o=o+("/"===o.slice(-1)?"":"/")+e}n.url=this._applyPayload(o)}return this._waitMode++,i.query(n)}_forEachUpdatedRow(t){const e=this.updatedRows.slice();for(let i=0;i<e.length;i++){const n=e[i];this.$gantt.getUserData(n,this.action_param,this._ganttMode)&&t.call(this,n)}}_setDefaultTransactionMode(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(-1!==this.serverProcessor.indexOf("?")?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)}_getXmlNodeValue(t){return t.firstChild?t.firstChild.nodeValue:""}_getAllData(){const t={};let e=!1;return this._forEachUpdatedRow((function(i){if(this._in_progress[i]||this.is_invalid(i))return;const n=this._getRowData(i);this.callEvent("onBeforeUpdate",[i,this.getState(i),n])&&(t[i]=n,e=!0,this._in_progress[i]=(new Date).valueOf())})),e?t:null}_prepareDate(t){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(t):this.$gantt.templates.format_date(t)}_prepareArray(t,e){return e.push(t),t.map((t=>B(t)?this._prepareDate(t):Array.isArray(t)&&!F(e,t)?this._prepareArray(t,e):t&&"object"==typeof t&&!F(e,t)?this._prepareObject(t,e):t))}_prepareObject(t,e){const i={};e.push(t);for(const n in t){if("$"===n.substr(0,1))continue;const r=t[n];B(r)?i[n]=this._prepareDate(r):null===r?i[n]="":Array.isArray(r)&&!F(e,r)?i[n]=this._prepareArray(r,e):r&&"object"==typeof r&&!F(e,r)?i[n]=this._prepareObject(r,e):i[n]=r}return i}_prepareDataItem(t){const e=this._prepareObject(t,[]);return e[this.action_param]=this.$gantt.getUserData(t.id,this.action_param,this._ganttMode),e}getStoredItem(t){return this._storage.getStoredItem(t)}_getRowData(t){let e;const i=this.$gantt;return"task"===this.getGanttMode()?i.isTaskExists(t)&&(e=this.$gantt.getTask(t)):"assignment"===this.getGanttMode()?this.$gantt.$data.assignmentsStore.exists(t)&&(e=this.$gantt.$data.assignmentsStore.getItem(t)):"baseline"===this.getGanttMode()?this.$gantt.$data.baselineStore.exists(t)&&(e=this.$gantt.$data.baselineStore.getItem(t)):i.isLinkExists(t)&&(e=this.$gantt.getLink(t)),e||(e=this.getStoredItem(t)),e||(e={id:t}),this._prepareDataItem(e)}};const qt=function(t){return new Wt(t)},Ut=function(t){let e,i,n;t instanceof Function?e=t:t.hasOwnProperty("router")?e=t.router:t.hasOwnProperty("assignment")||t.hasOwnProperty("baseline")||t.hasOwnProperty("link")||t.hasOwnProperty("task")?e=t:t.hasOwnProperty("headers")&&(n=t.headers),i=e?"CUSTOM":t.mode||"REST-JSON";const r=new Wt(t.url);return r.init(this),r.setTransactionMode({mode:i,router:e,headers:n},t.batchUpdate),t.deleteAfterConfirmation&&(r.deleteAfterConfirmation=t.deleteAfterConfirmation),r};function Yt(t){var e={},i=!1;function n(t,i){i="function"==typeof i?i:function(){},e[t]||(e[t]=this[t],this[t]=i)}function r(t){e[t]&&(this[t]=e[t],e[t]=null)}function a(t){for(var e in t)n.call(this,e,t[e])}function s(){for(var t in e)r.call(this,t)}function o(t){try{t()}catch(t){P.console.error(t)}}return t.$services.getService("state").registerProvider("batchUpdate",(function(){return{batch_update:i}}),!1),function(t,e){if(i)o(t);else{var n,r=this._dp&&"off"!=this._dp.updateMode;r&&(n=this._dp.updateMode,this._dp.setUpdateMode("off"));var l={},c={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(t){l[t.id]=t}};for(var d in a.call(this,c),i=!0,this.callEvent("onBeforeBatchUpdate",[]),o(t),this.callEvent("onAfterBatchUpdate",[]),s.call(this),l)this.resetProjectDates(l[d]);i=!1,e||this.render(),r&&(this._dp.setUpdateMode(n),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}function Xt(t){t.batchUpdate=Yt(t)}function Kt(t){const e=(i=t,{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!i.getState().group_mode},_getWBSCode:function(t){return t?(this._isRecalcNeeded()&&this._calcWBS(),t.$virtual?"":this._isGroupSort()?t.$wbs||"":(t.$wbs||(this.reset(),this._calcWBS()),t.$wbs)):""},_setWBSCode:function(t,e){t.$wbs=e},getWBSCode:function(t){return this._getWBSCode(t)},getByWBSCode:function(t){let e=t.split("."),n=i.config.root_id;for(let t=0;t<e.length;t++){const r=i.getChildren(n);let a=1*e[t]-1;if(!i.isTaskExists(r[a]))return null;n=r[a]}return i.isTaskExists(n)?i.getTask(n):null},_calcWBS:function(){if(!this._isRecalcNeeded())return;let t=!0;i.eachTask((function(e){if(e.type==i.config.types.placeholder)return;if(t)return t=!1,void this._setWBSCode(e,"1");const n=this._getPrevNonPlaceholderSibling(e.id);if(null!==n)this._increaseWBS(e,n);else{let t=i.getParent(e.id);this._setWBSCode(e,i.getTask(t).$wbs+".1")}}),i.config.root_id,this),this._needRecalc=!1},_increaseWBS:function(t,e){let n=i.getTask(e).$wbs;n&&(n=n.split("."),n[n.length-1]++,this._setWBSCode(t,n.join(".")))},_getPrevNonPlaceholderSibling:function(t){let e,n=t;do{e=i.getPrevSibling(n),n=e}while(null!==e&&i.getTask(e).type==i.config.types.placeholder);return e}});var i;function n(){return e.reset(),!0}t.getWBSCode=function(t){return e.getWBSCode(t)},t.getTaskByWBSCode=function(t){return e.getByWBSCode(t)},t.attachEvent("onAfterTaskMove",n),t.attachEvent("onBeforeParse",n),t.attachEvent("onAfterTaskDelete",n),t.attachEvent("onAfterTaskAdd",n),t.attachEvent("onAfterSort",n)}function Jt(t){var e=function(t){var e={},i=!1;t.$data.tasksStore.attachEvent("onStoreUpdated",(function(){e={},i=!1})),t.attachEvent("onBeforeGanttRender",(function(){e={}}));var n=String(Math.random());function r(t){return null===t?n+String(t):String(t)}function a(t,e,i){return Array.isArray(t)?t.map((function(t){return r(t)})).join("_")+`_${e}_${i}`:r(t)+`_${e}_${i}`}function s(n,s,o){var l,c=a(s,n,JSON.stringify(o)),d={};return O(s,(function(t){d[r(t)]=!0})),e[c]?l=e[c]:(l=e[c]=[],t.eachTask((function(s){if(o){if(!o[t.getTaskType(s)])return}else if(s.type==t.config.types.project)return;n in s&&O(N(s[n])?s[n]:[s[n]],(function(t){var o=t&&t.resource_id?t.resource_id:t;if(d[r(o)])l.push(s);else if(!i){var c=a(t,n);e[c]||(e[c]=[]),e[c].push(s)}}))})),i=!0),l}function o(e,i,n){var r=t.config.resource_property,a=[];if(t.getDatastore("task").exists(i)){var s=t.getTask(i);a=s[r]||[]}Array.isArray(a)||(a=[a]);for(var o=0;o<a.length;o++)a[o].resource_id==e&&n.push({task_id:s.id,resource_id:a[o].resource_id,value:a[o].value})}return{getTaskBy:function(e,i,n){return"function"==typeof e?(r=e,a=[],t.eachTask((function(t){r(t)&&a.push(t)})),a):N(i)?s(e,i,n):s(e,[i],n);var r,a},getResourceAssignments:function(e,i){var n=[],r=t.config.resource_property;return void 0!==i?o(e,i,n):t.getTaskBy(r,e).forEach((function(t){o(e,t.id,n)})),n}}}(t);t.ext.resources=function(t){const e={renderEditableLabel:function(e,i,n,r,a){const s=t.config.readonly?"":"contenteditable";if(e<n.end_date&&i>n.start_date){for(let r=0;r<a.length;r++){const o=a[r];return"<div "+s+" data-assignment-cell data-assignment-id='"+o.id+"' data-row-id='"+n.id+"' data-task='"+n.$task_id+"' data-start-date='"+t.templates.format_date(e)+"' data-end-date='"+t.templates.format_date(i)+"'>"+o.value+"</div>"}return"<div "+s+" data-assignment-cell data-empty  data-row-id='"+n.id+"' data-resource-id='"+n.$resource_id+"' data-task='"+n.$task_id+"' data-start-date='"+t.templates.format_date(e)+"''  data-end-date='"+t.templates.format_date(i)+"'>-</div>"}return""},renderSummaryLabel:function(t,e,i,n,r){let a=r.reduce((function(t,e){return t+Number(e.value)}),0);return a%1&&(a=Math.round(10*a)/10),a?"<div>"+a+"</div>":""},editableResourceCellTemplate:function(t,i,n,r,a){return"task"===n.$role?e.renderEditableLabel(t,i,n,r,a):e.renderSummaryLabel(t,i,n,r,a)},editableResourceCellClass:function(t,e,i,n,r){const a=[];a.push("resource_marker"),"task"===i.$role?a.push("task_cell"):a.push("resource_cell");const s=r.reduce((function(t,e){return t+Number(e.value)}),0);let o=Number(i.capacity);return isNaN(o)&&(o=8),s<=o?a.push("workday_ok"):a.push("workday_over"),a.join(" ")},getSummaryResourceAssignments:function(e){let i;const n=t.getDatastore(t.config.resource_store),r=n.getItem(e);return"task"===r.$role?i=t.getResourceAssignments(r.$resource_id,r.$task_id):(i=t.getResourceAssignments(e),n.eachItem&&n.eachItem((function(e){"task"!==e.$role&&(i=i.concat(t.getResourceAssignments(e.id)))}),e)),i},initEditableDiagram:function(){t.config.resource_render_empty_cells=!0,function(){let e=null;function i(){return e&&cancelAnimationFrame(e),e=requestAnimationFrame((function(){t.$container&&Array.prototype.slice.call(t.$container.querySelectorAll(".resourceTimeline_cell [data-assignment-cell]")).forEach((function(t){t.contentEditable=!0}))})),!0}t.attachEvent("onGanttReady",(function(){t.getDatastore(t.config.resource_assignment_store).attachEvent("onStoreUpdated",i),t.getDatastore(t.config.resource_store).attachEvent("onStoreUpdated",i)}),{once:!0}),t.attachEvent("onGanttLayoutReady",(function(){t.$layout.getCellsByType("viewCell").forEach((function(t){t.$config&&"resourceTimeline"===t.$config.view&&t.$content&&t.$content.attachEvent("onScroll",i)}))}))}();let e=null;function i(){setTimeout((function(){const i=s(t.$container);e>-1&&i[e+1].focus()}),300)}t.attachEvent("onGanttReady",(function(){let n=!1;t.event(t.$container,"keypress",(function(t){var e=t.target.closest(".resourceTimeline_cell [data-assignment-cell]");e&&(13!==t.keyCode&&27!==t.keyCode||e.blur())})),t.event(t.$container,"keydown",(function(i){"Tab"===i.key&&(e=s(t.$container).indexOf(document.activeElement))})),t.event(t.$container,"focusout",(function(e){if(!n){n=!0,setTimeout((function(){n=!1}),300);var r=e.target.closest(".resourceTimeline_cell [data-assignment-cell]");if(r){var a=(r.innerText||"").trim();"-"==a&&(a="0");var s=Number(a),o=r.getAttribute("data-row-id"),l=r.getAttribute("data-assignment-id"),c=r.getAttribute("data-task"),d=r.getAttribute("data-resource-id"),h=t.templates.parse_date(r.getAttribute("data-start-date")),u=t.templates.parse_date(r.getAttribute("data-end-date")),f=t.getDatastore(t.config.resource_assignment_store);if(isNaN(s))t.getDatastore(t.config.resource_store).refresh(o);else{var p=t.getTask(c);if(t.plugins().undo&&t.ext.undo.saveState(c,"task"),l){if(s===(m=f.getItem(l)).value)return;if(m.start_date.valueOf()===h.valueOf()&&m.end_date.valueOf()===u.valueOf())m.value=s,s?f.updateItem(m.id):f.removeItem(m.id);else{if(m.end_date.valueOf()>u.valueOf()){var g=t.copy(m);g.id=t.uid(),g.start_date=u,g.duration=t.calculateDuration({start_date:g.start_date,end_date:g.end_date,task:p}),g.delay=t.calculateDuration({start_date:p.start_date,end_date:g.start_date,task:p}),g.mode=m.mode||"default",0!==g.duration&&f.addItem(g)}m.start_date.valueOf()<h.valueOf()?(m.end_date=h,m.duration=t.calculateDuration({start_date:m.start_date,end_date:m.end_date,task:p}),m.mode="fixedDuration",0===m.duration?f.removeItem(m.id):f.updateItem(m.id)):f.removeItem(m.id),s&&f.addItem({task_id:m.task_id,resource_id:m.resource_id,value:s,start_date:h,end_date:u,duration:t.calculateDuration({start_date:h,end_date:u,task:p}),delay:t.calculateDuration({start_date:p.start_date,end_date:h,task:p}),mode:"fixedDuration"})}t.updateTaskAssignments(p.id),t.updateTask(p.id),i()}else if(s){var m={task_id:c,resource_id:d,value:s,start_date:h,end_date:u,duration:t.calculateDuration({start_date:h,end_date:u,task:p}),delay:t.calculateDuration({start_date:p.start_date,end_date:h,task:p}),mode:"fixedDuration"};f.addItem(m),t.updateTaskAssignments(p.id),t.updateTask(p.id),i()}}}}}))}),{once:!0})}};return e}(t),t.config.resources={dataprocessor_assignments:!1,dataprocessor_resources:!1,editable_resource_diagram:!1,resource_store:{type:"treeDataStore",fetchTasks:!1,initItem:function(e){return e.parent=e.parent||t.config.root_id,e[t.config.resource_property]=e.parent,e.open=!0,e}},lightbox_resources:function(e){const i=[],n=t.getDatastore(t.config.resource_store);return e.forEach((function(e){if(!n.hasChild(e.id)){const n=t.copy(e);n.key=e.id,n.label=e.text,i.push(n)}})),i}},t.attachEvent("onBeforeGanttReady",(function(){if(t.getDatastore(t.config.resource_store))return;const e=t.config.resources?t.config.resources.resource_store:void 0;let i=e?e.fetchTasks:void 0;t.config.resources&&t.config.resources.editable_resource_diagram&&(i=!0);let n=function(e){return e.parent=e.parent||t.config.root_id,e[t.config.resource_property]=e.parent,e.open=!0,e};e&&e.initItem&&(n=e.initItem);const r=e&&e.type?e.type:"treeDatastore";t.$resourcesStore=t.createDatastore({name:t.config.resource_store,type:r,fetchTasks:void 0!==i&&i,initItem:n}),t.$data.resourcesStore=t.$resourcesStore,t.$resourcesStore.attachEvent("onParse",(function(){let e,i=function(e){const i=[];return e.forEach((function(e){const n=t.copy(e);n.key=e.id,n.label=e.text,i.push(n)})),i};t.config.resources&&t.config.resources.lightbox_resources&&(i=t.config.resources.lightbox_resources),e=t.config.resources&&t.config.resources.editable_resource_diagram?i(t.$resourcesStore.getItems().filter((e=>{let i=t.getResourceAssignments(e.id);if(!t.$resourcesStore.hasChild(e.id)||i&&i.length)return!e.$resource_id||!e.$task_id}))):i(t.$resourcesStore.getItems()),t.updateCollection("resourceOptions",e)}))})),t.getTaskBy=e.getTaskBy,t.getResourceAssignments=e.getResourceAssignments,t.config.resource_property="owner_id",t.config.resource_store="resource",t.config.resource_render_empty_cells=!1,t.templates.histogram_cell_class=function(t,e,i,n,r){},t.templates.histogram_cell_label=function(t,e,i,n,r){return n.length+"/3"},t.templates.histogram_cell_allocated=function(t,e,i,n,r){return n.length/3},t.templates.histogram_cell_capacity=function(t,e,i,n,r){return 0};const i=function(t,e,i,n,r){return n.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},n=function(t,e,i,n,r){return 8*n.length};t.templates.resource_cell_value=n,t.templates.resource_cell_class=i,t.attachEvent("onBeforeGanttReady",(function(){t.config.resources&&t.config.resources.editable_resource_diagram&&(t.config.resource_render_empty_cells=!0,t.templates.resource_cell_value===n&&(t.templates.resource_cell_value=t.ext.resources.editableResourceCellTemplate),t.templates.resource_cell_class===i&&(t.templates.resource_cell_class=t.ext.resources.editableResourceCellClass),t.ext.resources.initEditableDiagram(t))}))}function Zt(t){var e="$resourceAssignments";t.config.resource_assignment_store="resourceAssignments",t.config.process_resource_assignments=!0;var i="auto",n="singleValue",r="valueArray",a="resourceValueArray",s="assignmentsArray",o=i,l="fixedDates",c="fixedDuration",d="default";function h(e,i){e.start_date?e.start_date=t.date.parseDate(e.start_date,"parse_date"):e.start_date=null,e.end_date?e.end_date=t.date.parseDate(e.end_date,"parse_date"):e.end_date=null;var n=Number(e.delay),r=!1;if(isNaN(n)?(e.delay=0,r=!0):e.delay=n,t.defined(e.value)||(e.value=null),!e.task_id||!e.resource_id)return!1;if(e.mode=e.mode||d,e.mode===c&&(isNaN(Number(e.duration))&&(i=i||t.getTask(e.task_id),e.duration=t.calculateDuration({start_date:e.start_date,end_date:e.end_date,id:i})),r&&(i=i||t.getTask(e.task_id),e.delay=t.calculateDuration({start_date:i.start_date,end_date:e.start_date,id:i}))),e.mode!==l&&(i||t.isTaskExists(e.task_id))){var a=f(e,i=i||t.getTask(e.task_id));e.start_date=a.start_date,e.end_date=a.end_date,e.duration=a.duration}}var u=t.createDatastore({name:t.config.resource_assignment_store,initItem:function(e){return e.id||(e.id=t.uid()),h(e),e}});function f(e,i){if(e.mode===l)return{start_date:e.start_date,end_date:e.end_date,duration:e.duration};var n,r,a=e.delay?t.calculateEndDate({start_date:i.start_date,duration:e.delay,task:i}):new Date(i.start_date);return e.mode===c?(n=t.calculateEndDate({start_date:a,duration:e.duration,task:i}),r=e.duration):(n=new Date(i.end_date),r=i.duration-e.delay),{start_date:a,end_date:n,duration:r}}function p(e){const l=t.config.resource_property;let u=e[l];const f=[];let p=o===i;if(t.defined(u)&&u){Array.isArray(u)||(u=[u],p&&(o=n,p=!1));const i={};u.forEach((function(n){n.resource_id||(n={resource_id:n},p&&(o=r,p=!1)),p&&(n.id&&n.resource_id?(o=s,p=!1):(o=a,p=!1));let l,u=d;n.mode||(n.start_date&&n.end_date||n.start_date&&n.duration)&&(u=c),l=n.id||!n.$id||i[n.$id]?n.id&&!i[n.id]?n.id:t.uid():n.$id,i[l]=!0;const g={id:l,start_date:n.start_date,duration:n.duration,end_date:n.end_date,delay:n.delay,task_id:e.id,resource_id:n.resource_id,value:n.value,mode:n.mode||u};Object.keys(n).forEach((t=>{"$id"!=t&&(g[t]=n[t])})),g.start_date&&g.start_date.getMonth&&g.end_date&&g.end_date.getMonth&&"number"==typeof g.duration||h(g,e),f.push(g)}))}return f}function g(e){if(t.isTaskExists(e)){var i=t.getTask(e);m(i,t.getTaskAssignments(i.id))}}function m(i,n){n.sort((function(t,e){return t.start_date&&e.start_date&&t.start_date.valueOf()!=e.start_date.valueOf()?t.start_date-e.start_date:0})),o==s?i[t.config.resource_property]=n:o==a&&(i[t.config.resource_property]=n.map((function(t){return{$id:t.id,start_date:t.start_date,duration:t.duration,end_date:t.end_date,delay:t.delay,resource_id:t.resource_id,value:t.value,mode:t.mode}}))),i[e]=n}function _(e){var i=p(e);return i.forEach((function(e){e.id=e.id||t.uid()})),i}function v(t,e){var i=function(t,e){var i={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(o==n){var l=t[0],c=l?l.resource_id:null,d=!1;e.forEach((function(t){t.resource_id!=c?i.inStoreNotInTask.push(t):t.resource_id==c&&(i.inBoth.push({store:t,task:l}),d=!0)})),!d&&l&&i.inTaskNotInStore.push(l)}else if(o==r){var h={},u={},f={};t.forEach((function(t){h[t.resource_id]=t})),e.forEach((function(t){u[t.resource_id]=t})),t.concat(e).forEach((function(t){if(!f[t.resource_id]){f[t.resource_id]=!0;var e=h[t.resource_id],n=u[t.resource_id];e&&n?i.inBoth.push({store:n,task:e}):e&&!n?i.inTaskNotInStore.push(e):!e&&n&&i.inStoreNotInTask.push(n)}}))}else o!=s&&o!=a||(h={},u={},f={},t.forEach((function(t){h[t.id||t.$id]=t})),e.forEach((function(t){u[t.id]=t})),t.concat(e).forEach((function(t){var e=t.id||t.$id;if(!f[e]){f[e]=!0;var n=h[e],r=u[e];n&&r?i.inBoth.push({store:r,task:n}):n&&!r?i.inTaskNotInStore.push(n):!n&&r&&i.inStoreNotInTask.push(r)}})));return i}(p(t),e);i.inStoreNotInTask.forEach((function(t){u.removeItem(t.id)})),i.inTaskNotInStore.forEach((function(t){u.addItem(t)})),i.inBoth.forEach((function(e){if(function(t,e){var i={id:!0};for(var n in t)if(!i[n]&&String(t[n])!==String(e[n]))return!0;return!1}(e.task,e.store))(function(t,e){var i={id:!0};for(var n in t)i[n]||(e[n]=t[n])})(e.task,e.store),u.updateItem(e.store.id);else if(e.task.start_date&&e.task.end_date&&e.task.mode!==l){var i=f(e.store,t);e.store.start_date.valueOf()==i.start_date.valueOf()&&e.store.end_date.valueOf()==i.end_date.valueOf()||(e.store.start_date=i.start_date,e.store.end_date=i.end_date,e.store.duration=i.duration,u.updateItem(e.store.id))}})),g(t.id)}function y(t){var i=t[e]||u.find((function(e){return e.task_id==t.id}));v(t,i)}t.$data.assignmentsStore=u,t.attachEvent("onGanttReady",(function(){if(t.config.process_resource_assignments){t.attachEvent("onParse",(function(){t.silent((function(){u.clearAll();var e=[];t.eachTask((function(i){if(i.type!==t.config.types.project){var n=_(i);m(i,n),n.forEach((function(t){e.push(t)}))}})),u.parse(e)}))}));var e=!1,i=!1,n={},r=!1;t.attachEvent("onBeforeBatchUpdate",(function(){e=!0})),t.attachEvent("onAfterBatchUpdate",(function(){if(i){var r={};for(var a in n)r[a]=t.getTaskAssignments(n[a].id);for(var a in t.config.process_resource_assignments&&"resourceValueArray"===o&&(l=null),n)v(n[a],r[a])}i=!1,e=!1,n={}})),t.attachEvent("onTaskCreated",(function(t){var e=_(t);return u.parse(e),m(t,e),!0})),t.attachEvent("onAfterTaskUpdate",(function(t,r){e?(i=!0,n[t]=r):r.unscheduled||y(r)})),t.attachEvent("onAfterTaskAdd",(function(t,r){e?(i=!0,n[t]=r):y(r)})),t.attachEvent("onRowDragEnd",(function(e){y(t.getTask(e))})),t.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",(function(e,i){var n,r=[e];t.eachTask((function(t){r.push(t.id)}),e),n={},r.forEach((function(t){n[t]=!0})),u.find((function(t){return n[t.task_id]})).forEach((function(t){u.removeItem(t.id)}))})),t.$data.tasksStore.attachEvent("onClearAll",(function(){return a=null,s=null,l=null,u.clearAll(),!0})),t.attachEvent("onTaskIdChange",(function(t,e){u.find((function(e){return e.task_id==t})).forEach((function(t){t.task_id=e,u.updateItem(t.id)})),g(e)})),t.attachEvent("onBeforeUndo",(function(t){return r=!0,!0})),t.attachEvent("onAfterUndo",(function(t){r=!0}));var a=null,s=null,l=null;u.attachEvent("onStoreUpdated",(function(){return e&&!r||(a=null,s=null,l=null),!0})),t.getResourceAssignments=function(e,i){var n=t.defined(i)&&null!==i;return null===a&&(a={},s={},u.eachItem((function(t){a[t.resource_id]||(a[t.resource_id]=[]),a[t.resource_id].push(t);var e=t.resource_id+"-"+t.task_id;s[e]||(s[e]=[]),s[e].push(t)}))),n?(s[e+"-"+i]||[]).slice():(a[e]||[]).slice()},t.getTaskAssignments=function(t){if(null===l){var e=[];l={},u.eachItem((function(i){l[i.task_id]||(l[i.task_id]=[]),l[i.task_id].push(i),i.task_id==t&&e.push(i)}))}return(l[t]||[]).slice()},t.getTaskResources=function(e){const i=t.getDatastore("resource"),n=t.getTaskAssignments(e),r={};n.forEach((function(t){r[t.resource_id]||(r[t.resource_id]=t.resource_id)}));const a=[];for(const t in r){const e=i.getItem(r[t]);e&&a.push(e)}return a},t.updateTaskAssignments=g}}),{once:!0})}function Qt(t){function e(e){return function(){return!t.config.placeholder_task||e.apply(this,arguments)}}function i(){var e=t.getTaskBy("type",t.config.types.placeholder);if(!e.length||!t.isTaskExists(e[0].id)){var i={unscheduled:!0,type:t.config.types.placeholder,duration:0,text:t.locale.labels.new_task};if(!1===t.callEvent("onTaskCreated",[i]))return;t.addTask(i)}}function n(e){var i=t.getTask(e);i.type==t.config.types.placeholder&&(i.start_date&&i.end_date&&i.unscheduled&&(i.unscheduled=!1),t.batchUpdate((function(){var e=t.copy(i);t.silent((function(){t.deleteTask(i.id)})),delete e["!nativeeditor_status"],e.type=t.config.types.task,e.id=t.uid(),t.addTask(e)})))}t.config.types.placeholder="placeholder",t.attachEvent("onDataProcessorReady",e((function(i){i&&!i._silencedPlaceholder&&(i._silencedPlaceholder=!0,i.attachEvent("onBeforeUpdate",e((function(e,n,r){return r.type!=t.config.types.placeholder||(i.setUpdated(e,!1),!1)}))))})));var r=!1;function a(e){return!(!t.config.types.placeholder||!t.isTaskExists(e)||t.getTask(e).type!=t.config.types.placeholder)}function s(t){return!(!a(t.source)&&!a(t.target))}t.attachEvent("onGanttReady",(function(){r||(r=!0,t.attachEvent("onAfterTaskUpdate",e(n)),t.attachEvent("onAfterTaskAdd",e((function(e,n){n.type!=t.config.types.placeholder&&(t.getTaskBy("type",t.config.types.placeholder).forEach((function(e){t.silent((function(){t.isTaskExists(e.id)&&t.deleteTask(e.id)}))})),i())}))),t.attachEvent("onParse",e(i)))})),t.attachEvent("onLinkValidation",(function(t){return!s(t)})),t.attachEvent("onBeforeLinkAdd",(function(t,e){return!s(e)})),t.attachEvent("onBeforeUndoStack",(function(e){for(var i=0;i<e.commands.length;i++){var n=e.commands[i];"task"===n.entity&&n.value.type===t.config.types.placeholder&&(e.commands.splice(i,1),i--)}return!0}))}function te(t){function e(e){return function(){return!t.config.auto_types||t.getTaskType(t.config.types.project)!=t.config.types.project||e.apply(this,arguments)}}function i(e,i){var n=t.getTask(e),r=a(n);!1!==r&&t.getTaskType(n)!==r&&(i.$needsUpdate=!0,i[n.id]={task:n,type:r})}function n(e){if(!t.getState().group_mode){var n=function(e,n){return i(e,n=n||{}),t.eachParent((function(t){i(t.id,n)}),e),n}(e);n.$needsUpdate&&t.batchUpdate((function(){!function(e){for(var i in e)if(e[i]&&e[i].task){var n=e[i].task;n.type=e[i].type,t.updateTask(n.id)}}(n)}))}}var r;function a(e){var i=t.config.types,n=t.hasChild(e.id),r=t.getTaskType(e.type);return n&&r===i.task?i.project:!n&&r===i.project&&i.task}var s,o,l=!0;function c(e){e!=t.config.root_id&&t.isTaskExists(e)&&n(e)}t.attachEvent("onParse",e((function(){l=!1,t.getState().group_mode||(t.batchUpdate((function(){t.eachTask((function(e){var i=a(e);!1!==i&&function(e,i){t.getState().group_mode||(e.type=i,t.updateTask(e.id))}(e,i)}))})),l=!0)}))),t.attachEvent("onAfterTaskAdd",e((function(t){l&&n(t)}))),t.attachEvent("onAfterTaskUpdate",e((function(t){l&&n(t)}))),t.attachEvent("onBeforeTaskDelete",e((function(e,i){return r=t.getParent(e),!0}))),t.attachEvent("onAfterTaskDelete",e((function(t,e){c(r)}))),t.attachEvent("onRowDragStart",e((function(e,i,n){return s=t.getParent(e),!0}))),t.attachEvent("onRowDragEnd",e((function(t,e){c(s),n(t)}))),t.attachEvent("onBeforeTaskMove",e((function(e,i,n){return o=t.getParent(e),!0}))),t.attachEvent("onAfterTaskMove",e((function(t,e,i){document.querySelector(".gantt_drag_marker")||(c(o),n(t))})))}const ee=class{constructor(){this.canParse=t=>!isNaN(this.parse(t)),this.format=t=>String(t),this.parse=t=>parseInt(t,10)}};ee.create=(t=null)=>new ee;let ie=ee;const ne=class{constructor(t){this.format=t=>this._getWBSCode(t.source),this.canParse=t=>this._linkReg.test(t),this.parse=t=>{if(!this.canParse(t))return null;const e=this._linkReg.exec(t)[0].trim();return{id:void 0,source:this._findSource(e)||null,target:null,type:this._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=t=>{const e=this._gantt.getTask(t);return this._gantt.getWBSCode(e)},this._findSource=t=>{const e=new RegExp("^[0-9.]+","i");if(e.exec(t)){const i=e.exec(t)[0],n=this._gantt.getTaskByWBSCode(i);if(n)return n.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=t}};ne.create=(t=null,e)=>new ne(e);let re=ne;function ae(t){t.ext.formatters={durationFormatter:function(e){return e||(e={}),e.store||(e.store=t.config.duration_unit),e.enter||(e.enter=t.config.duration_unit),ie.create(e,t)},linkFormatter:function(e){return re.create(e,t)}}}function se(t){t.ext=t.ext||{},t.config.show_empty_state=!1,t.ext.emptyStateElement=t.ext.emptyStateElement||{isEnabled:()=>!0===t.config.show_empty_state,isGanttEmpty:()=>!t.getTaskByTime().length,renderContent(e){const i=`<div class='gantt_empty_state'><div class='gantt_empty_state_image'></div><div class='gantt_empty_state_text'>\n    <div class='gantt_empty_state_text_link' data-empty-state-create-task>${t.locale.labels.empty_state_text_link}</div>\n    <div class='gantt_empty_state_text_description'>${t.locale.labels.empty_state_text_description}</div>\n    </div></div>`;e.innerHTML=i},clickEvents:[],attachAddTaskEvent(){const e=t.attachEvent("onEmptyClick",(function(e){t.utils.dom.closest(e.target,"[data-empty-state-create-task]")&&t.createTask({id:t.uid(),text:"New Task"})}));this.clickEvents.push(e)},detachAddTaskEvents(){this.clickEvents.forEach((function(e){t.detachEvent(e)})),this.clickEvents=[]},getContainer(){if(t.$container){const e=t.utils.dom;if(t.$container.contains(t.$grid_data))return e.closest(t.$grid_data,".gantt_layout_content");if(t.$container.contains(t.$task_data))return e.closest(t.$task_data,".gantt_layout_content")}return null},getNode(){const t=this.getContainer();return t?t.querySelector(".gantt_empty_state_wrapper"):null},show(){const e=this.getContainer();if(!e&&this.isGanttEmpty())return null;const i=document.createElement("div");i.className="gantt_empty_state_wrapper",i.style.marginTop=t.config.scale_height-e.offsetHeight+"px";const n=t.$container.querySelectorAll(".gantt_empty_state_wrapper");Array.prototype.forEach.call(n,(function(t){t.parentNode.removeChild(t)})),this.detachAddTaskEvents(),this.attachAddTaskEvent(),e.appendChild(i),this.renderContent(i)},hide(){const t=this.getNode();if(!t)return!1;t.parentNode.removeChild(t)},init(){}},t.attachEvent("onDataRender",(function(){const e=t.ext.emptyStateElement;e.isEnabled()&&e.isGanttEmpty()?e.show():e.hide()}))}const oe=function(t,e){const i=e.baselines&&e.baselines.length,n="separateRow"==t.config.baselines.render_mode||"individualRow"==t.config.baselines.render_mode;if(i&&n)return!0},le=function(t){return t.render&&"split"==t.render&&!t.$open};function ce(t){t.config.baselines={datastore:"baselines",render_mode:!1,dataprocessor_baselines:!1,row_height:16,bar_height:8};const e=t.createDatastore({name:t.config.baselines.datastore,initItem:function(e){return e.id||(e.id=t.uid()),function(e){if(!e.task_id||!e.start_date&&!e.end_date)return!1;e.start_date?e.start_date=t.date.parseDate(e.start_date,"parse_date"):e.start_date=null,e.end_date?e.end_date=t.date.parseDate(e.end_date,"parse_date"):e.end_date=null,e.duration=e.duration||1,e.start_date&&!e.end_date?e.end_date=t.calculateEndDate(e.start_date,e.duration):e.end_date&&!e.start_date&&(e.start_date=t.calculateEndDate(e.end_date,-e.duration))}(e),e}});function i(e){let i=0;t.adjustTaskHeightForBaselines(e),t.eachTask((function(e){let n=e.row_height||t.config.row_height;i=i||n,n>i&&(i=n)}),e.id),e.row_height<i&&(e.row_height=i)}function n(e){t.eachParent((function(i){if(le(i)){const n=i.row_height||t.getLayoutView("timeline").getBarHeight(i.id);let r=e.row_height;t.getChildren(i.id).forEach((function(i){const n=t.getTask(i);if(n.id==e.id)return;const a=n.row_height||t.getLayoutView("timeline").getBarHeight(n.id);r=r||a,a>r&&(r=a)})),i.row_height=r,i.bar_height=i.bar_height||n}}),e.id)}t.$data.baselineStore=e,t.adjustTaskHeightForBaselines=function(e){let i,r,a=e.baselines&&e.baselines.length||0;const s=t.config.baselines.row_height,o=t.getLayoutView("timeline");if(o&&t.config.show_chart)switch(t.config.baselines.render_mode){case"taskRow":default:e.row_height=e.bar_height+8;break;case"separateRow":i=o.getBarHeight(e.id),a?(e.bar_height=e.bar_height||i,e.bar_height>i&&(i=e.bar_height),e.row_height=i+s):e.bar_height&&(e.row_height=e.bar_height+4),n(e);break;case"individualRow":i=o.getBarHeight(e.id),a?(e.bar_height=e.bar_height||i,e.bar_height>i&&(i=e.bar_height),r=s*a,e.row_height=i+r+2):e.bar_height&&(e.row_height=e.bar_height+4),n(e)}},t.attachEvent("onGanttReady",(function(){t.config.baselines&&(t.attachEvent("onParse",(function(){e.eachItem((function(e){const n=e.task_id;if(t.isTaskExists(n)){const r=t.getTask(n);r.baselines=r.baselines||[];let a=!0;for(let i=0;i<r.baselines.length;i++){let n=r.baselines[i];if(n.id==e.id){a=!1,t.mixin(n,e,!0);break}}a&&r.baselines.push(e),$t(t)||(le(r)?i(r):t.adjustTaskHeightForBaselines(r))}}))})),t.attachEvent("onBeforeTaskUpdate",(function(n,r){return function(n){let r=!1;const a={},s=n.baselines||[],o=t.getTaskBaselines(n.id);s.length!=o.length&&(r=!0),s.forEach((function(t){a[t.id]=!0;const i=e.getItem(t.id);if(i){const n=+i.start_date!=+t.start_date,r=+i.end_date!=+t.end_date;(n||r)&&e.updateItem(t.id,t)}else e.addItem(t)})),o.forEach((function(t){a[t.id]||e.removeItem(t.id)})),r&&(le(n)?i(n):t.adjustTaskHeightForBaselines(n),t.render())}(r),!0})),t.attachEvent("onAfterUndo",(function(e){if(("separateRow"==t.config.baselines.render_mode||"individualRow"==t.config.baselines.render_mode)&&e){let n=!1;e.commands.forEach((function(e){if("task"==e.entity){const r=e.value.id;if(t.isTaskExists(r)){const e=t.getTask(r);if(e.parent&&t.isTaskExists(e.parent)){const r=t.getTask(e.parent);le(r)&&(i(r),n=!0)}}}})),n&&t.render()}})),t.attachEvent("onAfterTaskDelete",(function(n,r){if(oe&&r.parent&&t.isTaskExists(r.parent)){const e=t.getTask(r.parent);le(e)&&i(e)}e.eachItem((function(i){t.isTaskExists(i.task_id)||e.removeItem(i.id)}))})),t.getTaskBaselines=function(t){const i=[];return e.eachItem((function(e){e.task_id==t&&i.push(e)})),i},t.$data.baselineStore.attachEvent("onClearAll",(function(){return t.eachTask((function(t){t.baselines&&delete t.baselines})),!0})),t.$data.tasksStore.attachEvent("onClearAll",(function(){return e.clearAll(),!0})),t.attachEvent("onTaskIdChange",(function(t,i){e.find((function(e){return e.task_id==t})).forEach((function(t){t.task_id=i,e.updateItem(t.id)}))})))}),{once:!0})}function de(t,e,i,n,r){return this.date=t,this.unit=e,this.task=i,this.id=n,this.calendar=r,this}function he(t,e,i,n,r,a){return this.date=t,this.dir=e,this.unit=i,this.task=n,this.id=r,this.calendar=a,this}function ue(t,e,i,n,r,a,s){return this.start_date=t,this.duration=e,this.unit=i,this.step=n,this.task=r,this.id=a,this.calendar=s,this}function fe(t,e,i,n){return this.start_date=t,this.end_date=e,this.task=i,this.calendar=n,this.unit=null,this.step=null,this}var pe=function(t){return{getWorkHoursArguments:function(){var e=arguments[0];if(!z((e=B(e)?{date:e}:Z({},e)).date))throw t.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return e},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var e,i=arguments[0];if(i instanceof de)return i;if((e=i.date?new de(i.date,i.unit,i.task,null,i.calendar):new de(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=e.unit||t.config.duration_unit,!z(e.date))throw t.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return e},getClosestWorkTimeArguments:function(e){var i,n=arguments[0];if(n instanceof he)return n;if(i=B(n)?new he(n):new he(n.date,n.dir,n.unit,n.task,null,n.calendar),n.id&&(i.task=n),i.dir=n.dir||"any",i.unit=n.unit||t.config.duration_unit,!z(i.date))throw t.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return i},_getStartEndConfig:function(e){var i,n=fe;if(e instanceof n)return e;if(B(e)?i=new n(arguments[0],arguments[1],arguments[2],arguments[3]):(i=new n(e.start_date,e.end_date,e.task),null!==e.id&&void 0!==e.id&&(i.task=e)),i.unit=i.unit||t.config.duration_unit,i.step=i.step||t.config.duration_step,i.start_date=i.start_date||i.start||i.date,!z(i.start_date))throw t.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!z(i.end_date))throw t.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return i},getDurationArguments:function(t,e,i,n){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(t,e,i,n){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(e,i,n,r){var a,s=arguments[0];if(s instanceof ue)return s;if(a=B(s)?new ue(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new ue(s.start_date,s.duration,s.unit,s.step,s.task,null,s.calendar),null!==s.id&&void 0!==s.id&&(a.task=s,a.unit=null,a.step=null),a.unit=a.unit||t.config.duration_unit,a.step=a.step||t.config.duration_step,!z(a.start_date))throw t.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return a}}};function ge(){}ge.prototype={_getIntervals:function(t){for(var e=[],i=0;i<t.length;i+=2)e.push({start:t[i],end:t[i+1]});return e},_toHoursArray:function(t){var e=[];function i(t){var e,i=Math.floor(t/3600),n=t-60*i*60,r=Math.floor(n/60);return i+":"+((e=String(r)).length<2&&(e="0"+e),e)}for(var n=0;n<t.length;n++)e.push(i(t[n].start)+"-"+i(t[n].end));return e},_intersectHourRanges:function(t,e){var i=[],n=t.length>e.length?t:e,r=t===n?e:t;n=n.slice(),r=r.slice(),i=[];for(var a=0;a<n.length;a++)for(var s=n[a],o=0;o<r.length;o++){var l=r[o];l.start<s.end&&l.end>s.start&&(i.push({start:Math.max(s.start,l.start),end:Math.min(s.end,l.end)}),s.end>l.end&&(r.splice(o,1),o--,a--))}return i},_mergeAdjacentIntervals:function(t){var e=t.slice();e.sort((function(t,e){return t.start-e.start}));for(var i=e[0],n=1;n<e.length;n++){var r=e[n];r.start<=i.end?(r.end>i.end&&(i.end=r.end),e.splice(n,1),n--):i=r}return e},_mergeHoursConfig:function(t,e){return this._mergeAdjacentIntervals(this._intersectHourRanges(t,e))},merge:function(t,e){const i=J(t.getConfig()),n=J(e.getConfig()),r=i.parsed,a=n.parsed;r.customWeeks=i.customWeeks,a.customWeeks=n.customWeeks;var s={hours:this._toHoursArray(this._mergeHoursConfig(r.hours,a.hours)),dates:{},customWeeks:{}};const o=(t,e)=>{for(let i in t.dates){const n=t.dates[i];+i>1e3&&(s.dates[i]=!1);for(const t in e.dates){const r=e.dates[t];if(t==i&&(s.dates[i]=!(!n||!r)),Array.isArray(n)){const t=Array.isArray(r)?r:e.hours;s.dates[i]=this._toHoursArray(this._mergeHoursConfig(n,t))}}}};if(o(r,a),o(a,r),r.customWeeks)for(var l in r.customWeeks)s.customWeeks[l]=r.customWeeks[l];if(a.customWeeks)for(var l in a.customWeeks)s.customWeeks[l]?s.customWeeks[l+"_second"]=a.customWeeks[l]:s.customWeeks[l]=a.customWeeks[l];return s}};class me{constructor(){this.clear()}getItem(t,e,i){if(this._cache.has(t)){const n=this._cache.get(t)[i.getFullYear()];if(n&&n.has(e))return n.get(e)}return-1}setItem(t,e,i,n){if(!t||!e)return;const r=this._cache,a=n.getFullYear();let s;r.has(t)?s=r.get(t):(s=[],r.set(t,s));let o=s[a];o||(o=s[a]=new Map),o.set(e,i)}clear(){this._cache=new Map}}class _e{constructor(){this.clear()}getItem(t,e,i){const n=this._cache;if(n&&n[t]){const r=n[t];if(void 0===r)return-1;const a=r[i.getFullYear()];if(a&&void 0!==a[e])return a[e]}return-1}setItem(t,e,i,n){if(!t||!e)return;const r=this._cache;if(!r)return;r[t]||(r[t]=[]);const a=r[t],s=n.getFullYear();let o=a[s];o||(o=a[s]={}),o[e]=i}clear(){this._cache={}}}class ve{constructor(t){this.getMinutesPerWeek=t=>{const e=t.valueOf();if(this._weekCache.has(e))return this._weekCache.get(e);const i=this._calendar,n=this._calendar.$gantt;let r=0,a=n.date.week_start(new Date(t));for(let t=0;t<7;t++)r+=60*i.getHoursPerDay(a),a=n.date.add(a,1,"day");return this._weekCache.set(e,r),r},this.getMinutesPerMonth=t=>{const e=t.valueOf();if(this._monthCache.has(e))return this._monthCache.get(e);const i=this._calendar,n=this._calendar.$gantt;let r=0,a=n.date.week_start(new Date(t));const s=n.date.add(a,1,"month").valueOf();for(;a.valueOf()<s;)r+=60*i.getHoursPerDay(a),a=n.date.add(a,1,"day");return this._monthCache.set(e,r),r},this.clear=()=>{this._weekCache=new Map,this._monthCache=new Map},this.clear(),this._calendar=t}}class ye{constructor(){this.clear()}_getCacheObject(t,e,i){const n=this._cache;n[e]||(n[e]=[]);let r=n[e];r||(r=n[e]={});let a=r[i];a||(a=r[i]={});const s=t.getFullYear();let o=a[s];return o||(o=a[s]={durations:{},endDates:{}}),o}_endDateCacheKey(t,e){return String(t)+"-"+String(e)}_durationCacheKey(t,e){return String(t)+"-"+String(e)}getEndDate(t,e,i,n,r){const a=this._getCacheObject(t,i,n),s=t.valueOf(),o=this._endDateCacheKey(s,e);let l;if(void 0===a.endDates[o]){const t=r(),i=t.valueOf();a.endDates[o]=i,a.durations[this._durationCacheKey(s,i)]=e,l=t}else l=new Date(a.endDates[o]);return l}getDuration(t,e,i,n,r){const a=this._getCacheObject(t,i,n),s=t.valueOf(),o=e.valueOf(),l=this._durationCacheKey(s,o);let c;if(void 0===a.durations[l]){const t=r();a.durations[l]=t.valueOf(),c=t}else c=a.durations[l];return c}clear(){this._cache={}}}function be(t,e){this.argumentsHelper=e,this.$gantt=t,this._workingUnitsCache=typeof Map<"u"?new me:new _e,this._largeUnitsCache=new ve(this),this._dateDurationCache=new ye,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}be.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(t){for(var e=0,i=this.units.length;e<i;e++)if(this.units[e]==t)return e},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(t){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var e=null;if(t.day||0===t.day)e=t.day;else if(t.date){var i=String(t.date.valueOf());this._cached_timestamps[i]?e=this._cached_timestamps[i]:(e=Date.UTC(t.date.getFullYear(),t.date.getMonth(),t.date.getDate()),this._cached_timestamps[i]=e,this._cached_timestamps_count++)}return e},_checkIfWorkingUnit:function(t,e){if(!this["_is_work_"+e]){const i=this.$gantt.date[`${e}_start`](new Date(t)),n=this.$gantt.date.add(i,1,e);return this.hasDuration(i,n)}return this["_is_work_"+e](t)},_is_work_day:function(t){var e=this._getWorkHours(t);return!!Array.isArray(e)&&e.length>0},_is_work_hour:function(t){for(var e=this._getWorkHours(t),i=t.getHours(),n=0;n<e.length;n++)if(i>=e[n].startHour&&i<e[n].endHour)return!0;return!1},_getTimeOfDayStamp:function(t,e){var i=t.getHours();return t.getHours()||t.getMinutes()||!e||(i=24),60*i*60+60*t.getMinutes()},_is_work_minute:function(t){for(var e=this._getWorkHours(t),i=this._getTimeOfDayStamp(t),n=0;n<e.length;n++)if(i>=e[n].start&&i<e[n].end)return!0;return!1},_nextDate:function(t,e,i){return this.$gantt.date.add(t,i,e)},_getWorkUnitsBetweenGeneric:function(t,e,i,n){var r=this.$gantt.date,a=new Date(t),s=new Date(e);n=n||1;var o,l,c=0,d=null,h=!1;(o=r[i+"_start"](new Date(a))).valueOf()!=a.valueOf()&&(h=!0);var u=!1;(l=r[i+"_start"](new Date(e))).valueOf()!=e.valueOf()&&(u=!0);for(var f=!1;a.valueOf()<s.valueOf();){if(f=(d=this._nextDate(a,i,n)).valueOf()>s.valueOf(),this._isWorkTime(a,i))(h||u&&f)&&(o=r[i+"_start"](new Date(a)),l=r.add(o,n,i)),h?(h=!1,d=this._nextDate(o,i,n),c+=(l.valueOf()-a.valueOf())/(l.valueOf()-o.valueOf())):u&&f?(u=!1,c+=(s.valueOf()-a.valueOf())/(l.valueOf()-o.valueOf())):c++;else{var p=this._getUnitOrder(i),g=this.units[p-1];g&&!this._isWorkTime(a,g)&&(d=this._getClosestWorkTimeFuture(a,g))}a=d}return c},_getMinutesPerHour:function(t){var e=this._getTimeOfDayStamp(t),i=this._getTimeOfDayStamp(this._nextDate(t,"hour",1));0===i&&(i=86400);for(var n=this._getWorkHours(t),r=0;r<n.length;r++){var a=n[r];if(e>=a.start&&i<=a.end)return 60;if(e<a.end&&i>a.start)return(Math.min(i,a.end)-Math.max(e,a.start))/60}return 0},_getMinutesPerDay:function(t){var e=this._getWorkHours(t),i=0;return e.forEach((function(t){i+=t.durationMinutes})),i},getHoursPerDay:function(t){var e=this._getWorkHours(t),i=0;return e.forEach((function(t){i+=t.durationHours})),i},_getWorkUnitsForRange:function(t,e,i,n){var r,a=0,s=new Date(t),o=new Date(e);for(r=et("minute"==i?this._getMinutesPerDay:this.getHoursPerDay,this);s.valueOf()<o.valueOf();)if(o-s>27648e5&&0===s.getDate()){var l=this._largeUnitsCache.getMinutesPerMonth(s);"hour"==i&&(l/=60),a+=l,s=this.$gantt.date.add(s,1,"month")}else{if(o-s>13824e5){var c=this.$gantt.date.week_start(new Date(s));if(s.valueOf()===c.valueOf()){l=this._largeUnitsCache.getMinutesPerWeek(s),"hour"==i&&(l/=60),a+=l,s=this.$gantt.date.add(s,7,"day");continue}}a+=r(s),s=this._nextDate(s,"day",1)}return a/n},_getMinutesBetweenSingleDay:function(t,e){for(var i=this._getIntervalTimestamp(t,e),n=this._getWorkHours(t),r=0,a=0;a<n.length;a++){var s=n[a];if(i.end>=s.start&&i.start<=s.end){var o=Math.max(s.start,i.start),l=Math.min(s.end,i.end);r+=(l-o)/60,i.start=l}}return Math.floor(r)},_getMinutesBetween:function(t,e,i,n){var r=new Date(t),a=new Date(e);n=n||1;var s=new Date(r),o=this.$gantt.date.add(this.$gantt.date.day_start(new Date(r)),1,"day");if(a.valueOf()<=o.valueOf())return this._getMinutesBetweenSingleDay(t,e);var l=this.$gantt.date.day_start(new Date(a)),c=a,d=this._getMinutesBetweenSingleDay(s,o),h=this._getMinutesBetweenSingleDay(l,c);return d+this._getWorkUnitsForRange(o,l,i,n)+h},_getHoursBetween:function(t,e,i,n){var r=new Date(t),a=new Date(e);n=n||1;var s=new Date(r),o=this.$gantt.date.add(this.$gantt.date.day_start(new Date(r)),1,"day");if(a.valueOf()<=o.valueOf())return Math.round(this._getMinutesBetweenSingleDay(t,e)/60);var l=this.$gantt.date.day_start(new Date(a)),c=a,d=this._getMinutesBetweenSingleDay(s,o,i,n)/60,h=this._getMinutesBetweenSingleDay(l,c,i,n)/60,u=d+this._getWorkUnitsForRange(o,l,i,n)+h;return Math.round(u)},getConfig:function(){return this._worktime},_setConfig:function(t){this._worktime=t,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var t=this.getConfig();for(var e in t.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},t.parsed.hours=this._parseHours(t.hours),t.dates)t.parsed.dates[e]=this._parseHours(t.dates[e]);if(t.customWeeks){var i=null,n=null;for(var e in t.customWeeks){var r=t.customWeeks[e];if(r.from&&r.to){var a=r.from,s=r.to;(!i||i>a.valueOf())&&(i=a.valueOf()),(!n||n<s.valueOf())&&(n=s.valueOf()),t.parsed.customWeeksBoundaries.push({from:a.valueOf(),fromReadable:new Date(a),to:s.valueOf(),toReadable:new Date(s),name:e}),t.parsed.haveCustomWeeks=!0;var o=t.parsed.customWeeks[e]={from:r.from,to:r.to,hours:this._parseHours(r.hours),dates:{}};for(var l in r.dates)o.dates[l]=this._parseHours(r.dates[l])}}t.parsed.customWeeksRangeStart=i,t.parsed.customWeeksRangeEnd=n}},_tryChangeCalendarSettings:function(t){var e=JSON.stringify(this.getConfig());return t(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(e)),this._clearCaches(),!1)},_arraysEqual:function(t,e){if(t===e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0},_compareSettings:function(t,e){if(!this._arraysEqual(t.hours,e.hours))return!1;var i=Object.keys(t.dates),n=Object.keys(e.dates);if(i.sort(),n.sort(),!this._arraysEqual(i,n))return!1;for(var r=0;r<i.length;r++){var a=i[r],s=t.dates[a],o=t.dates[a];if(s!==o&&!(Array.isArray(s)&&Array.isArray(o)&&this._arraysEqual(s,o)))return!1}return!0},equals:function(t){if(!(t instanceof be))return!1;var e=this.getConfig(),i=t.getConfig();if(!this._compareSettings(e,i))return!1;if(e.parsed.haveCustomWeeks&&i.parsed.haveCustomWeeks){if(e.parsed.customWeeksBoundaries.length!=i.parsed.customWeeksBoundaries.length)return!1;for(var n in e.parsed.customWeeks){var r=e.parsed.customWeeks[n],a=i.parsed.customWeeks[n];if(!a||!this._compareSettings(r,a))return!1}}else if(e.parse.haveCustomWeeks!==i.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var t=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(t.date,!1)},_getWorkHours:function(t,e){var i=this.getConfig();if(!1!==e&&(i=i.parsed),!t)return i.hours;var n=this._timestamp({date:t});if(i.haveCustomWeeks&&i.customWeeksRangeStart<=n&&i.customWeeksRangeEnd>n)for(var r=0;r<i.customWeeksBoundaries.length;r++)if(i.customWeeksBoundaries[r].from<=n&&i.customWeeksBoundaries[r].to>n){i=i.customWeeks[i.customWeeksBoundaries[r].name];break}var a=!0;return void 0!==i.dates[n]?a=i.dates[n]:void 0!==i.dates[t.getDay()]&&(a=i.dates[t.getDay()]),!0===a?i.hours:a||[]},_getIntervalTimestamp:function(t,e){var i={start:0,end:0};i.start=60*t.getHours()*60+60*t.getMinutes()+t.getSeconds();var n=e.getHours();return!n&&!e.getMinutes()&&!e.getSeconds()&&t.valueOf()<e.valueOf()&&(n=24),i.end=60*n*60+60*e.getMinutes()+e.getSeconds(),i},_parseHours:function(t){if(Array.isArray(t)){var e=[];t.forEach((function(t){"number"==typeof t?e.push(60*t*60):"string"==typeof t&&t.split("-").map((function(t){return t.trim()})).forEach((function(t){var i=t.split(":").map((function(t){return t.trim()})),n=parseInt(60*i[0]*60);i[1]&&(n+=parseInt(60*i[1])),i[2]&&(n+=parseInt(i[2])),e.push(n)}))}));for(var i=[],n=0;n<e.length;n+=2){var r=e[n],a=e[n+1],s=a-r;i.push({start:r,end:a,startHour:Math.floor(r/3600),startMinute:Math.floor(r/60),endHour:Math.ceil(a/3600),endMinute:Math.ceil(a/60),durationSeconds:s,durationMinutes:s/60,durationHours:s/3600})}return i}return t},setWorkTime:function(t){return this._tryChangeCalendarSettings(et((function(){var e=void 0===t.hours||t.hours,i=this._timestamp(t),n=this.getConfig();if(null!==i?n.dates[i]=e:t.customWeeks||(n.hours=e),t.customWeeks)if(n.customWeeks||(n.customWeeks={}),"string"==typeof t.customWeeks)null!==i?n.customWeeks[t.customWeeks].dates[i]=e:t.customWeeks||(n.customWeeks[t.customWeeks].hours=e);else if("object"==typeof t.customWeeks&&"function Object() { [native code] }"===Function.prototype.toString.call(t.customWeeks.constructor))for(var r in t.customWeeks)n.customWeeks[r]=t.customWeeks[r];this._parseSettings(),this._clearCaches()}),this))},unsetWorkTime:function(t){return this._tryChangeCalendarSettings(et((function(){if(t){var e=this._timestamp(t);null!==e&&delete this.getConfig().dates[e]}else this.reset_calendar();this._parseSettings(),this._clearCaches()}),this))},_isWorkTime:function(t,e){var i,n=-1;return i=String(t.valueOf()),-1==(n=this._workingUnitsCache.getItem(e,i,t))&&(n=this._checkIfWorkingUnit(t,e),this._workingUnitsCache.setItem(e,i,n,t)),n},isWorkTime:function(){var t=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(t.date,t.unit)},calculateDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!t.unit)return!1;var e=this;return this._dateDurationCache.getDuration(t.start_date,t.end_date,t.unit,t.step,(function(){return e._calculateDuration(t.start_date,t.end_date,t.unit,t.step)}))},_calculateDuration:function(t,e,i,n){var r,a=1;if(t.valueOf()>e.valueOf()){var s=e;e=t,t=s,a=-1}return r="hour"==i&&1==n?this._getHoursBetween(t,e,i,n):"minute"==i&&1==n?this._getMinutesBetween(t,e,i,n):this._getWorkUnitsBetweenGeneric(t,e,i,n),a*Math.round(r)},hasDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),e=t.start_date,i=t.end_date,n=t.unit,r=t.step;if(!n)return!1;var a=new Date(e),s=new Date(i);for(r=r||1;a.valueOf()<s.valueOf();){if(this._isWorkTime(a,n))return!0;a=this._nextDate(a,n,r)}return!1},calculateEndDate:function(){var t=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),e=t.start_date,i=t.duration,n=t.unit,r=t.step;if(!n)return!1;var a=t.duration>=0?1:-1;i=Math.abs(1*i);var s=this;return this._dateDurationCache.getEndDate(e,i,n,r*a,(function(){return s._calculateEndDate(e,i,n,r*a)}))},_calculateEndDate:function(t,e,i,n){return!!i&&(1==n&&"minute"==i?this._calculateMinuteEndDate(t,e,n):-1==n&&"minute"==i?this._subtractMinuteDate(t,e,n):1==n&&"hour"==i?this._calculateHourEndDate(t,e,n):this._addInterval(t,e,i,n,null).end)},_addInterval:function(t,e,i,n,r){for(var a=0,s=t,o=!1;a<e&&(!r||!r(s));){var l=this._nextDate(s,i,n);"day"==i&&(o=o||!s.getHours()&&l.getHours())&&(l.setHours(0),l.getHours()||(o=!1));var c=new Date(l.valueOf()+1);n>0&&(c=new Date(l.valueOf()-1)),this._isWorkTime(c,i)&&!o&&a++,s=l}return{end:s,start:t,added:a}},_addHoursUntilDayEnd:function(t,e){for(var i=this.$gantt.date.add(this.$gantt.date.day_start(new Date(t)),1,"day"),n=0,r=e,a=this._getIntervalTimestamp(t,i),s=this._getWorkHours(t),o=0;o<s.length&&n<e;o++){var l=s[o];if(a.end>=l.start&&a.start<=l.end){var c=Math.max(l.start,a.start),d=Math.min(l.end,a.end),h=(d-c)/3600;h>r&&(h=r,d=c+60*r*60);var u=Math.round((d-c)/3600);n+=u,r-=u,a.start=d}}var f=i;return n===e&&(f=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,a.start)),{added:n,end:f}},_calculateHourEndDate:function(t,e,i){var n=new Date(t),r=0;i=i||1,e=Math.abs(1*e);var a=this._addHoursUntilDayEnd(n,e);if(r=a.added,n=a.end,c=e-r){for(var s=n;r<e;){var o=this._nextDate(s,"day",i);o.setHours(0),o.setMinutes(0),o.setSeconds(0);var l;if(r+(l=i>0?this.getHoursPerDay(new Date(o.valueOf()-1)):this.getHoursPerDay(new Date(o.valueOf()+1)))>=e)break;r+=l,s=o}n=s}if(r<e){var c=e-r;n=(a=this._addHoursUntilDayEnd(n,c)).end}return n},_addMinutesUntilHourEnd:function(t,e){if(0===t.getMinutes())return{added:0,end:new Date(t)};for(var i=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(t)),1,"hour"),n=0,r=e,a=this._getIntervalTimestamp(t,i),s=this._getWorkHours(t),o=0;o<s.length&&n<e;o++){var l=s[o];if(a.end>=l.start&&a.start<=l.end){var c=Math.max(l.start,a.start),d=Math.min(l.end,a.end),h=(d-c)/60;h>r&&(h=r,d=c+60*r);var u=Math.round((d-c)/60);r-=u,n+=u,a.start=d}}var f=i;return n===e&&(f=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,a.start)),{added:n,end:f}},_subtractMinutesUntilHourStart:function(t,e){for(var i=this.$gantt.date.hour_start(new Date(t)),n=0,r=e,a=60*i.getHours()*60+60*i.getMinutes()+i.getSeconds(),s=60*t.getHours()*60+60*t.getMinutes()+t.getSeconds(),o=this._getWorkHours(t),l=o.length-1;l>=0&&n<e;l--){var c=o[l];if(s>c.start&&a<=c.end){var d=Math.min(s,c.end),h=Math.max(a,c.start),u=(d-h)/60;u>r&&(u=r,h=d-60*r);var f=Math.abs(Math.round((d-h)/60));r-=f,n+=f,s=h}}var p=i;return n===e&&(p=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,s)),{added:n,end:p}},_subtractMinuteDate:function(t,e,i){var n=this.getClosestWorkTime({date:t,dir:"past",unit:"minute"}),r=0;i=i||-1,e=Math.abs(1*e),e=Math.round(e);const a=this._isMinutePrecision(n);let s=this._subtractMinutesUntilHourStart(n,e);r+=s.added,n=s.end;for(var o=0,l=[],c=0;r<e;){var d=this.$gantt.date.day_start(new Date(n)),h=!1;n.valueOf()===d.valueOf()&&(d=this.$gantt.date.add(d,-1,"day"),h=!0);var u=new Date(d.getFullYear(),d.getMonth(),d.getDate(),23,59,59,999).valueOf();u!==o&&(l=this._getWorkHours(d),c=this._getMinutesPerDay(d),o=u);var f=e-r,p=this._getTimeOfDayStamp(n,h);if(l.length&&c)if(l[l.length-1].end<=p&&f>c)r+=c,n=this.$gantt.date.add(n,-1,"day");else{for(var g=!1,m=null,_=null,v=l.length-1;v>=0;v--)if(l[v].start<p-1&&l[v].end>=p-1){g=!0,m=l[v],_=l[v-1];break}if(g)if(p===m.end&&f>=m.durationMinutes)r+=m.durationMinutes,n=this.$gantt.date.add(n,-m.durationMinutes,"minute");else if(!a&&f<=p/60-m.startMinute)r+=f,n=this.$gantt.date.add(n,-f,"minute");else if(a)f<=p/60-m.startMinute?(r+=f,n=this.$gantt.date.add(n,-f,"minute")):(r+=p/60-m.startMinute,n=_?new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,_.end):this.$gantt.date.day_start(n));else{var y=this._getMinutesPerHour(n);y<=f?(r+=y,n=this._nextDate(n,"hour",i)):(s=this._subtractMinutesUntilHourStart(n,f),r+=s.added,n=s.end)}else if(0===n.getHours()&&0===n.getMinutes()&&0===n.getSeconds()){if((b=this._getClosestWorkTimePast(n,"hour")).valueOf()===n.valueOf()){var b=this.$gantt.date.add(n,-1,"day"),k=this._getWorkHours(b);if(k.length){var x=k[k.length-1];b.setSeconds(x.durationSeconds)}}n=b}else n=this._getClosestWorkTimePast(new Date(n-1),"hour")}else n=this.$gantt.date.add(n,-1,"day")}if(r<e){var w=e-r;s=this._subtractMinutesUntilHourStart(n,w),r+=s.added,n=s.end}return n},_calculateMinuteEndDate:function(t,e,i){var n=new Date(t),r=0;i=i||1,e=Math.abs(1*e),e=Math.round(e);var a=this._addMinutesUntilHourEnd(n,e);r+=a.added,n=a.end;for(var s=0,o=[],l=0,c=this._isMinutePrecision(n);r<e;){var d=this.$gantt.date.day_start(new Date(n)).valueOf();d!==s&&(o=this._getWorkHours(n),l=this._getMinutesPerDay(n),s=d);var h=e-r,u=this._getTimeOfDayStamp(n);if(o.length&&l)if(o[0].start>=u&&h>=l){if(r+=l,h==l){n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,o[o.length-1].end);break}n=this.$gantt.date.add(n,1,"day"),n=this.$gantt.date.day_start(n)}else{for(var f=!1,p=null,g=0;g<o.length;g++)if(o[g].start<=u&&o[g].end>u){f=!0,p=o[g];break}if(f)if(u===p.start&&h>=p.durationMinutes)r+=p.durationMinutes,n=this.$gantt.date.add(n,p.durationMinutes,"minute");else if(h<=p.endMinute-u/60)r+=h,n=this.$gantt.date.add(n,h,"minute");else{var m=this._getMinutesPerHour(n);m<=h?(r+=m,n=c?this.$gantt.date.add(n,m,"minute"):this._nextDate(n,"hour",i)):(r+=(a=this._addMinutesUntilHourEnd(n,h)).added,n=a.end)}else n=this._getClosestWorkTimeFuture(n,"hour")}else n=this.$gantt.date.add(this.$gantt.date.day_start(n),1,"day")}if(r<e){var _=e-r;r+=(a=this._addMinutesUntilHourEnd(n,_)).added,n=a.end}return n},getClosestWorkTime:function(){var t=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(t.date,t.unit,t.dir)},_getClosestWorkTime:function(t,e,i){var n=new Date(t);if(this._isWorkTime(n,e))return n;if(n=this.$gantt.date[e+"_start"](n),"any"!=i&&i)n="past"==i?this._getClosestWorkTimePast(n,e):this._getClosestWorkTimeFuture(n,e);else{var r=this._getClosestWorkTimeFuture(n,e),a=this._getClosestWorkTimePast(n,e);n=Math.abs(r-t)<=Math.abs(t-a)?r:a}return n},_getClosestWorkTimeFuture:function(t,e){return this._getClosestWorkTimeGeneric(t,e,1)},_getClosestWorkTimePast:function(t,e){var i=this._getClosestWorkTimeGeneric(t,e,-1);return this.$gantt.date.add(i,1,e)},_findClosestTimeInDay:function(t,e,i){var n=new Date(t),r=null,a=!1;this._getWorkHours(n).length||(n=this._getClosestWorkTime(n,"day",e<0?"past":"future"),e<0&&(n=new Date(n.valueOf()-1),a=!0),i=this._getWorkHours(n));var s=this._getTimeOfDayStamp(n);if(a&&(s=this._getTimeOfDayStamp(new Date(n.valueOf()+1),a)),e>0){for(var o=0;o<i.length;o++)if(i[o].start>=s){r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,i[o].start);break}}else for(o=i.length-1;o>=0;o--){if(i[o].end<=s){r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,i[o].end);break}if(i[o].end>s&&i[o].start<=s){r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,s);break}}return r},_getClosestWorkMinute:function(t,e,i){var n=new Date(t),r=this._getWorkHours(n),a=this._findClosestTimeInDay(n,i,r);return a||(i>0?(n=this.calculateEndDate(n,i,e),n=this.$gantt.date.day_start(n)):(n=this.calculateEndDate(n,i,"day"),n=this.$gantt.date.day_start(n),n=this.$gantt.date.add(n,1,"day"),n=new Date(n.valueOf()-1)),r=this._getWorkHours(n),a=this._findClosestTimeInDay(n,i,r)),i<0&&(a=this.$gantt.date.add(a,-1,e)),a},_getClosestWorkTimeGeneric:function(t,e,i){if("hour"===e||"minute"===e)return this._getClosestWorkMinute(t,e,i);for(var n=this._getUnitOrder(e),r=this.units[n-1],a=t,s=0;!this._isWorkTime(a,e)&&(!r||this._isWorkTime(a,r)||(a=i>0?this._getClosestWorkTimeFuture(a,r):this._getClosestWorkTimePast(a,r),!this._isWorkTime(a,e)));){if(++s>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var o=a.getTimezoneOffset();a=this.$gantt.date.add(a,i,e),a=this.$gantt._correct_dst_change(a,o,i,e),this.$gantt.date[e+"_start"]&&(a=this.$gantt.date[e+"_start"](a))}return a},hasWorkTime:function(){var t=this.getConfig(),e=t.dates;for(var i in t.dates);var n=this._checkWorkHours(t.hours),r=!1;return[0,1,2,3,4,5,6].forEach(function(t){if(!r){var i=e[t];!0===i?r=n:Array.isArray(i)&&(r=this._checkWorkHours(i))}}.bind(this)),r},_checkWorkHours:function(t){if(0===t.length)return!1;for(var e=!1,i=0;i<t.length;i+=2)t[i]!==t[i+1]&&(e=!0);return e},_isMinutePrecision:function(t){let e=!1;return this._getWorkHours(t).forEach((function(t){(t.startMinute%60||t.endMinute%60)&&(e=!0)})),e}};const ke={isLegacyResourceCalendarFormat:function(t){if(!t)return!1;for(var e in t)if(t[e]&&"object"==typeof t[e])return!0;return!1},getResourceProperty:function(t){var e=t.resource_calendars,i=t.resource_property;if(this.isLegacyResourceCalendarFormat(e))for(var n in t){i=n;break}return i},getCalendarIdFromLegacyConfig:function(t,e){if(e)for(var i in e){var n=e[i];if(t[i]){var r=n[t[i]];if(r)return r}}return null}},xe=(we={},{getCalendarIdFromMultipleResources:function(t,e){var i=t.map((function(t){return t&&t.resource_id?t.resource_id:t})).sort().join("-");if(t.length){if(1===t.length)return e.getResourceCalendar(i).id;if(we[i])return we[i].id;var n=function(t,e){return e.mergeCalendars(t.map((function(t){var i=t&&t.resource_id?t.resource_id:t;return e.getResourceCalendar(i)})))}(t,e);return we[i]=n,e.addCalendar(n)}return null}});var we;function Se(t){this.$gantt=t,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=ke.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}.bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",function(){this.createDefaultCalendars()}.bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",function(){this.createDefaultCalendars()}.bind(this))}function Te(t,e){this.argumentsHelper=e,this.$gantt=t}function Ee(t){this.$gantt=t.$gantt,this.argumentsHelper=pe(this.$gantt),this.calendarManager=t,this.$disabledCalendar=new Te(this.$gantt,this.argumentsHelper)}Se.prototype={_calendars:{},_convertWorkTimeSettings:function(t){var e=t.days;if(e&&!t.dates){t.dates=t.dates||{};for(var i=0;i<e.length;i++)t.dates[i]=e[i],e[i]instanceof Array||(t.dates[i]=!!e[i])}return delete t.days,t},mergeCalendars:function(){var t=[],e=arguments;if(Array.isArray(e[0]))t=e[0].slice();else for(var i=0;i<arguments.length;i++)t.push(arguments[i]);var n,r=new ge;return t.forEach(function(t){n=n?this._createCalendarFromConfig(r.merge(n,t)):t}.bind(this)),this.createCalendar(n)},_createCalendarFromConfig:function(t){var e=new be(this.$gantt,pe(this.$gantt));e.id=String(tt());var i=this._convertWorkTimeSettings(t);if(i.customWeeks)for(var n in i.customWeeks)i.customWeeks[n]=this._convertWorkTimeSettings(i.customWeeks[n]);return e._setConfig(i),e},createCalendar:function(t){var e;return t||(t={}),Z(e=t.getConfig?J(t.getConfig()):t.worktime?J(t.worktime):J(t),J(this.defaults.fulltime.worktime)),this._createCalendarFromConfig(e)},getCalendar:function(t){t=t||"global";var e=this._calendars[t];return e||(this.createDefaultCalendars(),e=this._calendars[t]),e},getCalendars:function(){var t=[];for(var e in this._calendars)t.push(this.getCalendar(e));return t},_getOwnCalendar:function(t){var e=this.$gantt.config;if(t[e.calendar_property])return this.getCalendar(t[e.calendar_property]);if(e.resource_calendars){var i;if(i=!1===this._legacyConfig?e.resource_property:ke.getResourceProperty(e),Array.isArray(t[i])&&t[i].length)e.dynamic_resource_calendars?n=xe.getCalendarIdFromMultipleResources(t[i],this):r=this.getResourceCalendar(t[i]);else if(void 0===this._legacyConfig&&(this._legacyConfig=ke.isLegacyResourceCalendarFormat(e.resource_calendars)),this._legacyConfig)var n=ke.getCalendarIdFromLegacyConfig(t,e.resource_calendars);else if(i&&t[i]&&e.resource_calendars[t[i]])var r=this.getResourceCalendar(t[i]);if(n&&(r=this.getCalendar(n)),r)return r}return null},getResourceCalendar:function(t){if(null==t)return this.getCalendar();var e=null;e="number"==typeof t||"string"==typeof t?t:t.id||t.key;var i=this.$gantt.config,n=i.resource_calendars,r=null;if(Array.isArray(t)&&1===t.length&&(e="object"==typeof t[0]?t[0].resource_id:t[0]),n){if(void 0===this._legacyConfig&&(this._legacyConfig=ke.isLegacyResourceCalendarFormat(i.resource_calendars)),this._legacyConfig){for(var a in n)if(n[a][e]){r=n[a][e];break}}else r=n[e];if(r)return this.getCalendar(r)}return this.getCalendar()},getTaskCalendar:function(t){var e,i=this.$gantt;if(null==t)return this.getCalendar();if(!(e="number"!=typeof t&&"string"!=typeof t||!i.isTaskExists(t)?t:i.getTask(t)))return this.getCalendar();var n=this._getOwnCalendar(e),r=!!i.getState().group_mode;if(!n&&i.config.inherit_calendar&&i.isTaskExists(e.parent)){for(var a=e;i.isTaskExists(a.parent)&&(a=i.getTask(a.parent),!i.isSummaryTask(a)||!(n=this._getOwnCalendar(a))););r&&!n&&t.$effective_calendar&&(n=this.getCalendar(t.$effective_calendar))}return n||this.getCalendar()},addCalendar:function(t){if(!this.isCalendar(t)){var e=t.id;(t=this.createCalendar(t)).id=e}if(t._tryChangeCalendarSettings((function(){}))){var i=this.$gantt.config;return t.id=t.id||tt(),this._calendars[t.id]=t,i.worktimes||(i.worktimes={}),i.worktimes[t.id]=t.getConfig(),t.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},t]),null},deleteCalendar:function(t){var e=this.$gantt.config;return!!t&&!!this._calendars[t]&&(delete this._calendars[t],e.worktimes&&e.worktimes[t]&&delete e.worktimes[t],!0)},restoreConfigCalendars:function(t){for(var e in t)if(!this._calendars[e]){var i=t[e],n=this.createCalendar(i);n.id=e,this.addCalendar(n)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var t=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(t.worktimes)},isCalendar:function(t){return[t.isWorkTime,t.setWorkTime,t.getWorkHours,t.unsetWorkTime,t.getClosestWorkTime,t.calculateDuration,t.hasDuration,t.calculateEndDate].every((function(t){return t instanceof Function}))}},Te.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(t){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),e=t.start_date,i=t.end_date,n=t.unit,r=t.step;return this._calculateDuration(e,i,n,r)},_calculateDuration:function(t,e,i,n){var r=this.$gantt.date,a={week:6048e5,day:864e5,hour:36e5,minute:6e4},s=0;if(a[i])s=Math.round((e-t)/(n*a[i]));else{for(var o=new Date(t),l=new Date(e);o.valueOf()<l.valueOf();)s+=1,o=r.add(o,n,i);o.valueOf()!=e.valueOf()&&(s+=(l-o)/(r.add(o,n,i)-o))}return Math.round(s)},hasDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),e=t.start_date,i=t.end_date;return!!t.unit&&(e=new Date(e),i=new Date(i),e.valueOf()<i.valueOf())},hasWorkTime:function(){return!0},equals:function(t){return t instanceof Te},calculateEndDate:function(){var t=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),e=t.start_date,i=t.duration,n=t.unit,r=t.step;return this.$gantt.date.add(e,r*i,n)}},Ee.prototype={_getCalendar:function(t){var e;if(this.$gantt.config.work_time){var i=this.calendarManager;t.task?e=i.getTaskCalendar(t.task):t.id?e=i.getTaskCalendar(t):t.calendar&&(e=t.calendar),e||(e=i.getTaskCalendar())}else e=this.$disabledCalendar;return e},getWorkHours:function(t){return t=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(t).getWorkHours(t.date)},setWorkTime:function(t,e){return t=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),e||(e=this.calendarManager.getCalendar()),e.setWorkTime(t)},unsetWorkTime:function(t,e){return t=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),e||(e=this.calendarManager.getCalendar()),e.unsetWorkTime(t)},isWorkTime:function(t,e,i,n){var r=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return(n=this._getCalendar(r)).isWorkTime(r)},getClosestWorkTime:function(t){return t=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(t).getClosestWorkTime(t)},calculateDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).calculateDuration(t)},hasDuration:function(){var t=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).hasDuration(t)},calculateEndDate:function(t){return t=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(t).calculateEndDate(t)}};function Ce(t){t.isUnscheduledTask=function(e){return t.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isUnscheduledTask. Task object was expected"),!!e.unscheduled||!e.start_date},t._isAllowedUnscheduledTask=function(e){return!(!e.unscheduled||!t.config.show_unscheduled)},t._isTaskInTimelineLimits=function(t){var e=t.start_date?t.start_date.valueOf():null,i=t.end_date?t.end_date.valueOf():null;return!!(e&&i&&e<=this._max_date.valueOf()&&i>=this._min_date.valueOf())},t.isTaskVisible=function(t){if(!this.isTaskExists(t))return!1;var e=this.getTask(t);return!(!this._isAllowedUnscheduledTask(e)&&!this._isTaskInTimelineLimits(e))&&this.getGlobalTaskIndex(t)>=0},t._getProjectEnd=function(){if(t.config.project_end)return t.config.project_end;var e=t.getTaskByTime();return(e=e.sort((function(t,e){return+t.end_date>+e.end_date?1:-1}))).length?e[e.length-1].end_date:null},t._getProjectStart=function(){if(t.config.project_start)return t.config.project_start;if(t.config.start_date)return t.config.start_date;if(t.getState().min_date)return t.getState().min_date;var e=t.getTaskByTime();return(e=e.sort((function(t,e){return+t.start_date>+e.start_date?1:-1}))).length?e[0].start_date:null};var e=function(i,n){var r=!(!n||n==t.config.root_id||!t.isTaskExists(n))&&t.getTask(n),a=null;if(r)if(t.config.schedule_from_end)a=t.calculateEndDate({start_date:r.end_date,duration:-t.config.duration_step,task:i});else{if(!r.start_date)return e(r,t.getParent(r));a=r.start_date}else if(t.config.schedule_from_end)a=t.calculateEndDate({start_date:t._getProjectEnd(),duration:-t.config.duration_step,task:i});else{const e=t.getTaskByIndex(0),n=t.config.start_date||t.getState().min_date;a=e?e.start_date?e.start_date:e.end_date?t.calculateEndDate({start_date:e.end_date,duration:-t.config.duration_step,task:i}):n:n}return t.assert(a,"Invalid dates"),new Date(a)};t._set_default_task_timing=function(i){i.start_date=i.start_date||e(i,t.getParent(i)),i.duration=i.duration||t.config.duration_step,i.end_date=i.end_date||t.calculateEndDate(i)},t.createTask=function(i,n,r){if(i=i||{},t.defined(i.id)||(i.id=t.uid()),i.start_date||(i.start_date=e(i,n)),void 0===i.text&&(i.text=t.locale.labels.new_task),void 0===i.duration&&(i.duration=1),this.isTaskExists(n)){this.setParent(i,n,!0);var a=this.getTask(n);a.$open=!0,this.config.details_on_create||this.callEvent("onAfterParentExpand",[n,a])}return this.callEvent("onTaskCreated",[i])?(this.config.details_on_create?(t.isTaskExists(i.id)?t.getTask(i.id).$index!=i.$index&&(i.start_date&&"string"==typeof i.start_date&&(i.start_date=this.date.parseDate(i.start_date,"parse_date")),i.end_date&&"string"==typeof i.end_date&&(i.end_date=this.date.parseDate(i.end_date,"parse_date")),this.$data.tasksStore.updateItem(i.id,i)):(i.$new=!0,this.silent((function(){t.$data.tasksStore.addItem(i,r)}))),this.selectTask(i.id),this.refreshData(),this.showLightbox(i.id)):this.addTask(i,n,r)&&(this.showTask(i.id),this.selectTask(i.id)),i.id):null},t._update_flags=function(e,i){var n=t.$data.tasksStore;void 0===e?(this._lightbox_id=null,n.silent((function(){n.unselect()})),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==e&&(this._lightbox_id=i),n.getSelectedId()==e&&n.silent((function(){n.unselect(e),n.select(i)})),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==e&&(this._tasks_dnd.drag.id=i))};var i=function(e,i){var n=t.getTaskType(e.type),r={type:n,$no_start:!1,$no_end:!1,scheduled_summary:!1};return n===t.config.types.project&&!1===e.auto_scheduling&&(r.scheduled_summary=!0),i||n!=e.$rendered_type?(n==t.config.types.project?r.$no_end=r.$no_start=!0:n!=t.config.types.milestone&&(r.$no_end=!(e.end_date||e.duration),r.$no_start=!e.start_date,t._isAllowedUnscheduledTask(e)&&(r.$no_end=r.$no_start=!1)),r):(r.$no_start=e.$no_start,r.$no_end=e.$no_end,r)};function n(e){e.$effective_calendar=t.getTaskCalendar(e).id,e.start_date=t.getClosestWorkTime({dir:"future",date:e.start_date,unit:t.config.duration_unit,task:e}),e.end_date=t.calculateEndDate(e)}function r(i,n,r,a){let s;s=i.type===t.config.types.project&&!1===i.auto_scheduling?{start:"$auto_start_date",end:"$auto_end_date"}:{start:"start_date",end:"end_date"},n.$no_start&&(i[s.start]=r?new Date(r):e(i,this.getParent(i))),n.$no_end&&(i[s.end]=a?new Date(a):this.calculateEndDate({start_date:i[s.start],duration:this.config.duration_step,task:i})),(n.$no_start||n.$no_end)&&this._init_task_timing(i)}function a(e){var i=null,n=null,r=void 0!==e?e:t.config.root_id,a=[];return t.eachTask((function(e){const r=t.getTaskType(e.type)==t.config.types.project&&!1===e.auto_scheduling;t.getTaskType(e.type)==t.config.types.project&&!r||t.isUnscheduledTask(e)||(e.rollup&&a.push(e.id),!e.start_date||e.$no_start&&!r||i&&!(i>e.start_date.valueOf())||(i=e.start_date.valueOf()),!e.end_date||e.$no_end&&!r||n&&!(n<e.end_date.valueOf())||(n=e.end_date.valueOf()))}),r),{start_date:i?new Date(i):null,end_date:n?new Date(n):null,rollup:a}}t._init_task_timing=function(t){var e=i(t,!0),r=t.$rendered_type!=e.type,a=e.type;r&&(t.$no_start=e.$no_start,t.$no_end=e.$no_end,t.$rendered_type=e.type),r&&a!=this.config.types.milestone&&a==this.config.types.project&&(this._set_default_task_timing(t),t.$calculate_duration=!1),a==this.config.types.milestone&&(t.end_date=t.start_date),t.start_date&&t.end_date&&!1!==t.$calculate_duration&&(t.duration=this.calculateDuration(t)),t.$calculate_duration||(t.$calculate_duration=!0),t.end_date||(t.end_date=t.start_date),t.duration=t.duration||0,0===this.config.min_duration&&0===t.duration&&(t.$no_end=!1);var s=this.getTaskCalendar(t);t.$effective_calendar&&t.$effective_calendar!==s.id&&(n(t),this.config.inherit_calendar&&this.isSummaryTask(t)&&this.eachTask((function(t){n(t)}),t.id)),t.$effective_calendar=s.id},t.isSummaryTask=function(e){t.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isSummaryTask. Task object was expected");var n=i(e);return!(!n.$no_end&&!n.$no_start)},t.resetProjectDates=function(t){var e=i(t);if(e.$no_end||e.$no_start){var n=a(t.id);r.call(this,t,e,n.start_date,n.end_date),t.$rollup=n.rollup}},t.getSubtaskDuration=function(e){var i=0,n=void 0!==e?e:t.config.root_id;return this.eachTask((function(e){this.getTaskType(e.type)==t.config.types.project||this.isUnscheduledTask(e)||(i+=e.duration)}),n),i},t.getSubtaskDates=function(t){var e=a(t);return{start_date:e.start_date,end_date:e.end_date}},t._update_parents=function(e,n,r){if(e){var a=this.getTask(e);a.rollup&&(r=!0);var s=this.getParent(a),o=i(a),l=!0;if(r||a.start_date&&a.end_date&&(o.$no_start||o.$no_end)){const e=a.$auto_start_date?"$auto_start_date":"start_date",i=a.$auto_end_date?"$auto_end_date":"end_date";var c=a[e].valueOf(),d=a[i].valueOf();t.resetProjectDates(a),r||c!=a[e].valueOf()||d!=a[i].valueOf()||(l=!1),l&&!n&&this.refreshTask(a.id,!0),o.scheduled_summary&&(l=!0)}l&&s&&this.isTaskExists(s)&&this._update_parents(s,n,r)}},t.roundDate=function(e){var i=t.getScale();B(e)&&(e={date:e,unit:i?i.unit:t.config.duration_unit,step:i?i.step:t.config.duration_step});var n,r,a,s=e.date,o=e.step,l=e.unit;if(!i)return s;if(l==i.unit&&o==i.step&&+s>=+i.min_date&&+s<=+i.max_date)a=Math.floor(t.columnIndexByDate(s)),i.trace_x[a]||(a-=1,i.rtl&&(a=0)),r=new Date(i.trace_x[a]),n=t.date.add(r,o,l);else{for(a=Math.floor(t.columnIndexByDate(s)),n=t.date[l+"_start"](new Date(i.min_date)),i.trace_x[a]&&(n=t.date[l+"_start"](i.trace_x[a]));+n<+s;){var c=(n=t.date[l+"_start"](t.date.add(n,o,l))).getTimezoneOffset();n=t._correct_dst_change(n,c,n,l),t.date[l+"_start"]&&(n=t.date[l+"_start"](n))}r=t.date.add(n,-1*o,l)}return e.dir&&"future"==e.dir?n:e.dir&&"past"==e.dir||Math.abs(s-r)<Math.abs(n-s)?r:n},t.correctTaskWorkTime=function(e){t.config.work_time&&t.config.correct_work_time&&(this.isWorkTime(e.start_date,void 0,e)?this.isWorkTime(new Date(+e.end_date-1),void 0,e)||(e.end_date=this.calculateEndDate(e)):(e.start_date=this.getClosestWorkTime({date:e.start_date,dir:"future",task:e}),e.end_date=this.calculateEndDate(e)))},t.attachEvent("onBeforeTaskUpdate",(function(e,i){return t._init_task_timing(i),!0})),t.attachEvent("onBeforeTaskAdd",(function(e,i){return t._init_task_timing(i),!0})),t.attachEvent("onAfterTaskMove",(function(e,i,n){return t._init_task_timing(t.getTask(e)),!0}))}function Me(t,e){var i,n=t.config.container_resize_timeout||20;let r=Pe(t);if("timeout"==t.config.container_resize_method)l();else try{t.event(e,"resize",(function(){if(t.$scrollbarRepaint)t.$scrollbarRepaint=null;else{let e=Pe(t);if(r.x==e.x&&r.y==e.y)return;r=e,a()}}))}catch{l()}function a(){clearTimeout(i),i=setTimeout((function(){t.$destroyed||t.render()}),n)}var s=t.$root.offsetHeight,o=t.$root.offsetWidth;function l(){t.$root.offsetHeight==s&&t.$root.offsetWidth==o||a(),s=t.$root.offsetHeight,o=t.$root.offsetWidth,setTimeout(l,n)}}function Pe(t){return{x:t.$root.offsetWidth,y:t.$root.offsetHeight}}const Ae={date:{month_full:[" ","","","","","","","",""," "," "," "],month_short:["","","","","","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"  ,   ",confirm_deleting:"       ",section_description:"",section_time:" ",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},$e={date:{month_full:["","","","","Ma","","","","","","",""],month_short:["","","","","Ma","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"   , ?",section_description:"",section_time:" ",section_type:"",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"",column_text:"",column_start_date:"",column_duration:"",column_add:"",link:"",confirm_link_deleting:" ",link_start:"()",link_end:"()",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"ii",hours:"i",days:"",weeks:"",months:"",years:"",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},De={date:{month_full:["Gener","Febrer","Mar","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancellar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar definitivament, continuar ?",section_description:"Descripci",section_time:"Periode de temps",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancellar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Ie={date:{month_full:["","","","","","","","","","","",""],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:"",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"!",confirm_deleting:"?",section_description:"",section_time:"",section_type:"",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"",column_text:"",column_start_date:"",column_duration:"",column_add:"",link:"",confirm_link_deleting:"",link_start:" ()",link_end:" ()",type_task:"",type_project:"",type_milestone:"",minutes:"",hours:"",days:"",weeks:"",months:"",years:"",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Le={date:{month_full:["Leden","nor","Bezen","Duben","Kvten","erven","ervenec","Srpen","Z","jen","Listopad","Prosinec"],month_short:["Led","n","Be","Dub","Kv","er","ec","Srp","Z","j","List","Pro"],day_full:["Nedle","Pondl","ter","Steda","tvrtek","Ptek","Sobota"],day_short:["Ne","Po","t","St","t","P","So"]},labels:{new_task:"Nov prce",icon_save:"Uloit",icon_cancel:"Zpt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Udlost bude trvale smazna, opravdu?",section_description:"Poznmky",section_time:"Doba platnosti",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zpt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Oe={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Man","Tir","Ons","Tor","Fre","Lr"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Re={date:{month_full:[" Januar"," Februar"," Mrz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"ndern",icon_delete:"Lschen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gelscht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gelscht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Regel",constraint_type:"Regel",constraint_date:"Regel - Datum",asap:"So bald wie mglich",alap:"So spt wie mglich",snet:"Beginn nicht vor",snlt:"Beginn nicht spter als",fnet:"Fertigstellung nicht vor",fnlt:"Fertigstellung nicht spter als",mso:"Muss beginnen am",mfo:"Muss fertig sein am",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Fe={date:{month_full:["","","","","","","","","","","",""],month_short:["","","","","","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"    .   ;",section_description:"",section_time:" ",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Ne={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Be={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],day_short:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar definitivamente, continuar?",section_description:"Descripcin",section_time:"Perodo",section_type:"Tipo",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duracin",column_add:"",link:"Enlace",confirm_link_deleting:"ser borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"Das",weeks:"Semanas",months:"Meses",years:"Aos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},ze={date:{month_full:["","","","","","","","","","","",""],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"       ",confirm_deleting:"         ",section_description:"",section_time:" ",section_type:"",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"",column_start_date:" ",column_duration:"",column_add:"",link:"",confirm_link_deleting:"  ",link_start:" ()",link_end:" ()",type_task:"",type_project:"",type_milestone:"",minutes:"",hours:"",days:"",weeks:"",months:"",years:"",message_ok:"",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Ve={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi tehtv",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},He={date:{month_full:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],month_short:["Jan","Fv","Mar","Avr","Mai","Juin","Juil","Ao","Sep","Oct","Nov","Dc"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle tche",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"Dtails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'vnement sera effac sans appel, tes-vous sr ?",section_description:"Description",section_time:"Priode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"OTP",column_text:"Nom de la tche",column_start_date:"Date initiale",column_duration:"Dure",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprim",link_start:"(dbut)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Annes",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},je={date:{month_full:["","","","","","","","","","","",""],month_short:["","","","","","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"  .?",section_description:"",section_time:"",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Ge={date:{month_full:["Sijeanj","Veljaa","Oujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","Ou","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","et","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obrii",confirm_closing:"",confirm_deleting:"Zadatak e biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Poetno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"e biti izbrisan",link_start:" (poetak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},We={date:{month_full:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],month_short:["Jan","Feb","Mr","pr","Mj","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vasrnap","Htf","Kedd","Szerda","Cstrtk","Pntek","szombat"],day_short:["Va","H","Ke","Sze","Cs","P","Szo"]},labels:{new_task:"j feladat",icon_save:"Ments",icon_cancel:"Mgse",icon_details:"Rszletek",icon_edit:"Szerkeszts",icon_delete:"Trls",confirm_closing:"",confirm_deleting:"Az esemny trlve lesz, biztosan folytatja?",section_description:"Lers",section_time:"Idszak",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Mgse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},qe={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Ue={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Nome Attivit",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sar eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Ye={date:{month_full:["1","2","3","4","5","6","7","8","9","10","11","12"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:"",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"",section_description:"",section_time:"",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Xe={date:{month_full:["1","2","3","4","5","6","7","8","9","10","11","12"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:" ",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:" ?",section_description:"",section_time:"",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"",column_start_date:"",column_duration:"",column_add:"",link:"",confirm_link_deleting:" ?",link_start:" (start)",link_end:" (end)",type_task:"",type_project:"",type_milestone:"",minutes:"",hours:"",days:"",weeks:"",months:"",years:"",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}};class Ke{constructor(t){this.addLocale=(t,e)=>{this._locales[t]=e},this.getLocale=t=>this._locales[t],this._locales={};for(const e in t)this._locales[e]=t[e]}}const Je={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Mon","Tir","Ons","Tor","Fre","Lr"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Ze={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},Qe={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Man","Tir","Ons","Tor","Fre","Lr"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppfringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},ti={date:{month_full:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],day_full:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],day_short:["Nie","Pon","Wto","ro","Czw","Pi","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczegy",icon_edit:"Edytuj",icon_delete:"Usu",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usunite na zawsze, kontynuowa?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Pocztek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usunity",link_start:" (pocztek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzie",months:"Miesice",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},ei={date:{month_full:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas sero excluidas permanentemente, confirme?",section_description:"Descrio",section_time:"Perodo",section_type:"Tipo",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data incio",column_duration:"Durao",column_add:"",link:"Link",confirm_link_deleting:"Ser excludo!",link_start:" (incio)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restrio",constraint_type:"Tipo Restrio",constraint_date:"Data restrio",asap:"Mais breve possvel",alap:"Mais tarde possvel",snet:"No comear antes de",snlt:"No comear depois de",fnet:"No terminar antes de",fnlt:"No terminar depois de",mso:"Precisa comear em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},ii={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},ni={date:{month_full:["","","","","Ma","","","","","O","",""],month_short:["","","Ma","A","Ma","","","A","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"   , ?",section_description:"",section_time:" ",section_type:"",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"",column_text:"",column_start_date:"",column_duration:"",column_add:"",link:"",confirm_link_deleting:" ",link_start:" ()",link_end:" ()",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"",hours:"",days:"",weeks:"",months:"",years:"",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"    ",resources_filter_label:"  ",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},ri={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","etrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","et","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Preklii",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbrii",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. elite nadaljevati?",section_description:"Opis",section_time:"asovni okvir",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Preklii",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},ai={date:{month_full:["Janur","Februr","Marec","Aprl","Mj","Jn","Jl","August","September","Oktber","November","December"],month_short:["Jan","Feb","Mar","Apr","Mj","Jn","Jl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nedea","Pondelok","Utorok","Streda","tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","t","Pi","So"]},labels:{new_task:"Nov loha",icon_save:"Uloi",icon_cancel:"Sp",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza",confirm_closing:"Vae zmeny nebud uloen. Skutone?",confirm_deleting:"Udalos bude natrvalo vymazan. Skutone?",section_description:"Poznmky",section_time:"Doba platnosti",section_type:"Type",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Sp",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},si={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"r du sker p att du vill ta bort hndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"Lnk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"Mnader",years:"r",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},oi={date:{month_full:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],month_short:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","ar","Per","Cum","Cmt"]},labels:{new_task:"Yeni grev",icon_save:"Kaydet",icon_cancel:"ptal",icon_details:"Detaylar",icon_edit:"Dzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Grev silinecek, emin misiniz?",section_description:"Aklama",section_time:"Zaman Aral",section_type:"Tip",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Grev Ad",column_start_date:"Balang",column_duration:"Sre",column_add:"",link:"Balant",confirm_link_deleting:"silinecek",link_start:" (balang)",link_end:" (biti)",type_task:"Grev",type_project:"Proje",type_milestone:"Kilometreta",minutes:"Dakika",hours:"Saat",days:"Gn",weeks:"Hafta",months:"Ay",years:"Yl",message_ok:"OK",message_cancel:"ptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}},li={date:{month_full:["","","","","","","","","","","",""],month_short:["","","","","","","","","","","",""],day_full:["","","","","","'",""],day_short:["","","","","","",""]},labels:{new_task:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"  .  ?",section_description:"",section_time:" ",section_type:"",section_deadline:"Deadline",section_baselines:"Baselines",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task",baselines_section_placeholder:"Start adding a new baseline",baselines_add_button:"Add Baseline",baselines_remove_button:"Remove",baselines_remove_all_button:"Remove All",deadline_enable_button:"Set",deadline_disable_button:"Remove"}};function ci(){this.constants=ft,this.version="9.0.11",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}}function di(t){var e,i=new ci,n=new pt(t),r={};i.plugins=function(t){for(var e in t)if(t[e]&&!r[e]){var a=n.getExtension(e);a&&(a(i),r[e]=!0)}return r},i.$services=(e={},{services:{},setService:function(t,i){e[t]=i},getService:function(t){return e[t]?e[t]():null},dropService:function(t){e[t]&&delete e[t]},destructor:function(){for(var t in e)if(e[t]){var i=e[t];i&&i.destructor&&i.destructor()}e=null}}),i.config={layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,deadlines:!0,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,link_arrow_size:12,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",bar_height_padding:9,min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,row_height:36,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link",render:!1},drag_multiple:!0,csp:"auto"},i.ajax=function(t){return{cache:!0,method:"get",parse:function(t){return"string"!=typeof t?t:(t=t.replace(/^[\s]+/,""),typeof DOMParser>"u"||mt.isIE?void 0!==P.ActiveXObject&&((e=new P.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e);var e},xmltop:function(e,i,n){if(void 0===i.status||i.status<400){var r=i.responseXML?i.responseXML||i:this.parse(i.responseText||i);if(r&&null!==r.documentElement&&!r.getElementsByTagName("parsererror").length)return r.getElementsByTagName(e)[0]}return-1!==n&&t.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],n]),document.createElement("DIV")},xpath:function(t,e){if(e.nodeName||(e=e.responseXML||e),mt.isIE)return e.selectNodes(t)||[];for(var i,n=[],r=(e.ownerDocument||e).evaluate(t,e,null,XPathResult.ANY_TYPE,null);i=r.iterateNext();)n.push(i);return n},query:function(t){return this._call(t.method||"GET",t.url,t.data||"",t.async||!0,t.callback,t.headers)},get:function(t,e,i){var n=vt("GET",arguments);return this.query(n)},getSync:function(t,e){var i=vt("GET",arguments);return i.async=!1,this.query(i)},put:function(t,e,i,n){var r=vt("PUT",arguments);return this.query(r)},del:function(t,e,i){var n=vt("DELETE",arguments);return this.query(n)},post:function(t,e,i,n){1==arguments.length?e="":2==arguments.length&&"function"==typeof e&&(i=e,e="");var r=vt("POST",arguments);return this.query(r)},postSync:function(t,e,i){e=null===e?"":String(e);var n=vt("POST",arguments);return n.async=!1,this.query(n)},_call:function(e,i,n,r,a,s){return new t.Promise((function(o,l){var c=void 0!==typeof XMLHttpRequest?new XMLHttpRequest:new P.ActiveXObject("Microsoft.XMLHTTP"),d=null!==navigator.userAgent.match(/AppleWebKit/)&&null!==navigator.userAgent.match(/Qt/)&&null!==navigator.userAgent.match(/Safari/);r&&(c.onreadystatechange=function(){if(4==c.readyState||d&&3==c.readyState){if((200!=c.status||""===c.responseText)&&!t.callEvent("onAjaxError",[c]))return;setTimeout((function(){"function"==typeof a&&a.apply(P,[{xmlDoc:c,filePath:i}]),o(c),"function"==typeof a&&(a=null,c=null)}),0)}});var h=!this||!this.cache;if("GET"==e&&h&&(i+=(i.indexOf("?")>=0?"&":"?")+"dhxr"+(new Date).getTime()+"=1"),c.open(e,i,r),s)for(var u in s)c.setRequestHeader(u,s[u]);else"POST"==e.toUpperCase()||"PUT"==e||"DELETE"==e?c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==e&&(n=null);if(c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.send(n),!r)return{xmlDoc:c,filePath:i}}))},urlSeparator:function(t){return-1!=t.indexOf("?")?"&":"?"}}}(i),i.date=function(t){var e=null;function i(){var i=!1;return"auto"===t.config.csp?(null===e&&function(){try{new Function("canUseCsp = false;")}catch{e=!0}}(),i=e):i=t.config.csp,i}return{init:function(){for(var e=t.locale,i=e.date.month_short,n=e.date.month_short_hash={},r=0;r<i.length;r++)n[i[r]]=r;for(i=e.date.month_full,n=e.date.month_full_hash={},r=0;r<i.length;r++)n[i[r]]=r},date_part:function(t){var e=new Date(t);return t.setHours(0),this.hour_start(t),t.getHours()&&(t.getDate()<e.getDate()||t.getMonth()<e.getMonth()||t.getFullYear()<e.getFullYear())&&t.setTime(t.getTime()+36e5*(24-t.getHours())),t},time_part:function(t){return(t.valueOf()/1e3-60*t.getTimezoneOffset())%86400},week_start:function(e){var i=e.getDay();return t.config.start_on_monday&&(0===i?i=6:i--),this.date_part(this.add(e,-1*i,"day"))},month_start:function(t){return t.setDate(1),this.date_part(t)},quarter_start:function(t){this.month_start(t);var e,i=t.getMonth();return e=i>=9?9:i>=6?6:i>=3?3:0,t.setMonth(e),t},year_start:function(t){return t.setMonth(0),this.month_start(t)},day_start:function(t){return this.date_part(t)},hour_start:function(t){return t.getMinutes()&&t.setMinutes(0),this.minute_start(t),t},minute_start:function(t){return t.getSeconds()&&t.setSeconds(0),t.getMilliseconds()&&t.setMilliseconds(0),t},_add_days:function(t,e,i){t.setDate(t.getDate()+e);var n=e>=0,r=!i.getHours()&&t.getHours(),a=t.getDate()<=i.getDate()||t.getMonth()<i.getMonth()||t.getFullYear()<i.getFullYear();return n&&r&&a&&t.setTime(t.getTime()+36e5*(24-t.getHours())),e>1&&r&&t.setHours(0),t},add:function(t,e,i){var n=new Date(t.valueOf());switch(i){case"day":n=this._add_days(n,e,t);break;case"week":n=this._add_days(n,7*e,t);break;case"month":n.setMonth(n.getMonth()+e);break;case"year":n.setYear(n.getFullYear()+e);break;case"hour":n.setTime(n.getTime()+60*e*60*1e3);break;case"minute":n.setTime(n.getTime()+60*e*1e3);break;default:return this["add_"+i](t,e,i)}return n},add_quarter:function(t,e){return this.add(t,3*e,"month")},to_fixed:function(t){return t<10?"0"+t:t},copy:function(t){return new Date(t.valueOf())},date_to_str:function(e,n){var r=yt;return i()&&(r=bt),r.date_to_str(e,n,t)},str_to_date:function(e,n){var r=yt;return i()&&(r=bt),r.str_to_date(e,n,t)},getISOWeek:function(e){return t.date._getWeekNumber(e,!0)},_getWeekNumber:function(t,e){if(!t)return!1;var i=t.getDay();e&&0===i&&(i=7);var n=new Date(t.valueOf());n.setDate(t.getDate()+(4-i));var r=n.getFullYear(),a=Math.round((n.getTime()-new Date(r,0,1).getTime())/864e5);return 1+Math.floor(a/7)},getWeek:function(e){return t.date._getWeekNumber(e,t.config.start_on_monday)},getUTCISOWeek:function(e){return t.date.getISOWeek(e)},convert_to_utc:function(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())},parseDate:function(e,i){return e&&!e.getFullYear&&("function"!=typeof i&&(i="string"==typeof i?"parse_date"===i||"xml_date"===i?t.defined(t.templates.xml_date)?t.templates.xml_date:t.templates.parse_date:t.defined(t.templates[i])?t.templates[i]:t.date.str_to_date(i):t.defined(t.templates.xml_date)?t.templates.xml_date:t.templates.parse_date),e=e?i(e):null),e}}}(i),i.RemoteEvents=xt;var a=function(t){function e(t){return{target:t.target||t.srcElement,pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,metaKey:t.metaKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,altKey:t.altKey}}function i(i,n){this._obj=i,this._settings=n||{},D(this);var r=this.getInputMethods();this._drag_start_timer=null,t.attachEvent("onGanttScroll",et((function(t,e){this.clearDragTimer()}),this));for(var a={passive:!1},s=0;s<r.length;s++)et((function(r){t.event(i,r.down,et((function(a){r.accessor(a)&&(void 0!==a.button&&0!==a.button||(n.preventDefault&&n.selector&&w(a.target,n.selector)&&a.preventDefault(),t.config.touch&&a.timeStamp&&a.timeStamp-0<300||(this._settings.original_target=e(a),this._settings.original_element_sizes={...b(a,S(i)),width:a.target.offsetWidth,height:a.target.offsetHeight},t.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(et((function(){t.getState().lightbox||this.dragStart(i,a,r)}),this),t.config.touch_drag)):this.dragStart(i,a,r))))}),this),a);var s=document.body;t.event(s,r.up,et((function(t){r.accessor(t)&&this.clearDragTimer()}),this),a)}),this)(r[s])}return i.prototype={traceDragEvents:function(e,i){var n=et((function(t){return this.dragMove(e,t,i.accessor)}),this);et((function(t){return this.dragScroll(e,t)}),this);var r=et((function(t){if(!this.config.started||!Q(this.config.updates_per_second)||wt(this,this.config.updates_per_second)){var e=n(t);if(e)try{t&&t.preventDefault&&t.cancelable&&t.preventDefault()}catch{}return e}}),this),a=C(t.$root),s=this.config.mousemoveContainer||C(t.$root),o={passive:!1},l=et((function(n){return t.eventRemove(s,i.move,r),t.eventRemove(a,i.up,l,o),this.dragEnd(e)}),this);t.event(s,i.move,r,o),t.event(a,i.up,l,o)},checkPositionChange:function(t){var e=t.x-this.config.pos.x,i=t.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(e),2)+Math.pow(Math.abs(i),2))>this.config.sensitivity},initDnDMarker:function(){var t=this.config.marker=document.createElement("div");t.className="gantt_drag_marker",t.innerHTML="",document.body.appendChild(t)},backupEventTarget:function(i,n){if(t.config.touch){var r=n(i),a=r.target||r.srcElement,s=a.cloneNode(!0);this.config.original_target=e(r),this.config.original_target.target=s,this.config.backup_element=a,a.parentNode.appendChild(s),a.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(a)}},getInputMethods:function(){var e=[];if(e.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(t){return t}}),t.config.touch){var i=!0;try{document.createEvent("TouchEvent")}catch{i=!1}i?e.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(t){return t.touches&&t.touches.length>1?null:t.touches[0]?{target:document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY),pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:t}}):P.navigator.pointerEnabled?e.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(t){return"mouse"==t.pointerType?null:t}}):P.navigator.msPointerEnabled&&e.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(t){return t.pointerType==t.MSPOINTER_TYPE_MOUSE?null:t}})}return e},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(e,i,n){this.config&&this.config.started||(this.config={obj:e,marker:null,started:!1,pos:this.getPosition(i),sensitivity:4},this._settings&&Z(this.config,this._settings,!0),this.traceDragEvents(e,n),t._prevent_touch_scroll=!0,i.target.closest(".gantt_row")&&!t.config.order_branch&&(t._prevent_touch_scroll=!1),document.body.classList.add("gantt_noselect"),t.config.touch&&this.dragMove(e,i,n.accessor))},dragMove:function(e,i,n){var r=n(i);if(!r)return!1;if(!this.config.marker&&!this.config.started){var a=this.getPosition(r);if(t.config.touch||this.checkPositionChange(a)){if(this.config.started=!0,this.config.ignore=!1,t._touch_drag=!0,!1===this.callEvent("onBeforeDragStart",[e,this.config.original_target]))return this.config.ignore=!0,!1;this.backupEventTarget(i,n),this.initDnDMarker(),t._touch_feedback(),this.callEvent("onAfterDragStart",[e,this.config.original_target])}else this.config.ignore=!0}return!this.config.ignore&&(i.targetTouches&&!r.target?void 0:(r.pos=this.getPosition(r),this.config.marker.style.left=r.pos.x+"px",this.config.marker.style.top=r.pos.y+"px",this.callEvent("onDragMove",[e,r]),!0))},dragEnd:function(e){var i=this.config.backup_element;i&&i.parentNode&&i.parentNode.removeChild(i),t._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,t._touch_drag=!1,document.body.classList.remove("gantt_noselect")},getPosition:function(t){var e=0,i=0;return t.pageX||t.pageY?(e=t.pageX,i=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:e,y:i}}},i}(i);i.$services.setService("dnd",(function(){return a}));var s=function(t){var e={};function i(i,n,r){r=r||i;var a=t.config,s=t.templates;t.config[i]&&e[r]!=a[i]&&(n&&s[r]||(s[r]=t.date.date_to_str(a[i]),e[r]=a[i]))}return{initTemplates:function(){var e=t.date,n=e.date_to_str,r=t.config,a=n(r.xml_date||r.date_format,r.server_utc),s=e.str_to_date(r.xml_date||r.date_format,r.server_utc);i("date_scale",!0,void 0,t.config,t.templates),i("date_grid",!0,"grid_date_format",t.config,t.templates),i("task_date",!0,void 0,t.config,t.templates),t.mixin(t.templates,{xml_format:void 0,format_date:a,xml_date:void 0,parse_date:s,progress_text:function(t,e,i){return""},grid_header_class:function(t,e){return""},task_text:function(t,e,i){return i.text},task_class:function(t,e,i){return""},task_end_date:function(e){return t.templates.task_date(e)},grid_row_class:function(t,e,i){return""},task_row_class:function(t,e,i){return""},timeline_cell_class:function(t,e){return""},timeline_cell_content:function(t,e){return""},scale_cell_class:function(t){return""},scale_row_class:function(t){return""},grid_indent:function(t){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(t){return"<div class='gantt_tree_icon gantt_folder_"+(t.$open?"open":"closed")+"'></div>"},grid_file:function(t){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(t){return"<div class='gantt_tree_icon gantt_"+(t.$open?"close":"open")+"'></div>"},grid_blank:function(t){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(e,i,n){return i&&t.isUnscheduledTask(i)&&t.config.show_unscheduled?t.templates.task_unscheduled_time(i):t.templates.grid_date_format(e,n)},task_time:function(e,i,n){return t.isUnscheduledTask(n)&&t.config.show_unscheduled?t.templates.task_unscheduled_time(n):t.templates.task_date(e)+" - "+t.templates.task_end_date(i)},task_unscheduled_time:function(t){return""},time_picker:n(r.time_picker),link_class:function(t){return""},link_description:function(e){var i=t.getTask(e.source),n=t.getTask(e.target);return"<b>"+i.text+"</b> &ndash;  <b>"+n.text+"</b>"},drag_link:function(e,i,n,r){e=t.getTask(e);var a=t.locale.labels,s="<b>"+e.text+"</b> "+(i?a.link_start:a.link_end)+"<br/>";return n&&(s+="<b> "+(n=t.getTask(n)).text+"</b> "+(r?a.link_start:a.link_end)+"<br/>"),s},drag_link_class:function(e,i,n,r){var a="";return e&&n&&(a=" "+(t.isLinkAllowed(e,n,i,r)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+a},tooltip_date_format:e.date_to_str("%Y-%m-%d"),tooltip_text:function(e,i,n){return`<div>Task: ${n.text}</div>\n\t\t\t\t<div>Start date: ${t.templates.tooltip_date_format(e)}</div>\n\t\t\t\t<div>End date: ${t.templates.tooltip_date_format(i)}</div>`},baseline_text:function(t,e,i){return""}})},initTemplate:i}}(i);i.$services.setService("templateLoader",(function(){return s})),D(i);var o=new St;o.registerProvider("global",(function(){var t={min_date:i._min_date,max_date:i._max_date,selected_task:null};return i.$data&&i.$data.tasksStore&&(t.selected_task=i.$data.tasksStore.getSelectedId()),t})),i.getState=o.getState,i.$services.setService("state",(function(){return o})),Z(i,rt),i.Promise=Tt,i.env=mt,function(t){var e=Lt();Z(t,e);var i,n=t.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return t.config.root_id},initItem:et((function(e){this.defined(e.id)||(e.id=this.uid()),e.start_date&&(e.start_date=t.date.parseDate(e.start_date,"parse_date")),e.end_date&&(e.end_date=t.date.parseDate(e.end_date,"parse_date"));var i=null;(e.duration||0===e.duration)&&(e.duration=i=1*e.duration),i&&(e.start_date&&!e.end_date?e.end_date=this.calculateEndDate(e):!e.start_date&&e.end_date&&(e.start_date=this.calculateEndDate({start_date:e.end_date,duration:-e.duration,task:e}))),!1!==t.config.deadlines&&e.deadline&&(e.deadline=t.date.parseDate(e.deadline,"parse_date")),e.progress=Number(e.progress)||0,this._isAllowedUnscheduledTask(e)&&this._set_default_task_timing(e),this._init_task_timing(e),e.start_date&&e.end_date&&this.correctTaskWorkTime(e),e.$source=[],e.$target=[];var n=this.$data.tasksStore.getItem(e.id);return n&&!Q(e.open)&&(e.$open=n.$open),void 0===e.parent&&(e.parent=this.config.root_id),e.open&&(e.$open=!0),e}),t),getConfig:function(){return t.config}}),r=t.createDatastore({name:"link",initItem:et((function(t){return this.defined(t.id)||(t.id=this.uid()),t}),t)});function a(e){var i=t.isTaskVisible(e);if(!i&&t.isTaskExists(e)){var n=t.getParent(e);t.isTaskExists(n)&&t.isTaskVisible(n)&&(n=t.getTask(n),t.isSplitTask(n)&&(i=!0))}return i}function s(e){if(t.isTaskExists(e.source)){var i=t.getTask(e.source);i.$source=i.$source||[],i.$source.push(e.id)}if(t.isTaskExists(e.target)){var n=t.getTask(e.target);n.$target=n.$target||[],n.$target.push(e.id)}}function o(e){if(t.isTaskExists(e.source))for(var i=t.getTask(e.source),n=0;n<i.$source.length;n++)if(i.$source[n]==e.id){i.$source.splice(n,1);break}if(t.isTaskExists(e.target)){var r=t.getTask(e.target);for(n=0;n<r.$target.length;n++)if(r.$target[n]==e.id){r.$target.splice(n,1);break}}}function l(){for(var e=null,i=t.$data.tasksStore.getItems(),n=0,r=i.length;n<r;n++)(e=i[n]).$source=[],e.$target=[];var a=t.$data.linksStore.getItems();for(n=0,r=a.length;n<r;n++)s(a[n])}function c(t){var e=t.source,i=t.target;for(var n in t.events)!function(t,n){e.attachEvent(t,(function(){return i.callEvent(n,Array.prototype.slice.call(arguments))}),n)}(n,t.events[n])}t.attachEvent("onDestroy",(function(){n.destructor(),r.destructor()})),t.attachEvent("onLinkValidation",(function(e){if(t.isLinkExists(e.id)||"predecessor_generated"===e.id)return!0;for(var i=t.getTask(e.source).$source,n=0;n<i.length;n++){var r=t.getLink(i[n]),a=e.source==r.source,s=e.target==r.target,o=e.type==r.type;if(a&&s&&o)return!1}return!0})),n.attachEvent("onBeforeRefreshAll",(function(){if(!n._skipTaskRecalculation)for(var e=n.getVisibleItems(),i=0;i<e.length;i++){var r=e[i];r.$index=i,r.$local_index=t.getTaskIndex(r.id),t.resetProjectDates(r)}})),n.attachEvent("onFilterItem",(function(e,i){if(t.config.show_tasks_outside_timescale)return!0;var n=null,r=null;if(t.config.start_date&&t.config.end_date){if(t._isAllowedUnscheduledTask(i))return!0;if(n=t.config.start_date.valueOf(),r=t.config.end_date.valueOf(),+i.start_date>r||+i.end_date<+n)return!1}return!0})),n.attachEvent("onIdChange",(function(e,i){t._update_flags(e,i);var r=t.getTask(i);n.isSilent()||(r.$split_subtask||r.rollup)&&t.eachParent((function(e){t.refreshTask(e.id)}),i)})),n.attachEvent("onAfterUpdate",(function(e){if(t._update_parents(e),t.getState("batchUpdate").batch_update)return!0;var i=n.getItem(e);i.$source||(i.$source=[]);for(var a=0;a<i.$source.length;a++)r.refresh(i.$source[a]);for(i.$target||(i.$target=[]),a=0;a<i.$target.length;a++)r.refresh(i.$target[a])})),n.attachEvent("onBeforeItemMove",(function(e,i,r){return!Ct(e,t,n)||(console.log("The placeholder task cannot be moved to another position."),!1)})),n.attachEvent("onAfterItemMove",(function(e,i,n){var r=t.getTask(e);null!==this.getNextSibling(e)?r.$drop_target=this.getNextSibling(e):null!==this.getPrevSibling(e)?r.$drop_target="next:"+this.getPrevSibling(e):r.$drop_target="next:null"})),n.attachEvent("onStoreUpdated",(function(e,i,n){if("delete"==n&&t._update_flags(e,null),!t.$services.getService("state").getState("batchUpdate").batch_update){if(t.config.fit_tasks&&"paint"!==n){var a=t.getState();Ft(t);var s=t.getState();if(+a.min_date!=+s.min_date||+a.max_date!=+s.max_date)return t.render(),t.callEvent("onScaleAdjusted",[]),!0}"add"==n||"move"==n||"delete"==n?t.$layout&&("task"!=this.$config.name||"add"!=n&&"delete"!=n||"lightbox"!=this._skipTaskRecalculation&&(this._skipTaskRecalculation=!0),t.$layout.resize()):e||r.refresh()}})),r.attachEvent("onAfterAdd",(function(t,e){s(e)})),r.attachEvent("onAfterUpdate",(function(t,e){l()})),r.attachEvent("onAfterDelete",(function(t,e){o(e)})),r.attachEvent("onAfterSilentDelete",(function(t,e){o(e)})),r.attachEvent("onBeforeIdChange",(function(e,i){o(t.mixin({id:e},t.$data.linksStore.getItem(i))),s(t.$data.linksStore.getItem(i))})),r.attachEvent("onFilterItem",(function(e,i){if(!t.config.show_links)return!1;var n=a(i.source),r=a(i.target);return!(!n||!r||t._isAllowedUnscheduledTask(t.getTask(i.source))||t._isAllowedUnscheduledTask(t.getTask(i.target)))&&t.callEvent("onBeforeLinkDisplay",[e,i])})),i={},t.attachEvent("onBeforeTaskDelete",(function(e,n){return i[e]=zt(t,e),!0})),t.attachEvent("onAfterTaskDelete",(function(e,n){i[e]&&t.$data.linksStore.silent((function(){for(var n in i[e])t.isLinkExists(n)&&t.$data.linksStore.removeItem(n),o(i[e][n]);i[e]=null}))})),t.attachEvent("onAfterLinkDelete",(function(e,i){t.isTaskExists(i.source)&&t.refreshTask(i.source),t.isTaskExists(i.target)&&t.refreshTask(i.target)})),t.attachEvent("onParse",l),c({source:r,target:t,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),c({source:n,target:t,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),t.$data={tasksStore:n,linksStore:r}}(i),i.dataProcessor=qt,i.createDataProcessor=Ut,function(t){t.ext||(t.ext={});for(var e=[Xt,Kt,Jt,Zt,Qt,te,ae,se,ce],i=0;i<e.length;i++)e[i]&&e[i](t)}(i),function(t){t.getGridColumn=function(e){for(var i=t.config.columns,n=0;n<i.length;n++)if(i[n].name==e)return i[n];return null},t.getGridColumns=function(){return t.config.columns.slice()}}(i),function(t){t.isReadonly=function(e){return"number"!=typeof e&&"string"!=typeof e||!t.isTaskExists(e)||(e=t.getTask(e)),(!e||!e[this.config.editable_property])&&(e&&e[this.config.readonly_property]||this.config.readonly)}}(i),function(t){function e(e){throw t.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(e)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(e))}t.load=function(){throw new Error("gantt.load() method is not available in the node.js, use gantt.parse() instead")},t.parse=function(t,e){this.on_load({xmlDoc:{responseText:t}},e)},t.serialize=function(t){return this[t=t||"json"].serialize()},t.on_load=function(e,i){if(e.xmlDoc&&404===e.xmlDoc.status)this.assert(!1,"Failed to load the data from <a href='"+e.xmlDoc.responseURL+"' target='_blank'>"+e.xmlDoc.responseURL+"</a>, server returns 404");else if(!t.$destroyed){this.callEvent("onBeforeParse",[]),i||(i="json"),this.assert(this[i],"Invalid data type:'"+i+"'");var n=e.xmlDoc.responseText,r=this[i].parse(n,e);this._process_loading(r)}},t._process_loading=function(e){e.collections&&this._load_collections(e.collections),e.resources&&this.$data.resourcesStore&&this.$data.resourcesStore.parse(e.resources),t.config.baselines&&e.baselines&&this.$data.baselineStore&&this.$data.baselineStore.parse(e.baselines);const i=e.data||e.tasks;e.assignments&&function(e,i){const n={};i.forEach((t=>{n[t.task_id]||(n[t.task_id]=[]),n[t.task_id].push(t)})),e.forEach((e=>{e[t.config.resource_property]=n[e.id]||[]}))}(i,e.assignments),this.$data.tasksStore.parse(i);var n=e.links||(e.collections&&e.collections.links?e.collections.links:[]);this.$data.linksStore.parse(n),this.callEvent("onParse",[]),this.render()},t._load_collections=function(t){var e=!1;for(var i in t)if(t.hasOwnProperty(i)){e=!0;var n=t[i];this.serverList[i]=this.serverList[i]||[];var r=this.serverList[i];if(!r)continue;r.splice(0,r.length);for(var a=0;a<n.length;a++){var s=n[a],o=this.copy(s);for(var l in o.key=o.value,s)if(s.hasOwnProperty(l)){if("value"==l||"label"==l)continue;o[l]=s[l]}r.push(o)}}e&&this.callEvent("onOptionsLoad",[])},t.attachEvent("onBeforeTaskDisplay",(function(t,e){return!e.$ignore})),t.json={parse:function(i){if(i||e(i),"string"==typeof i)if(null!=typeof JSON)try{i=JSON.parse(i)}catch{e(i)}else t.assert(!1,"JSON is not supported");return i.data||i.tasks||e(i),i.dhx_security&&(t.security_key=i.dhx_security),i},serializeTask:function(t){return this._copyObject(t)},serializeLink:function(t){return this._copyLink(t)},_copyLink:function(t){var e={};for(var i in t)e[i]=t[i];return e},_copyObject:function(e){var i={};for(var n in e)"$"!=n.charAt(0)&&(i[n]=e[n],B(i[n])&&(i[n]=t.defined(t.templates.xml_format)?t.templates.xml_format(i[n]):t.templates.format_date(i[n])));return i},serialize:function(){var e=[],i=[];let n=[];t.eachTask((function(i){t.resetProjectDates(i),e.push(this.serializeTask(i))}),t.config.root_id,this);for(var r=t.getLinks(),a=0;a<r.length;a++)i.push(this.serializeLink(r[a]));return t.getDatastore("baselines").eachItem((function(e){const i=t.json.serializeTask(e);n.push(i)})),{data:e,links:i,baselines:n}}},t.xml={_xmlNodeToJSON:function(t,e){for(var i={},n=0;n<t.attributes.length;n++)i[t.attributes[n].name]=t.attributes[n].value;if(!e){for(n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];1==r.nodeType&&(i[r.tagName]=r.firstChild?r.firstChild.nodeValue:"")}i.text||(i.text=t.firstChild?t.firstChild.nodeValue:"")}return i},_getCollections:function(e){for(var i={},n=t.ajax.xpath("//coll_options",e),r=0;r<n.length;r++)for(var a=i[n[r].getAttribute("for")]=[],s=t.ajax.xpath(".//item",n[r]),o=0;o<s.length;o++){for(var l=s[o].attributes,c={key:s[o].getAttribute("value"),label:s[o].getAttribute("label")},d=0;d<l.length;d++){var h=l[d];"value"!=h.nodeName&&"label"!=h.nodeName&&(c[h.nodeName]=h.nodeValue)}a.push(c)}return i},_getXML:function(e,i,n){n=n||"data",i.getXMLTopNode||(i=t.ajax.parse(i));var r=t.ajax.xmltop(n,i.xmlDoc);r&&r.tagName==n||function(e){throw t.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(e)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(e))}(e);var a=r.getAttribute("dhx_security");return a&&(t.security_key=a),r},parse:function(e,i){i=this._getXML(e,i);for(var n={},r=n.data=[],a=t.ajax.xpath("//task",i),s=0;s<a.length;s++)r[s]=this._xmlNodeToJSON(a[s]);return n.collections=this._getCollections(i),n},_copyLink:function(t){return"<item id='"+t.id+"' source='"+t.source+"' target='"+t.target+"' type='"+t.type+"' />"},_copyObject:function(t){return"<task id='"+t.id+"' parent='"+(t.parent||"")+"' start_date='"+t.start_date+"' duration='"+t.duration+"' open='"+!!t.open+"' progress='"+t.progress+"' end_date='"+t.end_date+"'><![CDATA["+t.text+"]]></task>"},serialize:function(){for(var e=[],i=[],n=t.json.serialize(),r=0,a=n.data.length;r<a;r++)e.push(this._copyObject(n.data[r]));for(r=0,a=n.links.length;r<a;r++)i.push(this._copyLink(n.links[r]));return"<data>"+e.join("")+"<coll_options for='links'>"+i.join("")+"</coll_options></data>"}},t.oldxml={parse:function(e,i){i=t.xml._getXML(e,i,"projects");for(var n={collections:{links:[]}},r=n.data=[],a=t.ajax.xpath("//task",i),s=0;s<a.length;s++){r[s]=t.xml._xmlNodeToJSON(a[s]);var o=a[s].parentNode;"project"==o.tagName?r[s].parent="project-"+o.getAttribute("id"):r[s].parent=o.parentNode.getAttribute("id")}for(a=t.ajax.xpath("//project",i),s=0;s<a.length;s++)(l=t.xml._xmlNodeToJSON(a[s],!0)).id="project-"+l.id,r.push(l);for(s=0;s<r.length;s++){var l;(l=r[s]).start_date=l.startdate||l.est,l.end_date=l.enddate,l.text=l.name,l.duration=l.duration/8,l.open=1,l.duration||l.end_date||(l.duration=1),l.predecessortasks&&n.collections.links.push({target:l.id,source:l.predecessortasks,type:t.config.links.finish_to_start})}return n},serialize:function(){t.message("Serialization to 'old XML' is not implemented")}},t.serverList=function(t,e){return e?this.serverList[t]=e.slice(0):this.serverList[t]||(this.serverList[t]=[]),this.serverList[t]}}(i),function(t){var e=new Se(t);Z(t,function(t,e){return{getWorkHours:function(t){return e.getWorkHours(t)},setWorkTime:function(t){return e.setWorkTime(t)},unsetWorkTime:function(t){e.unsetWorkTime(t)},isWorkTime:function(t,i,n){return e.isWorkTime(t,i,n)},getClosestWorkTime:function(t){return e.getClosestWorkTime(t)},calculateDuration:function(t,i,n){return e.calculateDuration(t,i,n)},_hasDuration:function(t,i,n){return e.hasDuration(t,i,n)},calculateEndDate:function(t,i,n,r){return e.calculateEndDate(t,i,n,r)},mergeCalendars:et(t.mergeCalendars,t),createCalendar:et(t.createCalendar,t),addCalendar:et(t.addCalendar,t),getCalendar:et(t.getCalendar,t),getCalendars:et(t.getCalendars,t),getResourceCalendar:et(t.getResourceCalendar,t),getTaskCalendar:et(t.getTaskCalendar,t),deleteCalendar:et(t.deleteCalendar,t)}}(e,new Ee(e)))}(i),Ce(i),function(t){t.getTaskType=function(t){return"task"}}(i),function(t){function e(){return t._cached_functions.update_if_changed(t),t._cached_functions.active||t._cached_functions.activate(),!0}t._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(t,e){if(e._prefetch_originals)for(var i in e._prefetch_originals)e[i]=e._prefetch_originals[i];for(e._prefetch_originals={},i=0;i<t.length;i++)this.prefetch(t[i],e)},prefetch:function(t,e){var i=e[t];if(i){var n=this;e._prefetch_originals[t]=i,e[t]=function(){for(var e=new Array(arguments.length),r=0,a=arguments.length;r<a;r++)e[r]=arguments[r];if(n.active){var s=n.get_arguments_hash(Array.prototype.slice.call(e));n.cache[t]||(n.cache[t]={});var o=n.cache[t];if(n.has_cached_value(o,s))return n.get_cached_value(o,s);var l=i.apply(this,e);return n.cache_value(o,s,l),l}return i.apply(this,e)}}return i},cache_value:function(t,e,i){this.is_date(i)&&(i=new Date(i)),t[e]=i},has_cached_value:function(t,e){return t.hasOwnProperty(e)},get_cached_value:function(t,e){var i=t[e];return this.is_date(i)&&(i=new Date(i)),i},is_date:function(t){return t&&t.getUTCDate},get_arguments_hash:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.stringify_argument(t[i]));return"("+e.join(";")+")"},stringify_argument:function(t){return(t.id?t.id:this.is_date(t)?t.valueOf():t)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(t){var e=[],i=["_isProjectEnd","_getProjectEnd","_getSlack"];"auto"==this.mode?t.config.highlight_critical_path&&(e=i):!0===this.mode&&(e=i),this.wrap_methods(e,t)},update_if_changed:function(t){(this.critical_path_mode!=t.config.highlight_critical_path||this.mode!==t.config.optimize_render)&&(this.critical_path_mode=t.config.highlight_critical_path,this.mode=t.config.optimize_render,this.setup(t))}},t.attachEvent("onBeforeGanttRender",e),t.attachEvent("onBeforeDataRender",e),t.attachEvent("onBeforeSmartRender",(function(){e()})),t.attachEvent("onBeforeParse",e),t.attachEvent("onDataRender",(function(){t._cached_functions.deactivate()}));var i=null;t.attachEvent("onSmartRender",(function(){i&&clearTimeout(i),i=setTimeout((function(){t._cached_functions.deactivate()}),1e3)})),t.attachEvent("onBeforeGanttReady",(function(){return t._cached_functions.update_if_changed(t),!0}))}(i),function(t){var e;t.assert=(e=t,function(t,i){t||e.config.show_errors&&!1!==e.callEvent("onError",[i])&&(e.message?e.message({type:"error",text:i,expire:-1}):console.log(i))});var i="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function n(e){if(!e||"string"==typeof e&&document.getElementById(e)||function(t){try{t.cloneNode(!1)}catch{return!1}return!0}(e))return!0;throw t.assert(!1,i),new Error(i)}t.init=function(e,i,r){t.env.isNode?e=null:n(e),i&&r&&(this.config.start_date=this._min_date=new Date(i),this.config.end_date=this._max_date=new Date(r)),this.date.init(),this.init=function(e){t.env.isNode?e=null:n(e),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(e)},this._reinit(e)},t._quickRefresh=function(t){for(var e=this._getDatastores.call(this),i=0;i<e.length;i++)e[i]._quick_refresh=!0;for(t(),i=0;i<e.length;i++)e[i]._quick_refresh=!1};var r=function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}.bind(t),a=function(){$t(t)||(this.$root.innerHTML="",this.$root.gantt=this,Ft(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",(function(){for(var e=t.$services.getService("datastores"),i=0;i<e.length;i++)t.getDatastore(e[i]).filter(),t.$data.tasksStore._skipTaskRecalculation?"lightbox"!=t.$data.tasksStore._skipTaskRecalculation&&(t.$data.tasksStore._skipTaskRecalculation=!1):t.getDatastore(e[i]).callEvent("onBeforeRefreshAll",[])})),this.$layout.attachEvent("onResize",(function(){t._quickRefresh((function(){t.refreshData()}))})),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,function(t){"static"==window.getComputedStyle(t.$root).getPropertyValue("position")&&(t.$root.style.position="relative");var e=document.createElement("iframe");e.className="gantt_container_resize_watcher",e.tabIndex=-1,t.config.wai_aria_attributes&&(e.setAttribute("role","none"),e.setAttribute("aria-hidden",!0)),t.env.isSalesforce&&(t.config.container_resize_method="timeout"),t.$root.appendChild(e),e.contentWindow?Me(t,e.contentWindow):(t.$root.removeChild(e),Me(t,window))}(this))}.bind(t);t.resetLayout=function(){r(),a(),this.render()},t._reinit=function(e){var i;this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),r(),this.$root=null,e&&(this.$root=h(e),a(),this.$mouseEvents.reset(this.$root),(i=t).$container&&!i.config.autosize&&i.$root.offsetHeight<50&&console.warn("The Gantt container has a small height, so you cannot see its content. If it is not intended, you need to set the 'height' style rule to the container:\nhttps://docs.dhtmlx.com/gantt/faq.html#theganttchartisntrenderedcorrectly")),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},t.$click={buttons:{edit:function(e){t.isReadonly(t.getTask(e))||t.showLightbox(e)},delete:function(e){var i=t.getTask(e);if(!t.isReadonly(i)){var n=t.locale.labels.confirm_deleting,r=t.locale.labels.confirm_deleting_title;t._delete_task_confirm({task:i,message:n,title:r,callback:function(){t.isTaskExists(e)&&(i.$new?(t.$data.tasksStore._skipTaskRecalculation="lightbox",t.silent((function(){t.deleteTask(e,!0)})),t.$data.tasksStore._skipTaskRecalculation=!1,t.refreshData()):(t.$data.tasksStore._skipTaskRecalculation=!0,t.deleteTask(e))),t.hideLightbox()}})}}}},t.render=function(){var e;if(this.callEvent("onBeforeGanttRender",[]),!$t(t)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var i=this.getScrollState(),n=i?i.x:0;this._getHorizontalScrollbar()&&(n=this._getHorizontalScrollbar().$config.codeScrollLeft||n||0),e=null,n&&(e=t.dateFromPos(n+this.config.task_scroll_offset))}if(Ft(this),$t(t))t.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var r=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=r,this.config.preserve_scroll&&i){if(n||i.y){var a=t.getScrollState();if(+e!=+t.dateFromPos(a.x)||a.y!=i.y){n=null;var s=null;e&&(n=Math.max(t.posFromDate(e)-t.config.task_scroll_offset,0)),i.y&&(s=i.y),t.scrollTo(n,s)}}this.$layout.getScrollbarsInfo().forEach((e=>{const n=t.$ui.getView(e.id),r=t.utils.dom.isChildOf(n.$view,t.$container);e.boundViews.forEach((n=>{const a=t.$ui.getView(n);e.y&&e.y!=i.y&&a&&!r&&a.scrollTo(void 0,0),e.x_pos&&e.x_pos!=i.x&&a&&r&&a.scrollTo(e.x_pos,void 0)}))}))}}this.callEvent("onGanttRender",[])},t.setSizes=t.render,t.getTaskRowNode=function(t){for(var e=this.$grid_data.childNodes,i=this.config.task_attribute,n=0;n<e.length;n++)if(e[n].getAttribute&&e[n].getAttribute(i)==t)return e[n];return null},t.changeLightboxType=function(e){if(this.getLightboxType()==e)return!0;t._silent_redraw_lightbox(e)},t._get_link_type=function(e,i){var n=null;return e&&i?n=t.config.links.start_to_start:!e&&i?n=t.config.links.finish_to_start:e||i?e&&!i&&(n=t.config.links.start_to_finish):n=t.config.links.finish_to_finish,n},t.isLinkAllowed=function(t,e,i,n){var r;if(!(r="object"==typeof t?t:{source:t,target:e,type:this._get_link_type(i,n)})||!(r.source&&r.target&&r.type)||r.source==r.target)return!1;var a=!0;return this.checkEvent("onLinkValidation")&&(a=this.callEvent("onLinkValidation",[r])),a},t._correct_dst_change=function(e,i,n,r){var a=L(r)*n;if(a>3600&&a<86400){var s=e.getTimezoneOffset()-i;s&&(e=t.date.add(e,s,"minute"))}return e},t.isSplitTask=function(e){return t.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(e)},t._is_icon_open_click=function(t){if(!t)return!1;var e=t.target||t.srcElement;if(!e||!e.className)return!1;var i=l(e);return-1!==i.indexOf("gantt_tree_icon")&&(-1!==i.indexOf("gantt_close")||-1!==i.indexOf("gantt_open"))}}(i),function(t){t.destructor=function(){for(var t in this.clearAll(),this.callEvent("onDestroy",[]),this._getDatastores().forEach((function(t){t.destructor()})),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this.ext.inlineEditors&&this.ext.inlineEditors.destructor&&this.ext.inlineEditors.destructor(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)0===t.indexOf("$")&&delete this[t];this.$destroyed=!0}}(i);var c=new Ke({en:Ne,ar:Ae,be:$e,ca:De,cn:Ie,cs:Le,da:Oe,de:Re,el:Fe,es:Be,fa:ze,fi:Ve,fr:He,he:je,hr:Ge,hu:We,id:qe,it:Ue,jp:Ye,kr:Xe,nb:Je,nl:Ze,no:Qe,pl:ti,pt:ei,ro:ii,ru:ni,si:ri,sk:ai,sv:si,tr:oi,ua:li});return i.i18n={addLocale:c.addLocale,setLocale:function(t){if("string"==typeof t){var e=c.getLocale(t);e||(e=c.getLocale("en")),i.locale=e}else if(t)if(i.locale)for(var n in t)t[n]&&"object"==typeof t[n]?(i.locale[n]||(i.locale[n]={}),i.mixin(i.locale[n],t[n],!0)):i.locale[n]=t[n];else i.locale=t;const r=i.locale.labels;r.gantt_save_btn=r.gantt_save_btn||r.icon_save,r.gantt_cancel_btn=r.gantt_cancel_btn||r.icon_cancel,r.gantt_delete_btn=r.gantt_delete_btn||r.icon_delete},getLocale:c.getLocale},i.i18n.setLocale("en"),i}function hi(t){var e="data-dhxbox",i=null;function n(t,e){var n=t.callback;_.hide(t.box),i=t.box=null,n&&n(e)}function r(t){if(i){var e=t.which||t.keyCode,r=!1;if(v.keyboard){if(13==e||32==e){var a=t.target||t.srcElement;l(a).indexOf("gantt_popup_button")>-1&&a.click?a.click():(n(i,!0),r=!0)}27==e&&(n(i,!1),r=!0)}return r?(t.preventDefault&&t.preventDefault(),!(t.cancelBubble=!0)):void 0}}var a=C(t.$root)||document;function o(t){o.cover||(o.cover=document.createElement("div"),o.cover.onkeydown=r,o.cover.className="dhx_modal_cover",document.body.appendChild(o.cover)),o.cover.style.display=t?"inline-block":"none"}function c(e,i,n){return"<div "+t._waiAria.messageButtonAttrString(e)+" class='gantt_popup_button gantt_"+i.toLowerCase().replace(/ /g,"_")+"_button' data-result='"+n+"' result='"+n+"' ><div>"+e+"</div></div>"}function d(){for(var t=[].slice.apply(arguments,[0]),e=0;e<t.length;e++)if(t[e])return t[e]}function h(a,s,l){var h=a.tagName?a:function(r,a,s){var o=document.createElement("div"),l=tt();t._waiAria.messageModalAttr(o,l),o.className=" gantt_modal_box gantt-"+r.type,o.setAttribute(e,1);var h="";if(r.width&&(o.style.width=r.width),r.height&&(o.style.height=r.height),r.title&&(h+='<div class="gantt_popup_title">'+r.title+"</div>"),h+='<div class="gantt_popup_text" id="'+l+'"><span>'+(r.content?"":r.text)+'</span></div><div  class="gantt_popup_controls">',a&&(h+=c(d(r.ok,t.locale.labels.message_ok,"OK"),"ok",!0)),s&&(h+=c(d(r.cancel,t.locale.labels.message_cancel,"Cancel"),"cancel",!1)),r.buttons)for(var u=0;u<r.buttons.length;u++){var f=r.buttons[u];h+="object"==typeof f?c(f.label,f.css||"gantt_"+f.label.toLowerCase()+"_button",f.value||u):c(f,f,u)}if(h+="</div>",o.innerHTML=h,r.content){var p=r.content;"string"==typeof p&&(p=document.getElementById(p)),"none"==p.style.display&&(p.style.display=""),o.childNodes[r.title?1:0].appendChild(p)}return o.onclick=function(t){var e=t.target||t.srcElement;if(e.className||(e=e.parentNode),w(e,".gantt_popup_button")){var i=e.getAttribute("data-result");n(r,i="true"==i||"false"!=i&&i)}},r.box=o,(a||s)&&(i=r),o}(a,s,l);a.hidden||o(!0),document.body.appendChild(h);var u=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-h.offsetWidth)/2)),f=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-h.offsetHeight)/2));return"top"==a.position?h.style.top="-3px":h.style.top=f+"px",h.style.left=u+"px",h.onkeydown=r,_.focus(h),a.hidden&&_.hide(h),t.callEvent("onMessagePopup",[h]),h}function u(t){return h(t,!0,!1)}function f(t){return h(t,!0,!0)}function p(t){return h(t)}function g(t,e,i){return"object"!=typeof t&&("function"==typeof e&&(i=e,e=""),t={text:t,type:e,callback:i}),t}function m(t,e,i,n){return"object"!=typeof t&&(t={text:t,type:e,expire:i,id:n}),t.id=t.id||tt(),t.expire=t.expire||v.expire,t}t.event(a,"keydown",r,!0);var _=function(){var t=g.apply(this,arguments);return t.type=t.type||"alert",p(t)};_.hide=function(i){for(;i&&i.getAttribute&&!i.getAttribute(e);)i=i.parentNode;i&&(i.parentNode.removeChild(i),o(!1),t.callEvent("onAfterMessagePopup",[i]))},_.focus=function(t){setTimeout((function(){var e=s(t);e.length&&e[0].focus&&e[0].focus()}),1)};var v=function(e,i,n,r){switch((e=m.apply(this,arguments)).type=e.type||"info",e.type.split("-")[0]){case"alert":return u(e);case"confirm":return f(e);case"modalbox":return p(e);default:return function(e){v.area||(v.area=document.createElement("div"),v.area.className="gantt_message_area",v.area.style[v.position]="5px"),x(v.area,document.body)||document.body.appendChild(v.area),v.hide(e.id);var i=document.createElement("div");return i.innerHTML="<div>"+e.text+"</div>",i.className="gantt-info gantt-"+e.type,i.onclick=function(){v.hide(e.id),e=null},t._waiAria.messageInfoAttr(i),"bottom"==v.position&&v.area.firstChild?v.area.insertBefore(i,v.area.firstChild):v.area.appendChild(i),e.expire>0&&(v.timers[e.id]=window.setTimeout((function(){v&&v.hide(e.id)}),e.expire)),v.pull[e.id]=i,i=null,e.id}(e)}};v.seed=(new Date).valueOf(),v.uid=tt,v.expire=4e3,v.keyboard=!0,v.position="top",v.pull={},v.timers={},v.hideAll=function(){for(var t in v.pull)v.hide(t)},v.hide=function(t){var e=v.pull[t];e&&e.parentNode&&(window.setTimeout((function(){e.parentNode.removeChild(e),e=null}),2e3),e.className+=" hidden",v.timers[t]&&window.clearTimeout(v.timers[t]),delete v.pull[t])};var y=[];return t.attachEvent("onMessagePopup",(function(t){y.push(t)})),t.attachEvent("onAfterMessagePopup",(function(t){for(var e=0;e<y.length;e++)y[e]===t&&(y.splice(e,1),e--)})),t.attachEvent("onDestroy",(function(){o.cover&&o.cover.parentNode&&o.cover.parentNode.removeChild(o.cover);for(var t=0;t<y.length;t++)y[t].parentNode&&y[t].parentNode.removeChild(y[t]);y=null,v.area&&v.area.parentNode&&v.area.parentNode.removeChild(v.area),v=null})),{alert:function(){var t=g.apply(this,arguments);return t.type=t.type||"confirm",u(t)},confirm:function(){var t=g.apply(this,arguments);return t.type=t.type||"alert",f(t)},message:v,modalbox:_}}function ui(t,e){var i=this.$config[t];return i?(i.$extendedConfig||(i.$extendedConfig=!0,Object.setPrototypeOf(i,e)),i):e}const fi=function(t){var e={},i={};function n(n,r,a,s){var o=e[n];if(!o||!o.create)return!1;"resizer"!=n||a.mode||(s.$config.cols?a.mode="x":a.mode="y"),"viewcell"!=n||"scrollbar"!=a.view||a.scroll||(s.$config.cols?a.scroll="y":a.scroll="x"),(a=J(a)).id||i[a.view]||(a.id=a.view),a.id&&!a.css&&(a.css=a.id+"_cell");var l=new o.create(r,a,this,t);return o.configure&&o.configure(l),function(t,e){var i,n,r;Z(t,(i=e,{$getConfig:function(){return n||(n=i?i.$getConfig():this.$gantt.config),this.$config.config?ui.call(this,"config",n):n},$getTemplates:function(){return r||(r=i?i.$getTemplates():this.$gantt.templates),this.$config.templates?ui.call(this,"templates",r):r}}))}(l,s),l.$id||(l.$id=a.id||t.uid()),l.$parent||"object"!=typeof r||(l.$parent=r),l.$config||(l.$config=a),i[l.$id]&&(l.$id=t.uid()),i[l.$id]=l,l}return{initUI:function(t,e){var i="cell";return t.view?i="viewcell":t.resizer?i="resizer":t.rows||t.cols?i="layout":t.views&&(i="multiview"),n.call(this,i,null,t,e)},reset:function(){i={}},registerView:function(t,i,n){e[t]={create:i,configure:n}},createView:n,getView:function(t){return i[t]}}};var pi,gi=(pi=M,function(t){var e={click:{},doubleclick:{},contextMenu:{}};function i(t,i,n,r){e[t][i]||(e[t][i]=[]),e[t][i].push({handler:n,root:r})}function n(i){i=i||window.event;var n=t.locate(i),r=a(i,e.click),o=!0;if(null!==n?o=!t.checkEvent("onTaskClick")||t.callEvent("onTaskClick",[n,i]):t.callEvent("onEmptyClick",[i]),o){if(!s(r,i,n))return;switch(i.target.nodeName){case"SELECT":case"INPUT":return}n&&t.getTask(n)&&!t._multiselect&&t.config.select_task&&t.selectTask(n)}}function r(e){var i=(e=e||window.event).target||e.srcElement,n=t.locate(i),r=t.locate(i,t.config.link_attribute),a=!t.checkEvent("onContextMenu")||t.callEvent("onContextMenu",[n,r,e]);return a||(e.preventDefault?e.preventDefault():e.returnValue=!1),a}function a(t,e){for(var i=t.target||t.srcElement,n=[];i;){var r=pi.getClassName(i);if(r){r=r.split(" ");for(var a=0;a<r.length;a++)if(r[a]&&e[r[a]])for(var s=e[r[a]],o=0;o<s.length;o++)s[o].root&&!pi.isChildOf(i,s[o].root)||n.push(s[o].handler)}i=i.parentNode}return n}function s(e,i,n){for(var r=!0,a=0;a<e.length;a++){var s=e[a].call(t,i,n,i.target||i.srcElement);r=r&&!(void 0!==s&&!0!==s)}return r}function o(i){i=i||window.event;var n=t.locate(i),r=a(i,e.doubleclick),o=!t.checkEvent("onTaskDblClick")||null===n||t.callEvent("onTaskDblClick",[n,i]);if(o){if(!s(r,i,n))return;null!==n&&t.getTask(n)&&o&&t.config.details_on_dblclick&&!t.isReadonly(n)&&t.showLightbox(n)}}function l(e){if(t.checkEvent("onMouseMove")){var i=t.locate(e);t._last_move_event=e,t.callEvent("onMouseMove",[i,e])}}var c=t._createDomEventScope();function d(t){c.detachAll(),t&&(c.attach(t,"click",n),c.attach(t,"dblclick",o),c.attach(t,"mousemove",l),c.attach(t,"contextmenu",r))}return{reset:d,global:function(t,e,n){i(t,e,n,null)},delegate:i,detach:function(t,i,n,r){if(e[t]&&e[t][i]){for(var a=e[t],s=a[i],o=0;o<s.length;o++)s[o].root==r&&(s.splice(o,1),o--);s.length||delete a[i]}},callHandler:function(t,i,n,r){var a=e[t][i];if(a)for(var s=0;s<a.length;s++)(n||a[s].root)&&a[s].root!==n||a[s].handler.apply(this,r)},onDoubleClick:o,onMouseMove:l,onContextMenu:r,onClick:n,destructor:function(){d(),e=null,c=null}}});const mi={init:gi};function _i(t,e,i){return!!e&&!(e.left>t.x_end||e.left+e.width<t.x)&&!(e.top>t.y_end||e.top+e.height<t.y)}function vi(t){return t.config.smart_rendering&&t._smart_render}function yi(t,e,i){return{top:e.getItemTop(t.id),height:e.getItemHeight(t.id),left:0,right:1/0}}function bi(t,e,i,n,r){var a=e.getItemIndexByTopPosition(r.y)||0,s=e.getItemIndexByTopPosition(r.y_end)||n.count(),o=Math.max(0,a-1),l=Math.min(n.count(),s+1);const c=[];if(t.config.keyboard_navigation&&t.getSelectedId()&&t.getTask(t.getSelectedId()).$expanded_branch&&c.push(t.getSelectedId()),t.$ui.getView("grid")&&t.ext.inlineEditors&&t.ext.inlineEditors.getState().id){let e=t.ext.inlineEditors.getState().id;n.exists(e)&&c.push(e)}return{start:o,end:l,ids:c}}function ki(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments,0)),function(e){for(var i=!0,n=0,r=t.length;n<r;n++){var a=t[n];a&&(i=i&&!1!==a(e.id,e))}return i}}function xi(t,e,i){if(!t.start_date||!t.end_date)return null;var n=e.posFromDate(t.start_date),r=e.posFromDate(t.end_date),a=Math.min(n,r)-200,s=Math.max(n,r)+200;return{top:e.getItemTop(t.id),height:e.getItemHeight(t.id),left:a,width:s-a}}function wi(){var t=[],e=!1;function i(){t=[],e=!1}var n=!1;return function(r,a,s,o,l){(function(t){n||(n=!0,t.attachEvent("onPreFilter",i),t.attachEvent("onStoreUpdated",i),t.attachEvent("onClearAll",i),t.attachEvent("onBeforeStoreUpdate",i))})(o),e||function(i,n,r){n.$getConfig(),i.getVisibleItems().forEach((function(e){var i=function(t,e,i,n){if(!n.isTaskExists(t.source)||!n.isTaskExists(t.target))return null;var r=xi(n.getTask(t.source),e),a=xi(n.getTask(t.target),e);if(!r||!a)return null;var s=100,o=Math.min(r.left,a.left)-s,l=Math.max(r.left+r.width,a.left+a.width)+s,c=Math.min(r.top,a.top)-s,d=Math.max(r.top+r.height,a.top+a.height)+s;return{top:c,height:d-c,bottom:d,left:o,width:l-o,right:l}}(e,n,0,r);i&&t.push({id:e.id,rec:i})})),t.sort((function(t,e){return t.rec.right<e.rec.right?-1:1})),e=!0}(o,a,r);for(var c=[],d=0;d<t.length;d++){var h=t[d],u=h.rec;u.right<l.x||u.left<l.x_end&&u.right>l.x&&u.top<l.y_end&&u.bottom>l.y&&c.push(h.id)}return{ids:c}}}function Si(t,e,i,n,r){var a=i.$gantt.getTask(t.source),s=i.$gantt.getTask(t.target),o=i.getItemTop(a.id),l=i.getItemHeight(a.id),c=i.getItemTop(s.id),d=i.getItemHeight(s.id);if(e.y>o+l&&e.y>c+d||e.y_end<c&&e.y_end<o)return!1;var h=i.posFromDate(a.start_date),u=i.posFromDate(a.end_date),f=i.posFromDate(s.start_date),p=i.posFromDate(s.end_date);if(h>u){var g=u;u=h,h=g}return f>p&&(g=p,p=f,f=g),h+=-100,u+=100,f+=-100,p+=100,!(e.x>u&&e.x>p||e.x_end<h&&e.x_end<f)}function Ti(t,e){if(t.view){var i=t.view;"string"==typeof i&&(i=e.$ui.getView(i)),i&&i.attachEvent&&i.attachEvent("onScroll",(function(){e.$services.getService("state").getState("batchUpdate").batch_update||i.$config.$skipSmartRenderOnScroll||t.requestUpdate&&t.requestUpdate()}))}}var Ei=function(){function t(t,e,i,n){t&&(this.$container=h(t),this.$parent=t),this.$config=Z(e,{headerHeight:33}),this.$gantt=n,this.$domEvents=n._createDomEventScope(),this.$id=e.id||"c"+tt(),this.$name="cell",this.$factory=i,this.$externalComponent=null,D(this)}return t.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},t.prototype.cell=function(t){return null},t.prototype.scrollTo=function(t,e){var i=this.$view;this.$config.html&&(i=this.$view.firstChild),1*t==t&&(i.scrollLeft=t),1*e==e&&(i.scrollTop=e)},t.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},t.prototype.resize=function(t){if(this.$parent)return this.$parent.resize(t);!1===t&&(this.$preResize=!0);var e=this.$container,i=e.offsetWidth,n=e.offsetHeight,r=this.getSize();e===document.body&&(i=document.body.offsetWidth,n=document.body.offsetHeight),i<r.minWidth&&(i=r.minWidth),i>r.maxWidth&&(i=r.maxWidth),n<r.minHeight&&(n=r.minHeight),n>r.maxHeight&&(n=r.maxHeight),this.setSize(i,n),this.$preResize,this.$preResize=!1},t.prototype.hide=function(){this._hide(!0),this.resize()},t.prototype.show=function(t){this._hide(!1),t&&this.$parent&&this.$parent.show(),this.resize()},t.prototype._hide=function(t){if(!0===t&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(!1===t&&!this.$view.parentNode){var e=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,e)}this.$config.hidden=t},t.prototype.$toHTML=function(t,e){void 0===t&&(t=""),e=[e||"",this.$config.css||""].join(" ");var i=this.$config,n="";if(i.raw)t="string"==typeof i.raw?i.raw:"";else{if(!t){let n=null;n="function"==typeof i.html?i.html():i.html,this.$gantt.config.external_render&&this.$gantt.config.external_render.isElement(n)&&(this.$externalComponent=n,n=null),t="<div class='gantt_layout_content' "+(e?" class='"+e+"' ":"")+" >"+(n||"")+"</div>"}i.header&&(n="<div class='gantt_layout_header'>"+(i.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+i.header+"</div></div>")}return"<div class='gantt_layout_cell "+e+"' data-cell-id='"+this.$id+"'>"+n+t+"</div>"},t.prototype.$fill=function(t,e){this.$view=t,this.$parent=e,this.init()},t.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},t.prototype.init=function(){var t=this;this._headerClickHandler=function(e){_(e,"data-cell-id")==t.$id&&t.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},t.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},t.prototype.getSize=function(){var t={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var e="x"===this.$config.mode;t[e?"width":"height"]=t[e?"maxWidth":"maxHeight"]=this.$config.headerHeight}return t},t.prototype.getContentSize=function(){var t=this.$lastSize.contentX;t!==1*t&&(t=this.$lastSize.width);var e=this.$lastSize.contentY;return e!==1*e&&(e=this.$lastSize.height),{width:t,height:e}},t.prototype._getBorderSizes=function(){var t={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(t.left=1,t.horizontal++),this._currentBorders[this._borders.right]&&(t.right=1,t.horizontal++),this._currentBorders[this._borders.top]&&(t.top=1,t.vertical++),this._currentBorders[this._borders.bottom]&&(t.bottom=1,t.vertical++)),t},t.prototype.setSize=function(t,e){this.$view.style.width=t+"px",this.$view.style.height=e+"px";var i=this._getBorderSizes(),n=e-i.vertical,r=t-i.horizontal;this.$lastSize={x:t,y:e,contentX:r,contentY:n},this.$config.header?this._sizeHeader():this._sizeContent()},t.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},t.prototype._setBorders=function(t,e){e||(e=this);var i=e.$view;for(var n in this._borders)d(i,this._borders[n]);"string"==typeof t&&(t=[t]);var r={};for(n=0;n<t.length;n++)c(i,t[n]),r[t[n]]=!0;e._currentBorders=r},t.prototype._sizeContent=function(){var t=this.$view.childNodes[0];t&&"gantt_layout_content"==t.className&&(t.style.height=this.$lastSize.contentY+"px")},t.prototype._sizeHeader=function(){var t=this.$lastSize;t.contentY-=this.$config.headerHeight;var e=this.$view.childNodes[0],i=this.$view.childNodes[1],n="x"===this.$config.mode;if(this.$config.collapsed)if(i.style.display="none",n){e.className="gantt_layout_header collapsed_x",e.style.width=t.y+"px";var r=Math.floor(t.y/2-t.x/2);e.style.transform="rotate(90deg) translate("+r+"px, "+r+"px)",i.style.display="none"}else e.className="gantt_layout_header collapsed_y";else e.className=n?"gantt_layout_header":"gantt_layout_header vertical",e.style.width="auto",e.style.transform="",i.style.display="",i.style.height=t.contentY+"px";e.style.height=this.$config.headerHeight+"px"},t}();function Ci(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Mi=function(t){function e(e,i,n){var r=t.apply(this,arguments)||this;return e&&(r.$root=!0),r._parseConfig(i),r.$name="layout",r}return Ci(e,t),e.prototype.destructor=function(){this.$container&&this.$view&&p(this.$view);for(var e=0;e<this.$cells.length;e++)this.$cells[e].destructor();this.$cells=[],t.prototype.destructor.call(this)},e.prototype._resizeScrollbars=function(t,e){var i=!1,n=[],r=[];const a=[];function s(t){t.$parent.show(),i=!0,n.push(t)}function o(t){t.$parent.hide(),i=!0,r.push(t)}for(var l,c=0;c<e.length;c++)t[(l=e[c]).$config.scroll]?o(l):l.shouldHide()?a.push(l):l.shouldShow()?s(l):l.isVisible()?n.push(l):r.push(l);var d={};for(c=0;c<n.length;c++)n[c].$config.group&&(d[n[c].$config.group]=!0);for(a.forEach((function(t){t.$config.group&&d[t.$config.group]||o(t)})),c=0;c<r.length;c++)if((l=r[c]).$config.group&&d[l.$config.group]){s(l);for(var h=0;h<n.length;h++)if(n[h]==l){this.$gantt.$scrollbarRepaint=!0;break}}return i},e.prototype.getScrollbarsInfo=function(){const t=this.getCellsByType("scroller"),e=[];return t.forEach((t=>{let i={};const{visible:n,direction:r,size:a,scrollSize:s,position:o}=t.getScrollState();let l=t._getLinkedViews().map((t=>t.$config.id));i.id=t.$id,i.visible=n,i.boundViews=l,"x"===r?(i.x=a,i.x_inner=s,i.x_pos=o||0):(i.y=a,i.y_inner=s,i.y_pos=o||0),e.push(i)})),e},e.prototype._syncCellSizes=function(t,e){if(t){var i={};return this._eachChild((function(t){t.$config.group&&"scrollbar"!=t.$name&&"resizer"!=t.$name&&(i[t.$config.group]||(i[t.$config.group]=[]),i[t.$config.group].push(t))})),i[t]&&this._syncGroupSize(i[t],e),i[t]}},e.prototype._syncGroupSize=function(t,e){if(t.length)for(var i=t[0].$parent._xLayout?"width":"height",n=t[0].$parent.getNextSibling(t[0].$id)?1:-1,r=e.value,a=e.isGravity,s=0;s<t.length;s++){var o=t[s].getSize(),l=n>0?t[s].$parent.getNextSibling(t[s].$id):t[s].$parent.getPrevSibling(t[s].$id);"resizer"==l.$name&&(l=n>0?l.$parent.getNextSibling(l.$id):l.$parent.getPrevSibling(l.$id));var c=l.getSize();if(a)t[s].$config.gravity=r;else if(l[i]){var d=o.gravity+c.gravity,h=o[i]+c[i],u=d/h;t[s].$config.gravity=u*r,l.$config[i]=h-r,l.$config.gravity=d-u*r}else t[s].$config[i]=r;var f=this.$gantt.$ui.getView("grid");!f||t[s].$content!==f||f.$config.scrollable||a||(this.$gantt.config.grid_width=r)}},e.prototype.resize=function(e){var i=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),i=!0,this._resizeInProgress=!0),t.prototype.resize.call(this,!0),t.prototype.resize.call(this,!1),i){var n=[];n=(n=(n=n.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var r=this.getCellsByType("scroller"),a=0;a<n.length;a++)n[a].$config.hidden||n[a].setContentSize();var s=this._getAutosizeMode(this.$config.autosize),o=this._resizeScrollbars(s,r);if(this.$config.autosize&&(this.autosize(this.$config.autosize),n.forEach((function(t){const e=t.$parent,i=e.getContentSize(s);s.x&&(e.$config.$originalWidthStored||(e.$config.$originalWidthStored=!0,e.$config.$originalWidth=e.$config.width),e.$config.width=i.width),s.y&&(e.$config.$originalHeightStored||(e.$config.$originalHeightStored=!0,e.$config.$originalHeight=e.$config.height),e.$config.height=i.height)})),o=!0),o)for(this.resize(),a=0;a<n.length;a++)n[a].$config.hidden||n[a].setContentSize();this.callEvent("onResize",[])}i&&(this._resizeInProgress=!1)},e.prototype._eachChild=function(t,e){if(t(e=e||this),e.$cells)for(var i=0;i<e.$cells.length;i++)this._eachChild(t,e.$cells[i])},e.prototype.isChild=function(t){var e=!1;return this._eachChild((function(i){i!==t&&i.$content!==t||(e=!0)})),e},e.prototype.getCellsByType=function(t){var i=[];if(t===this.$name&&i.push(this),this.$content&&this.$content.$name==t&&i.push(this.$content),this.$cells)for(var n=0;n<this.$cells.length;n++){var r=e.prototype.getCellsByType.call(this.$cells[n],t);r.length&&i.push.apply(i,r)}return i},e.prototype.getNextSibling=function(t){var e=this.cellIndex(t);return e>=0&&this.$cells[e+1]?this.$cells[e+1]:null},e.prototype.getPrevSibling=function(t){var e=this.cellIndex(t);return e>=0&&this.$cells[e-1]?this.$cells[e-1]:null},e.prototype.cell=function(t){for(var e=0;e<this.$cells.length;e++){var i=this.$cells[e];if(i.$id===t)return i;var n=i.cell(t);if(n)return n}},e.prototype.cellIndex=function(t){for(var e=0;e<this.$cells.length;e++)if(this.$cells[e].$id===t)return e;return-1},e.prototype.moveView=function(t,e){if(this.$cells[e]!==t)return window.alert("Not implemented");e+=this.$config.header?1:0;var i=this.$view;e>=i.childNodes.length?i.appendChild(t.$view):i.insertBefore(t.$view,i.childNodes[e])},e.prototype._parseConfig=function(t){this.$cells=[],this._xLayout=!t.rows;for(var e=t.rows||t.cols||t.views,i=0;i<e.length;i++){var n=e[i];n.mode=this._xLayout?"x":"y";var r=this.$factory.initUI(n,this);r?(r.$parent=this,this.$cells.push(r)):(e.splice(i,1),i--)}},e.prototype.getCells=function(){return this.$cells},e.prototype.render=function(){var t=f(this.$container,this.$toHTML());this.$fill(t,null);const e=this.$gantt;this._eachChild((t=>{t.$externalComponent&&(e.config.external_render.renderElement(t.$externalComponent,t.$view.querySelector(".gantt_layout_content")),t.$externalComponent=null)})),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},e.prototype.$fill=function(t,e){this.$view=t,this.$parent=e;for(var i=g(t,"gantt_layout_cell"),n=i.length-1;n>=0;n--){var r=this.$cells[n];r.$fill(i[n],this),r.$config.hidden&&r.$view.parentNode.removeChild(r.$view)}},e.prototype.$toHTML=function(){for(var e=this._xLayout?"x":"y",i=[],n=0;n<this.$cells.length;n++)i.push(this.$cells[n].$toHTML());return t.prototype.$toHTML.call(this,i.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+e)},e.prototype.getContentSize=function(t){for(var e,i,n,r=0,a=0,s=0;s<this.$cells.length;s++)(i=this.$cells[s]).$config.hidden||(e=i.getContentSize(t),"scrollbar"===i.$config.view&&t[i.$config.scroll]&&(e.height=0,e.width=0),i.$config.resizer&&(this._xLayout?e.height=0:e.width=0),n=i._getBorderSizes(),this._xLayout?(r+=e.width+n.horizontal,a=Math.max(a,e.height+n.vertical)):(r=Math.max(r,e.width+n.horizontal),a+=e.height+n.vertical));return{width:r+=(n=this._getBorderSizes()).horizontal,height:a+=n.vertical}},e.prototype._cleanElSize=function(t){return 1*(t||"").toString().replace("px","")||0},e.prototype._getBoxStyles=function(t){var e,i=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n={boxSizing:"border-box"==(e=window.getComputedStyle?window.getComputedStyle(t,null):{width:t.clientWidth,height:t.clientHeight}).boxSizing};e.MozBoxSizing&&(n.boxSizing="border-box"==e.MozBoxSizing);for(var r=0;r<i.length;r++)n[i[r]]=e[i[r]]?this._cleanElSize(e[i[r]]):0;var a={horPaddings:n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth,vertPaddings:n.paddingTop+n.paddingBottom+n.borderTopWidth+n.borderBottomWidth,borderBox:n.boxSizing,innerWidth:n.width,innerHeight:n.height,outerWidth:n.width,outerHeight:n.height};return a.borderBox?(a.innerWidth-=a.horPaddings,a.innerHeight-=a.vertPaddings):(a.outerWidth+=a.horPaddings,a.outerHeight+=a.vertPaddings),a},e.prototype._getAutosizeMode=function(t){var e={x:!1,y:!1};return"xy"===t?e.x=e.y=!0:"y"===t||!0===t?e.y=!0:"x"===t&&(e.x=!0),e},e.prototype.autosize=function(t){var e=this._getAutosizeMode(t),i=this._getBoxStyles(this.$container),n=this.getContentSize(t),r=this.$container;e.x&&(i.borderBox&&(n.width+=i.horPaddings),r.style.width=n.width+"px"),e.y&&(i.borderBox&&(n.height+=i.vertPaddings),r.style.height=n.height+"px")},e.prototype.getSize=function(){this._sizes=[];for(var e=0,i=0,n=1e11,r=0,a=1e11,s=0,o=0;o<this.$cells.length;o++){var l=this._sizes[o]=this.$cells[o].getSize();this.$cells[o].$config.hidden||(this._xLayout?(!l.width&&l.minWidth?e+=l.minWidth:e+=l.width,n+=l.maxWidth,i+=l.minWidth,r=Math.max(r,l.height),a=Math.min(a,l.maxHeight),s=Math.max(s,l.minHeight)):(!l.height&&l.minHeight?r+=l.minHeight:r+=l.height,a+=l.maxHeight,s+=l.minHeight,e=Math.max(e,l.width),n=Math.min(n,l.maxWidth),i=Math.max(i,l.minWidth)))}var c=t.prototype.getSize.call(this);return c.maxWidth>=1e5&&(c.maxWidth=n),c.maxHeight>=1e5&&(c.maxHeight=a),c.minWidth=c.minWidth!=c.minWidth?0:c.minWidth,c.minHeight=c.minHeight!=c.minHeight?0:c.minHeight,this._xLayout?(c.minWidth+=this.$config.margin*this.$cells.length||0,c.minWidth+=2*this.$config.padding||0,c.minHeight+=2*this.$config.padding||0):(c.minHeight+=this.$config.margin*this.$cells.length||0,c.minHeight+=2*this.$config.padding||0),c},e.prototype._calcFreeSpace=function(t,e,i){var n=i?e.minWidth:e.minHeight,r=e.maxWidth,a=t;return a?(a>r&&(a=r),a<n&&(a=n),this._free-=a):((a=Math.floor(this._free/this._gravity*e.gravity))>r&&(a=r,this._free-=a,this._gravity-=e.gravity),a<n&&(a=n,this._free-=a,this._gravity-=e.gravity)),a},e.prototype._calcSize=function(t,e,i){var n=t,r=i?e.minWidth:e.minHeight,a=i?e.maxWidth:e.maxHeight;return n||(n=Math.floor(this._free/this._gravity*e.gravity)),n>a&&(n=a),n<r&&(n=r),n},e.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var t=this._xLayout?this._borders.right:this._borders.bottom,e=this.$cells,i=e.length-1,n=i;n>=0;n--)if(!e[n].$config.hidden){i=n;break}for(n=0;n<e.length;n++)if(!e[n].$config.hidden){var r=n>=i,a="";!r&&e[n+1]&&"scrollbar"==e[n+1].$config.view&&(this._xLayout?r=!0:a="gantt_layout_cell_border_transparent"),this._setBorders(r?[]:[t,a],e[n])}},e.prototype._updateCellVisibility=function(){for(var t=this._visibleCells||{},e=!this._visibleCells,i={},n=null,r=[],a=0;a<this._sizes.length;a++)(n=this.$cells[a]).$config.hide_empty&&r.push(n),!e&&n.$config.hidden&&t[n.$id]?n._hide(!0):n.$config.hidden||t[n.$id]||n._hide(!1),n.$config.hidden||(i[n.$id]=!0);for(this._visibleCells=i,a=0;a<r.length;a++){var s=(n=r[a]).$cells,o=!0;s.forEach((function(t){t.$config.hidden||t.$config.resizer||(o=!1)})),n.$config.hidden=o}},e.prototype.setSize=function(e,i){this._configureBorders(),t.prototype.setSize.call(this,e,i),i=this.$lastSize.contentY,e=this.$lastSize.contentX;var n,r,a=this.$config.padding||0;this.$view.style.padding=a+"px",this._gravity=0,this._free=this._xLayout?e:i,this._free-=2*a,this._updateCellVisibility();for(var s=0;s<this._sizes.length;s++)if(!(n=this.$cells[s]).$config.hidden){var o=this.$config.margin||0;"resizer"!=n.$name||o||(o=-1);var l=n.$view,c=this._xLayout?"marginRight":"marginBottom";s!==this.$cells.length-1&&(l.style[c]=o+"px",this._free-=o),r=this._sizes[s],this._xLayout?r.width||(this._gravity+=r.gravity):r.height||(this._gravity+=r.gravity)}for(s=0;s<this._sizes.length;s++)if(!(n=this.$cells[s]).$config.hidden){var d=(r=this._sizes[s]).width,h=r.height;this._xLayout?this._calcFreeSpace(d,r,!0):this._calcFreeSpace(h,r,!1)}for(s=0;s<this.$cells.length;s++)if(!(n=this.$cells[s]).$config.hidden){r=this._sizes[s];var u=void 0,f=void 0;this._xLayout?(u=this._calcSize(r.width,r,!0),f=i-2*a):(u=e-2*a,f=this._calcSize(r.height,r,!1)),n.setSize(u,f)}},e}(Ei),Pi=function(t){function e(e,i,n){for(var r=t.apply(this,arguments)||this,a=0;a<r.$cells.length;a++)r.$cells[a].$config.hidden=0!==a;return r.$cell=r.$cells[0],r.$name="viewLayout",r}return Ci(e,t),e.prototype.cell=function(e){var i=t.prototype.cell.call(this,e);return i.$view||this.$fill(null,this),i},e.prototype.moveView=function(t){var e=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,e.removeChild(this.$cell.$view)),this.$cell=t,e.appendChild(t.$view)},e.prototype.setSize=function(t,e){Ei.prototype.setSize.call(this,t,e)},e.prototype.setContentSize=function(){var t=this.$lastSize;this.$cell.setSize(t.contentX,t.contentY)},e.prototype.getSize=function(){var e=t.prototype.getSize.call(this);if(this.$cell){var i=this.$cell.getSize();if(this.$config.byMaxSize)for(var n=0;n<this.$cells.length;n++){var r=this.$cells[n].getSize();for(var a in i)i[a]=Math.max(i[a],r[a])}for(var s in e)e[s]=e[s]||i[s];e.gravity=Math.max(e.gravity,i.gravity)}return e},e}(Mi),Ai=function(t){function e(e,i,n){var r=t.apply(this,arguments)||this;if(i.view){i.id&&(this.$id=tt());var a=J(i);if(delete a.config,delete a.templates,this.$content=this.$factory.createView(i.view,this,a,this),!this.$content)return!1}return r.$name="viewCell",r}return Ci(e,t),e.prototype.destructor=function(){this.clear(),t.prototype.destructor.call(this)},e.prototype.clear=function(){if(this.$initialized=!1,this.$content){var e=this.$content.unload||this.$content.destructor;e&&e.call(this.$content)}t.prototype.clear.call(this)},e.prototype.scrollTo=function(e,i){this.$content&&this.$content.scrollTo?this.$content.scrollTo(e,i):t.prototype.scrollTo.call(this,e,i)},e.prototype._setContentSize=function(t,e){var i=this._getBorderSizes();if("number"==typeof t){var n=t+i.horizontal;this.$config.width=n}if("number"==typeof e){var r=e+i.vertical;this.$config.height=r}},e.prototype.setSize=function(e,i){if(t.prototype.setSize.call(this,e,i),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var n=this.$view.childNodes[0],r=this.$view.childNodes[1];r||(r=n),this.$content.init(r)}},e.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},e.prototype.getContentSize=function(){var e=t.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var i=this.$content.getSize();e.width=void 0===i.contentX?i.width:i.contentX,e.height=void 0===i.contentY?i.height:i.contentY}var n=this._getBorderSizes();return e.width+=n.horizontal,e.height+=n.vertical,e},e}(Ei),$i=function(t){var e=["altKey","shiftKey","metaKey"];function i(e,i,n,r){var a=t.apply(this,arguments)||this;this.$config=Z(i,{scroll:"x"}),a._scrollHorizontalHandler=et(a._scrollHorizontalHandler,a),a._scrollVerticalHandler=et(a._scrollVerticalHandler,a),a._outerScrollVerticalHandler=et(a._outerScrollVerticalHandler,a),a._outerScrollHorizontalHandler=et(a._outerScrollHorizontalHandler,a),a._mouseWheelHandler=et(a._mouseWheelHandler,a),this.$config.hidden=!0;var s=r.config.scroll_size;return r.env.isIE&&(s+=1),this._isHorizontal()?(a.$config.height=s,a.$parent.$config.height=s):(a.$config.width=s,a.$parent.$config.width=s),this.$config.scrollPosition=0,a.$name="scroller",a}function n(t,e){if(e.push(t),t.$cells)for(var i=0;i<t.$cells.length;i++)n(t.$cells[i],e)}return Ci(i,t),i.prototype.init=function(t){t.innerHTML=this.$toHTML(),this.$view=t.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},i.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},i.prototype._getRootParent=function(){for(var t=this.$parent;t&&t.$parent;)t=t.$parent;if(t)return t},i.prototype._eachView=function(){var t=[];return n(this._getRootParent(),t),t},i.prototype._getLinkedViews=function(){for(var t=this._eachView(),e=[],i=0;i<t.length;i++)t[i].$config&&(this._isVertical()&&t[i].$config.scrollY==this.$id||this._isHorizontal()&&t[i].$config.scrollX==this.$id)&&e.push(t[i]);return e},i.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},i.prototype._initLinkedViews=function(){for(var t=this._getLinkedViews(),e=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",i=0;i<t.length;i++)c(t[i].$view||t[i].getNode(),e)},i.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},i.prototype._updateLinkedViews=function(){},i.prototype._initMouseWheel=function(){mt.isFF?this.$domEvents.attach(this._getRootParent().$view,"wheel",this._mouseWheelHandler,{passive:!1}):this.$domEvents.attach(this._getRootParent().$view,"mousewheel",this._mouseWheelHandler,{passive:!1})},i.prototype.scrollHorizontally=function(t){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=t,this.$config.codeScrollLeft=t,t=this.$scroll_hor.scrollLeft;for(var e=this._getLinkedViews(),i=0;i<e.length;i++)e[i].scrollTo&&e[i].scrollTo(t,void 0);var n=this.$config.scrollPosition;this.$config.scrollPosition=t,this.callEvent("onScroll",[n,t,this.$config.scroll]),this._scrolling=!1}},i.prototype.scrollVertically=function(t){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=t,t=this.$scroll_ver.scrollTop;for(var e=this._getLinkedViews(),i=0;i<e.length;i++)e[i].scrollTo&&e[i].scrollTo(void 0,t);var n=this.$config.scrollPosition;this.$config.scrollPosition=t,this.callEvent("onScroll",[n,t,this.$config.scroll]),this._scrolling=!1}},i.prototype._isVertical=function(){return"y"==this.$config.scroll},i.prototype._isHorizontal=function(){return"x"==this.$config.scroll},i.prototype._scrollHorizontalHandler=function(t){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;var e=this.$scroll_hor.scrollLeft;this.scrollHorizontally(e),this._oldLeft=this.$scroll_hor.scrollLeft}},i.prototype._outerScrollHorizontalHandler=function(t){this._isVertical()},i.prototype.show=function(){this.$parent.show()},i.prototype.hide=function(){this.$parent.hide()},i.prototype._getScrollSize=function(){for(var t,e=0,i=0,n=this._isHorizontal(),r=this._getLinkedViews(),a=n?"scrollWidth":"scrollHeight",s=n?"contentX":"contentY",o=n?"x":"y",l=this._getScrollOffset(),c=0;c<r.length;c++)if((t=r[c])&&t.$content&&t.$content.getSize&&!t.$config.hidden){var d,h=t.$content.getSize();if(d=h.hasOwnProperty(a)?h[a]:h[s],l)h[s]>h[o]&&h[s]>e&&d>h[o]-l+2&&(e=d+(n?0:2),i=h[o]);else{var u=Math.max(h[s]-d,0);(d+=u)>Math.max(h[o]-u,0)&&d>e&&(e=d,i=h[o])}}return{outerScroll:i,innerScroll:e}},i.prototype.scroll=function(t){this._isHorizontal()?this.scrollHorizontally(t):this.scrollVertically(t)},i.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},i.prototype.setSize=function(e,i){t.prototype.setSize.apply(this,arguments);var n=this._getScrollSize(),r=(this._isVertical()?i:e)-this._getScrollOffset()+(this._isHorizontal()?1:0);n.innerScroll&&r>n.outerScroll&&(n.innerScroll+=r-n.outerScroll),this.$config.scrollSize=n.innerScroll,this.$config.width=e,this.$config.height=i,this._setScrollSize(n.innerScroll)},i.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},i.prototype.shouldShow=function(){var t=this._getScrollSize();return!(!t.innerScroll&&this.$parent&&this.$parent.$view.parentNode||!t.innerScroll||this.$parent&&this.$parent.$view.parentNode)},i.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},i.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},i.prototype._getScaleOffset=function(t){var e=0;return!t||"timeline"!=t.$config.view&&"grid"!=t.$config.view||(e=t.$content.$getConfig().scale_height),e},i.prototype._getScrollOffset=function(){var t=0;if(this._isVertical()){var e=this.$parent.$parent;t=Math.max(this._getScaleOffset(e.getPrevSibling(this.$parent.$id)),this._getScaleOffset(e.getNextSibling(this.$parent.$id)))}else for(var i=this._getLinkedViews(),n=0;n<i.length;n++){var r=i[n].$parent.$cells,a=r[r.length-1];if(a&&"scrollbar"==a.$config.view&&!1===a.$config.hidden){t=a.$config.width;break}}return t||0},i.prototype._setScrollSize=function(t){var e=this._isHorizontal()?"width":"height",i=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,n=this._getScrollOffset(),r=i.firstChild;n?this._isVertical()?(this.$config.outerSize=this.$config.height-n+3,i.style.height=this.$config.outerSize+"px",i.style.top=n-1+"px",c(i,this.$parent._borders.top),c(i.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-n+1,i.style.width=this.$config.outerSize+"px"):(i.style.top="auto",d(i,this.$parent._borders.top),d(i.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),r.style[e]=t+"px"},i.prototype._scrollVerticalHandler=function(t){if(!this._scrollHorizontalHandler()&&!this._scrolling){var e=this.$scroll_ver.scrollTop;e!=this._oldTop&&(this.scrollVertically(e),this._oldTop=this.$scroll_ver.scrollTop)}},i.prototype._outerScrollVerticalHandler=function(t){this._scrollHorizontalHandler()},i.prototype._checkWheelTarget=function(t){for(var e=this._getLinkedViews().concat(this),i=0;i<e.length;i++)if(x(t,e[i].$view))return!0;return!1},i.prototype._mouseWheelHandler=function(t){var i=t.target||t.srcElement;if(this._checkWheelTarget(i)){this._wheel_time=new Date;var n={},r={x:1,y:1},a=this.$gantt.config.wheel_scroll_sensitivity;"number"==typeof a&&a?r={x:a,y:a}:"[object Object]"=={}.toString.apply(a)&&(r={x:a.x,y:a.y});var s=mt.isFF,o=s?t.deltaX:t.wheelDeltaX,l=s?t.deltaY:t.wheelDelta,c=-20;if(s){const e=parseInt(navigator.userAgent.split("Firefox/")[1]);c=e<=87?0!==t.deltaMode?-40:-10:e<=90?-3:e<=96?-1.5:-1}var d=s?o*c*r.x:2*o*r.x,h=s?l*c*r.y:l*r.y,u=this.$gantt.config.horizontal_scroll_key;if(!1!==u&&e.indexOf(u)>=0&&(!t[u]||t.deltaX||t.wheelDeltaX||(d=2*h,h=0)),d&&Math.abs(d)>Math.abs(h)){if(this._isVertical())return;if(n.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var f=d/-40,p=this._oldLeft,g=p+30*f;if(this.scrollHorizontally(g),this.$scroll_hor.scrollLeft=g,p==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(n.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;f=h/-40,void 0===h&&(f=t.detail);var m=this._oldTop,_=this.$scroll_ver.scrollTop+30*f;if(this.scrollVertically(_),this.$scroll_ver.scrollTop=_,m==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1}},i}(Ei);function Di(t){var e,i,n,r={},a={},s=null,o=-1,l=null,c=(e=t,i=-1,n=-1,{resetCache:function(){i=-1,n=-1},_getRowHeight:function(){return-1===i&&(i=e.$getConfig().row_height),i},_refreshState:function(){this.resetCache(),n=!0;var t=e.$config.rowStore;if(t)for(var i=this._getRowHeight(),r=0;r<t.fullOrder.length;r++){var a=t.getItem(t.fullOrder[r]);if(a&&a.row_height&&a.row_height!==i){n=!1;break}}},canUseSimpleCalculation:function(){return-1===n&&this._refreshState(),n},getRowTop:function(t){return e.$config.rowStore?t*this._getRowHeight():0},getItemHeight:function(t){return this._getRowHeight()},getTotalHeight:function(){return e.$config.rowStore?e.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(t){return e.$config.rowStore?Math.floor(t/this._getRowHeight()):0}});return{_resetTopPositionHeight:function(){r={},a={},c.resetCache()},_resetHeight:function(){var t=this.$config.rowStore,e=this.getCacheStateTotalHeight(t);l?this.shouldClearHeightCache(l,e)&&(l=e,s=null):l=e,o=-1,c.resetCache()},getRowTop:function(t){if(c.canUseSimpleCalculation())return c.getRowTop(t);var e=this.$config.rowStore;if(!e)return 0;if(void 0!==a[t])return a[t];for(var i=e.getIndexRange(),n=0,r=0,s=0;s<i.length;s++)a[s]=n,n+=this.getItemHeight(i[s].id),s<t&&(r=n);return r},getItemTop:function(t){if(this.$config.rowStore){if(void 0!==r[t])return r[t];var e=this.$config.rowStore;if(!e)return 0;var i=e.getIndexById(t);if(-1===i&&e.getParent&&e.exists(t)){var n=e.getParent(t);if(e.exists(n)){var a=e.getItem(n);if(this.$gantt.isSplitTask(a))return this.getItemTop(n)}}return r[t]=this.getRowTop(i),r[t]}return 0},getItemHeight:function(t){if(c.canUseSimpleCalculation())return c.getItemHeight(t);if(!s&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),void 0!==s[t])return s[t];var e=this.$getConfig().row_height;if(this.$config.rowStore){var i=this.$config.rowStore;if(!i)return e;var n=i.getItem(t);return s[t]=n&&n.row_height||e}return e},_fillHeightCache:function(t){if(t){s={};var e=this.$getConfig().row_height;t.eachItem((function(t){return s[t.id]=t&&t.row_height||e}))}},getCacheStateTotalHeight:function(t){var e=this.$getConfig().row_height,i={},n=[],r=0;return t&&t.eachItem((function(t){n.push(t),i[t.id]=t.row_height,r+=t.row_height||e})),{globalHeight:e,items:n,count:n.length,sumHeight:r}},shouldClearHeightCache:function(t,e){if(t.count!=e.count||t.globalHeight!=e.globalHeight||t.sumHeight!=e.sumHeight)return!0;for(var i in t.items){var n=e.items[i];if(void 0!==n&&n!=t.items[i])return!0}return!1},getTotalHeight:function(){if(c.canUseSimpleCalculation())return c.getTotalHeight();if(-1!=o)return o;if(this.$config.rowStore){var t=this.$config.rowStore;this._fillHeightCache(t);var e=this.getItemHeight.bind(this),i=t.getVisibleItems(),n=0;return i.forEach((function(t){n+=e(t.id)})),o=n,n}return 0},getItemIndexByTopPosition:function(t){if(this.$config.rowStore){if(c.canUseSimpleCalculation())return c.getItemIndexByTopPosition(t);for(var e=this.$config.rowStore,i=0;i<e.countVisible();i++){var n=this.getRowTop(i),r=this.getRowTop(i+1);if(!r){var a=e.getIdByIndex(i);r=n+this.getItemHeight(a)}if(t>=n&&t<r)return i}return e.countVisible()+2}return 0}}}var Ii=function(t,e,i,n){this.$config=Z({},e||{}),this.$scaleHelper=new Ot(n),this.$gantt=n,this._posFromDateCache={},this._timelineDragScroll=null,Z(this,Di(this)),D(this)};Ii.prototype={init:function(t){t.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=t.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_task_baselines'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div><div class='gantt_task_constraints'></div><div class='gantt_task_deadlines'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_baselines=this.$task_data.childNodes[1],this.$task_links=this.$task_data.childNodes[2],this.$task_bars=this.$task_data.childNodes[3],this.$task_constraints=this.$task_data.childNodes[4],this.$task_deadlines=this.$task_data.childNodes[5],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var e=this.$getConfig(),i=e[this.$config.bind+"_attribute"],n=e[this.$config.bindLinks+"_attribute"];!i&&this.$config.bind&&(i="data-"+this.$config.bind+"-id"),!n&&this.$config.bindLinks&&(n="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=i||null,this.$config.link_attribute=n||null;var r=this._createLayerConfig();this.$config.layers||(this.$config.layers=r.tasks),this.$config.linkLayers||(this.$config.linkLayers=r.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(t,e){var i=this.$getConfig();if(1*t===t&&(this.$config.width=t),1*e===e){this.$config.height=e;var n=Math.max(this.$config.height-i.scale_height);this.$task_data.style.height=n+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",i.smart_rendering&&this.$config.rowStore?this.$task_bg.style.height=this.getTotalHeight()+"px":this.$task_bg.style.height="";for(var r=this._tasks,a=this.$task_data.childNodes,s=0,o=a.length;s<o;s++){var l=a[s];l.hasAttribute("data-layer")&&l.style&&(l.style.width=r.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var t=this.$getConfig(),e=this.$config.rowStore?this.getTotalHeight():0,i=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?i:0,contentY:this.isVisible()?t.scale_height+e:0,scrollHeight:this.isVisible()?e:0,scrollWidth:this.isVisible()?i:0}},scrollTo:function(t,e){if(this.isVisible()){var i=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*e===e&&(this.$config.scrollTop=e,this.$task_data.scrollTop=this.$config.scrollTop,i=!0),1*t===t&&(this.$task.scrollLeft=t,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),i=!0),i&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var t=this.getViewPort(),e=this._scales;this.$task_scale.innerHTML=this._getScaleChunkHtml(e,t.x,t.x_end)}},getViewPort:function(){var t=this.$config.scrollLeft||0,e=this.$config.scrollTop||0,i=this.$config.height||0,n=this.$config.width||0;return{y:e,y_end:e+i,x:t,x_end:t+n,height:i,width:n}},_createLayerConfig:function(){var t=this,e=function(){return t.isVisible()};this.$gantt;var i=[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[e,function(t,e){return!e.hide_bar}]}];return i.push({renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[e]}),{tasks:i,links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[e]}]}},_attachLayers:function(t){this._taskLayers=[],this._linkLayers=[];var e=this,i=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var n=i.getDataRender(this.$config.bind);n||(n=i.createDataRender({name:this.$config.bind,defaultContainer:function(){return e.$task_data}})),n.container=function(){return e.$task_data};for(var r=this.$config.layers,a=0;r&&a<r.length;a++){"string"==typeof(c=r[a])&&(c=this.$gantt.$ui.layers[c]()),("function"==typeof c||c&&c.render&&c.update)&&(c={renderer:c}),c.view=this;var s=n.addLayer(c);this._taskLayers.push(s),c.expose&&(this._taskRenderer=n.getLayer(s))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){e.$config.linkStore=e.$gantt.getDatastore(e.$config.bindLinks);var o=i.getDataRender(this.$config.bindLinks);o||(o=i.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return e.$task_data}}));var l=this.$config.linkLayers;for(a=0;l&&a<l.length;a++){var c;"string"==typeof c&&(c=this.$gantt.$ui.layers[c]()),(c=l[a]).view=this;var d=o.addLayer(c);this._taskLayers.push(d),l[a].expose&&(this._linkRenderer=o.getLayer(d))}}},_initStaticBackgroundRender:function(){var t=this,e={render:function(){},destroy:function(){}},i=t.$config.rowStore;i&&(this._staticBgHandler=i.attachEvent("onStoreUpdated",(function(i,n,r){if(null===i&&t.isVisible()){var a=t.$getConfig();if(a.static_background||a.timeline_placeholder){var s=t.$gantt.getDatastore(t.$config.bind),o=t.$task_bg_static;if(o||((o=document.createElement("div")).className="gantt_task_bg",t.$task_bg_static=o,t.$task_bg.nextSibling?t.$task_data.insertBefore(o,t.$task_bg.nextSibling):t.$task_data.appendChild(o)),s){var l=t.getTotalHeight();a.timeline_placeholder&&(l=a.timeline_placeholder.height||t.$task_data.offsetHeight||99999),e.render(o,a,t.getScale(),l,t.getItemHeight(n?n.id:null))}}else a.static_background&&t.$task_bg_static&&t.$task_bg_static.parentNode&&t.$task_bg_static.parentNode.removeChild(t.$task_bg_static)}})),this.attachEvent("onDestroy",(function(){})),this._initStaticBackgroundRender=function(){})},_clearLayers:function(t){var e=this.$gantt.$services.getService("layers"),i=e.getDataRender(this.$config.bind),n=e.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var r=0;r<this._taskLayers.length;r++)i.removeLayer(this._taskLayers[r]);if(this._linkLayers)for(r=0;r<this._linkLayers.length;r++)n.removeLayer(this._linkLayers[r]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var t=this.$getConfig(),e="",i=0,n=0,r=this.$gantt.getState();if(this.isVisible()){var a=this.$scaleHelper,s=this._getScales();n=t.scale_height;var o=this.$config.width;"x"!=t.autosize&&"xy"!=t.autosize||(o=Math.max(t.autosize_min_width,0));var l=a.prepareConfigs(s,t.min_column_width,o,n-1,r.min_date,r.max_date,t.rtl),c=this._tasks=l[l.length-1];this._scales=l,this._posFromDateCache={},e=this._getScaleChunkHtml(l,0,this.$config.width),i=c.full_width+"px",n+="px"}this.$task_scale.style.height=n,this.$task_data.style.width=this.$task_scale.style.width=i,this.$task_scale.innerHTML=e},_getScaleChunkHtml:function(t,e,i){for(var n=[],r=this.$gantt.templates.scale_row_class,a=0;a<t.length;a++){var s="gantt_scale_line",o=r(t[a]);o&&(s+=" "+o),n.push('<div class="'+s+'" style="height:'+t[a].height+"px;position:relative;line-height:"+t[a].height+'px">'+this._prepareScaleHtml(t[a],e,i,a)+"</div>")}return n.join("")},_prepareScaleHtml:function(t,e,i,n){var r=this.$getConfig(),a=this.$gantt.templates,s=[],o=null,l=null,c=t.format||t.template||t.date;"string"==typeof c&&(c=this.$gantt.date.date_to_str(c));var d=0,h=t.count;!r.smart_scales||isNaN(e)||isNaN(i)||(d=G(t.left,e),h=G(t.left,i)+1),l=t.css||function(){},!t.css&&r.inherit_scale_class&&(l=a.scale_cell_class);for(var u=d;u<h&&t.trace_x[u];u++){o=new Date(t.trace_x[u]);var f=c.call(this,o),p=t.width[u];t.height;var g=t.left[u],m="",_="",v="";if(p){m="width:"+p+"px;"+(r.smart_scales?"position:absolute;left:"+g+"px":"");const e=this.getViewPort(),i=(r.scales[n]||{}).sticky;let a="";const c=70;if(!1!==i&&p>c||!0===i)if(g<e.x&&g+p/2-c/2<e.x)a=` style='position:absolute;left: ${e.x-g+10}px;' `;else if(g+p/2+c/2>e.x_end&&p>c){let t=e.x_end-g-10,i="-100%";t<c&&(t=c,i=`-${t}px`),a=` style='position:absolute;left: ${t}px;transform: translate(${i},0);' `}v="gantt_scale_cell"+(u==t.count-1?" gantt_last_cell":""),(_=l.call(this,o))&&(v+=" "+_);var y=`<div class='${v}' ${this.$gantt._waiAria.getTimelineCellAttr(f)} style='${m}'><span ${a}>${f}</span></div>`;s.push(y)}}return s.join("")},dateFromPos:function(t){var e=this._tasks;if(t<0||t>e.full_width||!e.full_width)return null;var i=G(this._tasks.left,t),n=this._tasks.left[i],r=e.width[i]||e.col_width,a=0;r&&(a=(t-n)/r,e.rtl&&(a=1-a));var s=0;return a&&(s=this._getColumnDuration(e,e.trace_x[i])),new Date(e.trace_x[i].valueOf()+Math.round(a*s))},posFromDate:function(t){if(!this.isVisible()||!t)return 0;var e=String(t.valueOf());if(void 0!==this._posFromDateCache[e])return this._posFromDateCache[e];var i=this.columnIndexByDate(t);this.$gantt.assert(i>=0,"Invalid day index");var n=Math.floor(i),r=i%1,a=this._tasks.left[Math.min(n,this._tasks.width.length-1)];n==this._tasks.width.length&&(a+=this._tasks.width[this._tasks.width.length-1]),r&&(n<this._tasks.width.length?a+=this._tasks.width[n]*(r%1):a+=1);var s=Math.round(a);return this._posFromDateCache[e]=s,Math.round(s)},_getNextVisibleColumn:function(t,e,i){for(var n=+e[t],r=t;i[n];)n=+e[++r];return r},_getPrevVisibleColumn:function(t,e,i){for(var n=+e[t],r=t;i[n];)n=+e[--r];return r},_getClosestVisibleColumn:function(t,e,i){var n=this._getNextVisibleColumn(t,e,i);return e[n]||(n=this._getPrevVisibleColumn(t,e,i)),n},columnIndexByDate:function(t){var e=new Date(t).valueOf(),i=this._tasks.trace_x_ascending,n=this._tasks.ignore_x,r=this.$gantt.getState();if(e<=r.min_date)return this._tasks.rtl?i.length:0;if(e>=r.max_date)return this._tasks.rtl?0:i.length;var a=G(i,e),s=this._getClosestVisibleColumn(a,i,n),o=i[s],l=this._tasks.trace_index_transition;if(!o)return l?l[0]:0;var c=(t-i[s])/this._getColumnDuration(this._tasks,i[s]);return l?l[s]+(1-c):s+c},getItemPosition:function(t,e,i){var n,r,a;let s=e||t.start_date||t.$auto_start_date,o=i||t.end_date||t.$auto_end_date;return this._tasks.rtl?(r=this.posFromDate(s),n=this.posFromDate(o)):(n=this.posFromDate(s),r=this.posFromDate(o)),a=Math.max(r-n,0),{left:n,top:this.getItemTop(t.id),height:this.getBarHeight(t.id),width:a,rowHeight:this.getItemHeight(t.id)}},getBarHeight:function(t,e){var i=this.$getConfig(),n=this.$config.rowStore.getItem(t),r=n.task_height||n.bar_height||i.bar_height||i.task_height,a=this.getItemHeight(t);return"full"==r&&(r=a-(i.bar_height_padding||3)),r=Math.min(r,a),e&&(r=Math.round(r/Math.sqrt(2))),Math.max(r,0)},getScale:function(){return this._tasks},_getScales:function(){var t=this.$getConfig(),e=this.$scaleHelper,i=[e.primaryScale(t)].concat(e.getSubScales(t));return e.sortScales(i),i},_getColumnDuration:function(t,e){return this.$gantt.date.add(e,t.step,t.unit)-e},_bindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=t,t&&!t._timelineCacheAttached){var e=this;t._timelineCacheAttached=t.attachEvent("onBeforeFilter",(function(){e._resetTopPositionHeight()}))}}},_unbindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);t&&t._timelineCacheAttached&&(t.detachEvent(t._timelineCacheAttached),t._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){var t=this.$gantt;this._clearLayers(t),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}};class Li{constructor(t){this._scrollOrder=0;const{gantt:e,grid:i,dnd:n,getCurrentX:r}=t;this.$gantt=e,this.$grid=i,this._dnd=n,this.getCurrentX=r,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}attachEvents(){this.isScrollable()&&(this._dnd.attachEvent("onDragMove",((t,e)=>{const i=this.$grid.$grid.getBoundingClientRect(),n=i.right,r=i.left,a=this.getCurrentX(e.clientX);return a>=n-20&&(this.autoscrollRight(),this.autoscrollStart()),a<=r+20&&(this.autoscrollLeft(),this.autoscrollStart()),a<n-20&&a>r+20&&this.autoscrollStop(),!0})),this._dnd.attachEvent("onDragEnd",(()=>{this.autoscrollStop()})))}autoscrollStart(){if(0===this._scrollOrder)return;const t=10*this._scrollOrder,e=this._scrollView.getScrollState();this._scrollView.scrollTo(e.position+t),setTimeout((()=>{this.autoscrollStart()}),50)}autoscrollRight(){this._scrollOrder=1}autoscrollLeft(){this._scrollOrder=-1}autoscrollStop(){this._scrollOrder=0}getCorrection(){return this.isScrollable()?this._scrollView.getScrollState().position:0}isScrollable(){return!!this.$grid.$config.scrollable}}const Oi="data-column-id";class Ri{constructor(t,e){this._targetMarker=null,this.calculateCurrentPosition=t=>{const e=this.$grid.$grid.getBoundingClientRect(),i=e.right,n=e.left;let r=t;return r>i&&(r=i),r<n&&(r=n),r},this.$gantt=t,this.$grid=e}init(){const t=this.$gantt.$services.getService("dnd");this._dnd=new t(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new Li({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()}attachEvents(){this._dnd.attachEvent("onBeforeDragStart",((t,e)=>{if(this._draggedCell=this.$gantt.utils.dom.closest(e.target,".gantt_grid_head_cell"),!this._draggedCell)return;const i=this.$grid.$getConfig().columns,n=this._draggedCell.getAttribute(Oi);let r,a;return i.map((function(t,e){t.name===n&&(r=t,a=e)})),!1!==this.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:r,draggedIndex:a}])&&!(!this._draggedCell||!r)&&(this._gridConfig=this.$grid.$getConfig(),this._originAutoscroll=this.$gantt.config.autoscroll,this.$gantt.config.autoscroll=!1,!0)})),this._dnd.attachEvent("onAfterDragStart",((t,e)=>{this._draggedCell&&(this._dnd.config.column=this._draggedCell.getAttribute(Oi),this._dnd.config.marker.innerHTML=this._draggedCell.outerHTML,this._dnd.config.marker.classList.add("gantt_column_drag_marker"),this._dnd.config.marker.style.height=this._gridConfig.scale_height+"px",this._dnd.config.marker.style.lineHeight=this._gridConfig.scale_height+"px",this._draggedCell.classList.add("gantt_grid_head_cell_dragged"))})),this._dnd.attachEvent("onDragMove",((t,e)=>{if(!this._draggedCell)return;this._dragX=e.clientX;const i=this.calculateCurrentPosition(e.clientX),n=this.findColumnsIndexes();return this.setMarkerPosition(i),this.drawTargetMarker(n),!0})),this._dnd.attachEvent("onDragEnd",(()=>{if(!this._draggedCell)return;const t=this.findColumnsIndexes(),e=t.targetIndex,i=t.draggedIndex,n=this.$grid.$getConfig().columns,r=n[i],a=n[e];if(!1===this.$grid.callEvent("onColumnDragMove",[{draggedColumn:r,targetColumn:a,draggedIndex:i,targetIndex:e}]))return this.cleanTargetMarker(),void this.$gantt.render();this.$gantt.config.autoscroll=this._originAutoscroll,this._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),this.cleanTargetMarker(),this.reorderColumns()}))}reorderColumns(){const{targetIndex:t,draggedIndex:e}=this.findColumnsIndexes(),i=this.$grid.$getConfig().columns,n=i[e],r=i[t];!1!==this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:n,targetColumn:r,draggedIndex:e,targetIndex:t}])&&t!==e&&(i.splice(e,1),i.splice(t,0,n),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:n,targetColumn:r,draggedIndex:e,targetIndex:t}]))}findColumnsIndexes(){const t=this._dnd.config.column,e=this.$grid.$getConfig().columns;let i,n,r,a;const s={startX:0,endX:0};let o,l=0,c=e.length-1,d=(t,e)=>t<=e,h=t=>++t;this.$gantt.config.rtl&&(l=e.length-1,c=0,d=(t,e)=>t>=e,h=t=>--t);const u=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection();for(let f=l;d(f,c)&&(void 0===i||void 0===n);f=h(f))e[f].hide||(s.startX=s.endX,s.endX+=e[f].width,u>=s.startX&&(u<=s.endX||!d(h(f),c))&&(i=f,r=s.startX,a=s.endX,o=(u-s.startX)/(s.endX-s.startX)),t===e[f].name&&(n=f));return{targetIndex:i,draggedIndex:n,xBefore:r,xAfter:a,columnRelativePos:o}}setMarkerPosition(t,e=10){const{marker:i}=this._dnd.config,n=this._dnd._obj.getBoundingClientRect();i.style.top=`${n.y+e}px`,i.style.left=`${t}px`}drawTargetMarker({targetIndex:t,draggedIndex:e,xBefore:i,xAfter:n,columnRelativePos:r}){let a;this._targetMarker||(this._targetMarker=document.createElement("div"),c(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=`${this._gridConfig.scale_height}px`),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),a=t>e?n:t<e?i:r>.5?n:i,this._targetMarker.style.left=`${a}px`,this._targetMarker.style.display="block"}cleanTargetMarker(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null}}function Fi(t){var e=[];return{delegate:function(i,n,r,a){e.push([i,n,r,a]),t.$services.getService("mouseEvents").delegate(i,n,r,a)},destructor:function(){for(var i=t.$services.getService("mouseEvents"),n=0;n<e.length;n++){var r=e[n];i.detach(r[0],r[1],r[2],r[3])}e=[]}}}var Ni=function(t,e,i,n){this.$config=Z({},e||{}),this.$gantt=n,this.$parent=t,D(this),this.$state={},Z(this,Di(this))};Ni.prototype={init:function(t){var i=this.$gantt,n=i._waiAria.gridAttrString(),r=i._waiAria.gridDataAttrString(),a=this.$getConfig(),s=a.reorder_grid_columns||!1;void 0!==this.$config.reorder_grid_columns&&(s=this.$config.reorder_grid_columns),t.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+n+"></div>",this.$grid=t.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+i._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+r+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var o=a[this.$config.bind+"_attribute"];if(!o&&this.$config.bind&&(o="data-"+this.$config.bind+"-id"),this.$config.item_attribute=o||null,!this.$config.layers){var l=this._createLayerConfig();this.$config.layers=l}this._renderHeaderResizers=function(){},this._mouseDelegates=Fi(i);var c,d,h,u=(d=this,h={row_before_start:(c=i).bind((function(t,e,i){var n=d.$getConfig(),r=d.$config.rowStore;if(!_(i,n.task_grid_row_resizer_attribute))return!1;var a=this.locate(i,n.task_grid_row_resizer_attribute),s=r.getItem(a);return!1!==d.callEvent("onBeforeRowResize",[s])&&void 0}),c),row_after_start:c.bind((function(t,e,i){var n=d.$getConfig(),r=this.locate(i,n.task_grid_row_resizer_attribute);t.config.marker.innerHTML="",t.config.marker.className+=" gantt_row_grid_resize_area",t.config.marker.style.width=d.$grid.offsetWidth+"px",t.config.drag_id=r}),c),row_drag_move:c.bind((function(t,i,n){var r=d.$config.rowStore,a=d.$getConfig(),s=t.config,o=s.drag_id,l=d.getItemHeight(o),c=d.getItemTop(o)-i.scrollTop,h=e(d.$grid_data),u=parseInt(s.marker.style.top,10),f=c+h.y,p=0,g=a.min_task_grid_row_height;return(p=u-f)<g&&(p=g),s.marker.style.left=h.x+"px",s.marker.style.top=f-1+"px",s.marker.style.height=Math.abs(p)+1+"px",s.marker_height=p,d.callEvent("onRowResize",[o,r.getItem(o),p+l]),!0}),c),row_drag_end:c.bind((function(t,e,i){var n=d.$config.rowStore,r=t.config,a=r.drag_id,s=n.getItem(a),o=d.getItemHeight(a),l=r.marker_height;!1!==d.callEvent("onBeforeRowResizeEnd",[a,s,l])&&s.row_height!=l&&(s.row_height=l,n.updateItem(a),d.callEvent("onAfterRowResize",[a,s,o,l]),this.render())}),c)},{init:function(){var t=c.$services.getService("dnd"),e=d.$getConfig(),i=new t(d.$grid_data,{updates_per_second:60});c.defined(e.dnd_sensitivity)&&(i.config.sensitivity=e.dnd_sensitivity),i.attachEvent("onBeforeDragStart",(function(t,e){return h.row_before_start(i,t,e)})),i.attachEvent("onAfterDragStart",(function(t,e){return h.row_after_start(i,t,e)})),i.attachEvent("onDragMove",(function(t,e){return h.row_drag_move(i,t,e)})),i.attachEvent("onDragEnd",(function(t,e){return h.row_drag_end(i,t,e)}))}});u.init(),this._addLayers(this.$gantt),this._initEvents(),s&&(this._columnDND=new Ri(i,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(t,e){var i=t[e];if(i&&"*"!=i){var n=this.$gantt,r=1*i;isNaN(r)?n.assert(!1,"Wrong "+e+" value of column "+t.name):t[e]=r}},setSize:function(t,e){this.$config.width=this.$state.width=t,this.$config.height=this.$state.height=e;for(var i,n=this.getGridColumns(),r=0,a=(c=this.$getConfig()).grid_elastic_columns,s=0,o=n.length;s<o;s++)this._validateColumnWidth(n[s],"min_width"),this._validateColumnWidth(n[s],"max_width"),this._validateColumnWidth(n[s],"width"),r+=1*n[s].width;if(!isNaN(r)&&this.$config.scrollable||(r=i=this._setColumnsWidth(t+1)),this.$config.scrollable&&a&&!isNaN(r)){let e="width";"min_width"==a&&(e="min_width");let s=0;n.forEach((function(t){s+=t[e]||c.min_grid_column_width}));var l=Math.max(s,t);r=this._setColumnsWidth(l),i=t}this.$config.scrollable?(this.$grid_scale.style.width=r+"px",this.$grid_data.style.width=r+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var c=this.$getConfig();i!==t&&(void 0!==i?(c.grid_width=i,this.$config.width=i-1):isNaN(r)||(this._setColumnsWidth(r),c.grid_width=r,this.$config.width=r-1));var d=Math.max(this.$state.height-c.scale_height,0);this.$grid_data.style.height=d+"px",this.refresh()},getSize:function(){var t=this.$getConfig(),e=this.$config.rowStore?this.getTotalHeight():0,i=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?i:0,contentY:this.isVisible()?t.scale_height+e:0,scrollHeight:this.isVisible()?e:0,scrollWidth:this.isVisible()?i:0}},_bindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=t,t&&!t._gridCacheAttached){var e=this;t._gridCacheAttached=t.attachEvent("onBeforeFilter",(function(){e._resetTopPositionHeight()}))}}},_unbindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);t&&t._gridCacheAttached&&(t.detachEvent(t._gridCacheAttached),t._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var t=this.$config.scrollLeft||0,e=this.$config.scrollTop||0,i=this.$config.height||0,n=this.$config.width||0;return{y:e,y_end:e+i,x:t,x_end:t+n,height:i,width:n}},scrollTo:function(t,e){if(this.isVisible()){var i=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*t==t&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=t,i=!0),1*e==e&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=e,i=!0),i&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(t,e){for(var i=this.$getConfig().columns,n=0,r=0;r<i.length;r++)if(e&&i[r].hide&&n++,i[r].name==t)return r-n;return null},getColumn:function(t){var e=this.getColumnIndex(t);return null===e?null:this.$getConfig().columns[e]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var t=this.$gantt,e=this;return[{renderer:t.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return e.isVisible()}]},{renderer:t.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return t.config.resize_rows}]}]},_addLayers:function(t){if(this.$config.bind){this._taskLayers=[];var e=this,i=this.$gantt.$services.getService("layers"),n=i.getDataRender(this.$config.bind);n||(n=i.createDataRender({name:this.$config.bind,defaultContainer:function(){return e.$grid_data}}));for(var r=this.$config.layers,a=0;r&&a<r.length;a++){var s=r[a];s.view=this;var o=n.addLayer(s);this._taskLayers.push(o)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(t){var e=this.$getConfig(),i=this.$config.rowStore;if(i&&null===t&&this.isVisible()&&e.smart_rendering){var n;if(this.$config.scrollY){var r=this.$gantt.$ui.getView(this.$config.scrollY);r&&(n=r.getScrollState().scrollSize)}if(n||(n=i?this.getTotalHeight():0),n){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var a=this.$rowsPlaceholder=document.createElement("div");a.style.visibility="hidden",a.style.height=n+"px",a.style.width="1px",this.$grid_data.appendChild(a)}}},_initSmartRenderingPlaceholder:function(){var t=this.$config.rowStore;t&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=t.attachEvent("onStoreUpdated",et(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var t=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",t.bind((function(t,e,i){var n=this.$config.rowStore;if(!n)return!0;var r=_(t,this.$config.item_attribute);return r&&n.close(r.getAttribute(this.$config.item_attribute)),!1}),this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",t.bind((function(t,e,i){var n=this.$config.rowStore;if(!n)return!0;var r=_(t,this.$config.item_attribute);return r&&n.open(r.getAttribute(this.$config.item_attribute)),!1}),this),this.$grid)},_clearLayers:function(t){var e=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var i=0;i<this._taskLayers.length;i++)e.removeLayer(this._taskLayers[i]);this._taskLayers=[]},_getColumnWidth:function(t,e,i){var n=t.min_width||e.min_grid_column_width,r=Math.max(i,n||10);return t.max_width&&(r=Math.min(r,t.max_width)),r},_checkGridColumnMinWidthLimits:function(t,e){for(var i=0,n=t.length;i<n;i++){var r=1*t[i].width;!t[i].min_width&&r<e.min_grid_column_width&&(t[i].min_width=r)}},_getGridWidthLimits:function(){for(var t=this.$getConfig(),e=this.getGridColumns(),i=0,n=0,r=0;r<e.length;r++)i+=e[r].min_width?e[r].min_width:t.min_grid_column_width,void 0!==n&&(n=e[r].max_width?n+e[r].max_width:void 0);return this._checkGridColumnMinWidthLimits(e,t),[i,n]},_setColumnsWidth:function(t,e){var i=this.$getConfig(),n=this.getGridColumns(),r=0,a=t;e=window.isNaN(e)?-1:e;for(var s=0,o=n.length;s<o;s++)r+=1*n[s].width;if(window.isNaN(r))for(this._calculateGridWidth(),r=0,s=0,o=n.length;s<o;s++)r+=1*n[s].width;var l=a-r,c=0;for(s=0;s<e+1;s++)c+=n[s].width;for(r-=c,s=e+1;s<n.length;s++){var d=n[s],h=Math.round(l*(d.width/r));l<0?d.min_width&&d.width+h<d.min_width?h=d.min_width-d.width:!d.min_width&&i.min_grid_column_width&&d.width+h<i.min_grid_column_width&&(h=i.min_grid_column_width-d.width):d.max_width&&d.width+h>d.max_width&&(h=d.max_width-d.width),r-=d.width,d.width+=h,l-=h}for(var u=l>0?1:-1;l>0&&1===u||l<0&&-1===u;){var f=l;for(s=e+1;s<n.length;s++){var p;if((p=n[s].width+u)==this._getColumnWidth(n[s],i,p)&&(l-=u,n[s].width=p),!l)break}if(f==l)break}return l&&e>-1&&(p=n[e].width+l)==this._getColumnWidth(n[e],i,p)&&(n[e].width=p),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var t=this.getGridColumns(),e=0,i=0;i<t.length;i++){var n=parseFloat(t[i].width);if(window.isNaN(n))return!1;e+=n}return e},_calculateGridWidth:function(){for(var t=this.$getConfig(),e=this.getGridColumns(),i=0,n=[],r=[],a=0;a<e.length;a++){var s=parseFloat(e[a].width);window.isNaN(s)&&(s=t.min_grid_column_width||10,n.push(a)),r[a]=s,i+=s}var o=this._getGridWidth()+1;if(t.autofit||n.length){var l=o-i;if(t.autofit&&!t.grid_elastic_columns)for(a=0;a<r.length;a++){var c=Math.round(l/(r.length-a));r[a]+=c,(d=this._getColumnWidth(e[a],t,r[a]))!=r[a]&&(c=d-r[a],r[a]=d),l-=c}else if(n.length)for(a=0;a<n.length;a++){c=Math.round(l/(n.length-a));var d,h=n[a];r[h]+=c,(d=this._getColumnWidth(e[h],t,r[h]))!=r[h]&&(c=d-r[h],r[h]=d),l-=c}for(a=0;a<r.length;a++)e[a].width=r[a]}else{var u=o!=i;this.$config.width=i-1,t.grid_width=i,u&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var t=this.$gantt,e=this.$getConfig(),i=this.$gantt.locale,n=this.$gantt.templates,r=this.getGridColumns();e.rtl&&(r=r.reverse());var a=[],s=0,o=i.labels,l=e.scale_height-1;const c={};for(var d=0;d<r.length;d++){var h=d==r.length-1,u=r[d];u.name||(u.name=t.uid()+"");var f=1*u.width,p=this._getGridWidth();h&&p>s+f&&(u.width=f=p-s),s+=f;var g=t._sort&&u.name==t._sort.name?`<div data-column-id="${u.name}" class="gantt_sort gantt_${t._sort.direction}"></div>`:"",m=["gantt_grid_head_cell","gantt_grid_head_"+u.name,h?"gantt_last_cell":"",n.grid_header_class(u.name,u)].join(" "),_="width:"+(f-(h?1:0))+"px;",v=u.label||o["column_"+u.name]||o[u.name];"function"==typeof v&&(v=v.call(t,u.name,u)),v=v||"";let e=!1;t.config.external_render&&t.config.external_render.isElement(v)&&(e=!0,c[u.name]=v);var y="<div class='"+m+"' style='"+_+"' "+t._waiAria.gridScaleCellAttrString(u,v)+" data-column-id='"+u.name+"' column_id='"+u.name+"' data-column-name='"+u.name+"' data-column-index='"+d+"'>"+(e?"<div data-component-container></div>":v)+g+"</div>";a.push(y)}this.$grid_scale.style.height=e.scale_height+"px",this.$grid_scale.style.lineHeight=l+"px",this.$grid_scale.innerHTML=a.join("");for(let e in c)t.config.external_render.renderElement(c[e],this.$grid_scale.querySelector("[data-column-id='"+e+"'] [data-component-container]"));this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}};const Bi={init:function(t,e){var i=e.$gantt;i.attachEvent("onTaskClick",(function(e,n){if(i._is_icon_open_click(n))return!0;var r=t.getState(),a=t.locateCell(n.target);return!a||!t.getEditorConfig(a.columnName)||(t.isVisible()&&r.id==a.id&&r.columnName==a.columnName||t.startEdit(a.id,a.columnName),!1)})),i.attachEvent("onEmptyClick",(function(){return t.isVisible()&&t.isChanged()?t.save():t.hide(),!0})),i.attachEvent("onTaskDblClick",(function(e,i){var n=t.getState(),r=t.locateCell(i.target);return!r||!t.isVisible()||r.columnName!=n.columnName}))},onShow:function(t,e,i){var n=i.$gantt;n.ext&&n.ext.keyboardNavigation&&n.ext.keyboardNavigation.attachEvent("onKeyDown",(function(e,i){var r=n.constants.KEY_CODES,a=!1;return i.keyCode===r.SPACE&&t.isVisible()&&(a=!0),!a})),e.onkeydown=function(e){e=e||window.event;var i=n.constants.KEY_CODES;if(!(e.defaultPrevented||e.shiftKey&&e.keyCode!=i.TAB)){var r=!0;switch(e.keyCode){case n.keys.edit_save:t.save();break;case n.keys.edit_cancel:t.hide();break;case i.UP:case i.DOWN:t.isVisible()&&(t.hide(),r=!1);break;case i.TAB:e.shiftKey?t.editPrevCell(!0):t.editNextCell(!0);break;default:r=!1}r&&e.preventDefault()}}},onHide:function(){},destroy:function(){}},zi={init:function(t,e){var i=t,n=e.$gantt,r=null,a=n.ext.keyboardNavigation;a.attachEvent("onBeforeFocus",(function(e){var n=t.locateCell(e);if(clearTimeout(r),n){var a=n.columnName,s=n.id,o=i.getState();if(i.isVisible()&&o.id==s&&o.columnName===a)return!1}return!0})),a.attachEvent("onFocus",(function(e){var n=t.locateCell(e),a=t.getState();return clearTimeout(r),!n||n.id==a.id&&n.columnName==a.columnName||i.isVisible()&&i.save(),!0})),t.attachEvent("onHide",(function(){clearTimeout(r)})),a.attachEvent("onBlur",(function(){return r=setTimeout((function(){i.save()})),!0})),n.attachEvent("onTaskDblClick",(function(e,i){var n=t.getState(),r=t.locateCell(i.target);return!r||!t.isVisible()||r.columnName!=n.columnName})),n.attachEvent("onTaskClick",(function(e,i){if(n._is_icon_open_click(i))return!0;var r=t.getState(),a=t.locateCell(i.target);return!a||!t.getEditorConfig(a.columnName)||(t.isVisible()&&r.id==a.id&&r.columnName==a.columnName||t.startEdit(a.id,a.columnName),!1)})),n.attachEvent("onEmptyClick",(function(){return i.save(),!0})),a.attachEvent("onKeyDown",(function(e,r){var s=t.locateCell(r.target),o=!!s&&t.getEditorConfig(s.columnName),l=t.getState(),c=n.constants.KEY_CODES,d=r.keyCode,h=!1;switch(d){case c.ENTER:t.isVisible()?(t.save(),r.preventDefault(),h=!0):o&&!(r.ctrlKey||r.metaKey||r.shiftKey)&&(i.startEdit(s.id,s.columnName),r.preventDefault(),h=!0);break;case c.ESC:t.isVisible()&&(t.hide(),r.preventDefault(),h=!0);break;case c.UP:case c.DOWN:break;case c.LEFT:case c.RIGHT:(o&&t.isVisible()||"date"===l.editorType)&&(h=!0);break;case c.SPACE:t.isVisible()&&(h=!0),o&&!t.isVisible()&&(i.startEdit(s.id,s.columnName),r.preventDefault(),h=!0);break;case c.DELETE:o&&!t.isVisible()?(i.startEdit(s.id,s.columnName),h=!0):o&&t.isVisible()&&(h=!0);break;case c.TAB:if(t.isVisible()){r.shiftKey?t.editPrevCell(!0):t.editNextCell(!0);var u=t.getState();u.id&&a.focus({type:"taskCell",id:u.id,column:u.columnName}),r.preventDefault(),h=!0}break;default:if(t.isVisible())h=!0;else if(d>=48&&d<=57||d>95&&d<112||d>=64&&d<=91||d>185&&d<193||d>218&&d<223){var f=e.modifiers,p=f.alt||f.ctrl||f.meta||f.shift;f.alt||p&&a.getCommandHandler(e,"taskCell")||o&&!t.isVisible()&&(i.startEdit(s.id,s.columnName),h=!0)}}return!h}))},onShow:function(t,e,i){},onHide:function(t,e,i){const n=i.$gantt;n&&n.focus()},destroy:function(){}};function Vi(t){var e=function(){};return e.prototype={show:function(t,e,i,n){},hide:function(){},set_value:function(t,e,i,n){this.get_input(n).value=t},get_value:function(t,e,i){return this.get_input(i).value||""},is_changed:function(t,e,i,n){var r=this.get_value(e,i,n);return r&&t&&r.valueOf&&t.valueOf?r.valueOf()!=t.valueOf():r!=t},is_valid:function(t,e,i,n){return!0},save:function(t,e,i){},get_input:function(t){return t.querySelector("input")},focus:function(t){var e=this.get_input(t);e&&(e.focus&&e.focus(),e.select&&e.select())}},e}function Hi(t){var e=Vi();function i(){return e.apply(this,arguments)||this}return Ci(i,e),Z(i.prototype,{show:function(t,e,i,n){var r=`<div role='cell'><input type='text' name='${e.name}' title='${e.name}'></div>`;n.innerHTML=r}},!0),i}function ji(t){var e=Vi();function i(){return e.apply(this,arguments)||this}return Ci(i,e),Z(i.prototype,{show:function(t,e,i,n){var r=i.min||0,a=i.max||100,s=`<div role='cell'><input type='number' min='${r}' max='${a}' name='${e.name}' title='${e.name}'></div>`;n.innerHTML=s,n.oninput=function(t){+t.target.value<r&&(t.target.value=r),+t.target.value>a&&(t.target.value=a)}},get_value:function(t,e,i){return this.get_input(i).value||""},is_valid:function(t,e,i,n){return!isNaN(parseInt(t,10))}},!0),i}function Gi(t){var e=Vi();function i(){return e.apply(this,arguments)||this}return Ci(i,e),Z(i.prototype,{show:function(t,e,i,n){for(var r=`<div role='cell'><select name='${e.name}' title='${e.name}'>`,a=[],s=i.options||[],o=0;o<s.length;o++)a.push("<option value='"+i.options[o].key+"'>"+s[o].label+"</option>");r+=a.join("")+"</select></div>",n.innerHTML=r},get_input:function(t){return t.querySelector("select")}},!0),i}function Wi(t){var e=Vi(),i="%Y-%m-%d",n=null,r=null;function a(){return e.apply(this,arguments)||this}return Ci(a,e),Z(a.prototype,{show:function(e,a,s,o){n||(n=t.date.date_to_str(i)),r||(r=t.date.str_to_date(i));var l,c;l="function"==typeof s.min?s.min(e,a):s.min,c="function"==typeof s.max?s.max(e,a):s.max;var d=`<div style='width:140px' role='cell'><input type='date' ${l?" min='"+n(l)+"' ":""} ${c?" max='"+n(c)+"' ":""} name='${a.name}' title='${a.name}'></div>`;o.innerHTML=d,o.oninput=function(e){e.target.value&&(l||c)&&(+t.date.str_to_date("%Y-%m-%d")(e.target.value)<+l&&(e.target.value=t.date.date_to_str("%Y-%m-%d")(l)),+t.date.str_to_date("%Y-%m-%d")(e.target.value)>+c&&(e.target.value=t.date.date_to_str("%Y-%m-%d")(c)))}},set_value:function(t,e,i,r){t&&t.getFullYear?this.get_input(r).value=n(t):this.get_input(r).value=t},is_valid:function(t,e,i,n){return!(!t||isNaN(t.getTime()))},get_value:function(t,e,i){var n;try{n=r(this.get_input(i).value||"")}catch{n=null}return n}},!0),a}function qi(t){var e=Vi();function i(){return e.apply(this,arguments)||this}function n(e){return e.formatter||t.ext.formatters.linkFormatter()}function r(t,e){for(var i=(t||"").split(e.delimiter||","),n=0;n<i.length;n++){var r=i[n].trim();r?i[n]=r:(i.splice(n,1),n--)}return i.sort(),i}function a(t,e,i){for(var r=t.$target,a=[],s=0;s<r.length;s++){var o=i.getLink(r[s]);a.push(n(e).format(o))}return a.join((e.delimiter||",")+" ")}function s(t){return t.source+"_"+t.target+"_"+t.type+"_"+(t.lag||0)}return Ci(i,e),Z(i.prototype,{show:function(t,e,i,n){var r=`<div role='cell'><input type='text' name='${e.name}' title='${e.name}'></div>`;n.innerHTML=r},hide:function(){},set_value:function(e,i,n,r){this.get_input(r).value=a(e,n.editor,t)},get_value:function(t,e,i){return r(this.get_input(i).value||"",e.editor)},save:function(e,i,r){var a=function(e,i,r){var a=function(e,i,r){var a=[];return[...new Set(i)].forEach((function(i){var s=n(r).parse(i);s&&(s.target=e,s.id="predecessor_generated",t.isLinkAllowed(s)&&(s.id=void 0,a.push(s)))})),a}(e.id,i,r),o={};e.$target.forEach((function(e){var i=t.getLink(e);o[s(i)]=i.id}));var l=[];a.forEach((function(t){var e=s(t);o[e]?delete o[e]:l.push(t)}));var c=[];for(var d in o)c.push(o[d]);return{add:l,remove:c}}(t.getTask(e),this.get_value(e,i,r),i.editor);(a.add.length||a.remove.length)&&t.batchUpdate((function(){a.add.forEach((function(e){t.addLink(e)})),a.remove.forEach((function(e){t.deleteLink(e)})),t.autoSchedule&&t.autoSchedule()}))},is_changed:function(e,i,n,s){var o=this.get_value(i,n,s),l=r(a(e,n.editor,t),n.editor);return o.join()!==l.join()}},!0),i}function Ui(t){var e=Vi();function i(){return e.apply(this,arguments)||this}function n(e){return e.formatter||t.ext.formatters.durationFormatter()}return Ci(i,e),Z(i.prototype,{show:function(t,e,i,n){var r=`<div role='cell'><input type='text' name='${e.name}' title='${e.name}'></div>`;n.innerHTML=r},set_value:function(t,e,i,r){this.get_input(r).value=n(i.editor).format(t)},get_value:function(t,e,i){return n(e.editor).parse(this.get_input(i).value||"")}},!0),i}function Yi(t){t.config.editor_types={text:new(Hi()),number:new(ji()),select:new(Gi()),date:new(Wi(t)),predecessor:new(qi(t)),duration:new(Ui(t))}}function Xi(t){var e,i,n=(e=t,i=null,{setMapping:function(t){i=t},getMapping:function(){return i||(e.config.keyboard_navigation_cells&&e.ext.keyboardNavigation?zi:Bi)}}),r={};D(r);var a={init:Yi,createEditors:function(e){var i=function(t){return function(i,n,r){var a,s;"keepDates"==r?(a=i,"duration"==(s=n)?a.end_date=t.calculateEndDate(a):"end_date"!=s&&"start_date"!=s||(a.duration=t.calculateDuration(a))):"keepDuration"==r?function(i,n){"end_date"==n?i.start_date=e(i):"start_date"!=n&&"duration"!=n||(i.end_date=t.calculateEndDate(i))}(i,n):function(i,n){t.config.schedule_from_end?"end_date"==n||"duration"==n?i.start_date=e(i):"start_date"==n&&(i.duration=t.calculateDuration(i)):"start_date"==n||"duration"==n?i.end_date=t.calculateEndDate(i):"end_date"==n&&(i.duration=t.calculateDuration(i))}(i,n)};function e(e){return t.calculateEndDate({start_date:e.end_date,duration:-e.duration,task:e})}}(t),a=[],s=[],o=null,l={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(t){if(!x(t,e.$grid))return null;var i=_(t,e.$config.item_attribute),n=_(t,"data-column-name");if(i&&n){var r=n.getAttribute("data-column-name");return{id:i.getAttribute(e.$config.item_attribute),columnName:r}}return null},getEditorConfig:function(t){return e.getColumn(t).editor},init:function(){var i=n.getMapping();i.init&&i.init(this,e),o=e.$gantt.getDatastore(e.$config.bind);var r=this;a.push(o.attachEvent("onIdChange",(function(t,e){r._itemId==t&&(r._itemId=e)}))),a.push(o.attachEvent("onStoreUpdated",(function(){e.$gantt.getState("batchUpdate").batch_update||r.isVisible()&&!o.isVisible(r._itemId)&&r.hide()}))),s.push(t.attachEvent("onDataRender",(function(){r._editor&&r._placeholder&&!x(r._placeholder,t.$root)&&e.$grid_data.appendChild(r._placeholder)}))),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(e,i){if(this.isVisible()&&this.save(),!o.exists(e))return;var n={id:e,columnName:i};if(t.isReadonly(o.getItem(e)))return void this.callEvent("onEditPrevent",[n]);if(!1===this.callEvent("onBeforeEditStart",[n]))return void this.callEvent("onEditPrevent",[n]);const r=this.show(n.id,n.columnName);r&&r.then?r.then(function(){this.setValue(),this.callEvent("onEditStart",[n])}.bind(this)):(this.setValue(),this.callEvent("onEditStart",[n]))},isVisible:function(){return!(!this._editor||!x(this._placeholder,t.$root))},show:function(i,r){this.isVisible()&&this.save();var a={id:i,columnName:r},s=e.getColumn(a.columnName),o=this.getEditorConfig(s.name);if(!o)return;var l=e.$getConfig().editor_types[o.type],c=function(i,n){var r=e.$getConfig(),a=function(t,i){for(var n=e.$getConfig(),r=e.getItemTop(t),a=e.getItemHeight(t),s=e.getGridColumns(),o=0,l=0,c=0,d=0;d<s.length;d++){if(s[d].name==i){c=s[d].width;break}n.rtl?l+=s[d].width:o+=s[d].width}return n.rtl?{top:r,right:l,height:a,width:c}:{top:r,left:o,height:a,width:c}}(i,n),s=document.createElement("div");s.className="gantt_grid_editor_placeholder",s.setAttribute(e.$config.item_attribute,i),s.setAttribute(e.$config.bind+"_id",i),s.setAttribute("data-column-name",n);var o=function(t,e){for(var i=t.getGridColumns(),n=0;n<i.length;n++)if(i[n].name==e)return n;return 0}(e,n);return s.setAttribute("data-column-index",o),t._waiAria.inlineEditorAttr(s),r.rtl?s.style.cssText=["top:"+a.top+"px","right:"+a.right+"px","width:"+a.width+"px","height:"+a.height+"px"].join(";"):s.style.cssText=["top:"+a.top+"px","left:"+a.left+"px","width:"+a.width+"px","height:"+a.height+"px"].join(";"),s}(a.id,a.columnName);e.$grid_data.appendChild(c);const d=function(){this._editor=l,this._placeholder=c,this._itemId=a.id,this._columnName=a.columnName,this._editorType=o.type;var t=n.getMapping();t.onShow&&t.onShow(this,c,e),c._onReMount=function(){this.setValue()}.bind(this)}.bind(this),h=l.show(a.id,s,o,c);if(h&&h.then)return h.then((()=>{d()}));d()},setValue:function(){var t=this.getState(),i=t.id,n=t.columnName,r=e.getColumn(n),a=o.getItem(i),s=this.getEditorConfig(n);if(s){var l=a[s.map_to];"auto"==s.map_to&&(l=o.getItem(i)),this._editor.set_value(l,i,r,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var t=e.getColumn(this._columnName);return this._editor.get_value(this._itemId,t,this._placeholder)},_getItemValue:function(){var e=this.getEditorConfig(this._columnName);if(e){var i=t.getTask(this._itemId)[e.map_to];return"auto"==e.map_to&&(i=o.getItem(this._itemId)),i}},isChanged:function(){var t=e.getColumn(this._columnName),i=this._getItemValue();return this._editor.is_changed(i,this._itemId,t,this._placeholder)},hide:function(){if(this._itemId){var t=this._itemId,i=this._columnName,r=n.getMapping();r.onHide&&r.onHide(this,this._placeholder,e),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:t,columnName:i}]))}},save:function(){if(this.isVisible()&&o.exists(this._itemId)&&this.isChanged()){var n=this._itemId,r=this._columnName;if(o.exists(n)){var a=o.getItem(n),s=this.getEditorConfig(r),l={id:n,columnName:r,newValue:this.getValue(),oldValue:this._getItemValue()};if(!1!==this.callEvent("onBeforeSave",[l])&&(!this._editor.is_valid||this._editor.is_valid(l.newValue,l.id,e.getColumn(r),this._placeholder))){var c=s.map_to,d=l.newValue;"auto"!=c?(a[c]=d,i(a,c,t.config.inline_editors_date_processing),o.updateItem(n)):this._editor.save(n,e.getColumn(r),this._placeholder),this.callEvent("onSave",[l])}this.hide()}}else this.hide()},_findEditableCell:function(t,i){var n=t,r=e.getGridColumns()[n],a=r?r.name:null;if(a){for(;a&&!this.getEditorConfig(a);)a=this._findEditableCell(t+i,i);return a}return null},getNextCell:function(t){return this._findEditableCell(e.getColumnIndex(this._columnName,!0)+t,t)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(e.getGridColumns().length-1,-1)},editNextCell:function(t){var e=this.getNextCell(1);if(e){var i=this.getNextCell(1);i&&this.getEditorConfig(i)&&this.startEdit(this._itemId,i)}else if(t&&this.moveRow(1)){var n=this.moveRow(1);(e=this.getFirstCell())&&this.getEditorConfig(e)&&this.startEdit(n,e)}},editPrevCell:function(t){var e=this.getNextCell(-1);if(e){var i=this.getNextCell(-1);i&&this.getEditorConfig(i)&&this.startEdit(this._itemId,i)}else if(t&&this.moveRow(-1)){var n=this.moveRow(-1);(e=this.getLastCell())&&this.getEditorConfig(e)&&this.startEdit(n,e)}},moveRow:function(e){for(var i=e>0?t.getNext:t.getPrev,n=(i=t.bind(i,t))(this._itemId);t.isTaskExists(n)&&t.isReadonly(t.getTask(n));)n=i(n);return n},editNextRow:function(e){var i=this.getState().id;if(t.isTaskExists(i)){var n;n=e?this.moveRow(1):t.getNext(i),t.isTaskExists(n)&&this.startEdit(n,this._columnName)}},editPrevRow:function(e){var i=this.getState().id;if(t.isTaskExists(i)){var n;n=e?this.moveRow(-1):t.getPrev(i),t.isTaskExists(n)&&this.startEdit(n,this._columnName)}},detachStore:function(){a.forEach((function(t){o.detachEvent(t)})),s.forEach((function(e){t.detachEvent(e)})),a=[],s=[],o=null,this.hide()},destructor:function(){this.detachStore(),this.detachAllEvents()}};return Z(l,n),Z(l,r),l}};return Z(a,n),Z(a,r),a}function Ki(t,e,i,n,r){if(!t.start_date||!t.end_date)return null;var a=i.getItemTop(t.id),s=i.getItemHeight(t.id);if(a>e.y_end||a+s<e.y)return!1;var o=i.posFromDate(t.start_date),l=i.posFromDate(t.end_date),c=Math.min(o,l)-200,d=Math.max(o,l)+200;return!(c>e.x_end||d<e.x)}function Ji(t){function e(e,a,s){if(t._isAllowedUnscheduledTask(e)||!t._isTaskInTimelineLimits(e))return;var o=a.getItemPosition(e),l=s,c=a.$getTemplates(),d=t.getTaskType(e.type),h=a.getBarHeight(e.id,d==l.types.milestone),u=0;d==l.types.milestone&&(u=(h-o.height)/2);var f=Math.floor((a.getItemHeight(e.id)-h)/2);const p=t.config.baselines&&e.baselines&&e.baselines.length,g=t.config.baselines&&("separateRow"==t.config.baselines.render_mode||"individualRow"==t.config.baselines.render_mode);if(p&&g&&"full"!==e.bar_height&&e.bar_height<e.row_height)if(d===l.types.milestone){let t=a.getBarHeight(e.id,!0),i=Math.sqrt(2*t*t);f=Math.floor((i-h)/2)+2}else f=2;d==l.types.milestone&&(o.left-=Math.round(h/2),o.width=h);var m=document.createElement("div"),_=Math.round(o.width);a.$config.item_attribute&&(m.setAttribute(a.$config.item_attribute,e.id),m.setAttribute(a.$config.bind+"_id",e.id)),l.show_progress&&d!=l.types.milestone&&function(e,i,n,r,a){var s=1*e.progress||0;n=Math.max(n,0);var o=document.createElement("div"),l=Math.round(n*s);l=Math.min(n,l),o.style.width=l+"px",o.className="gantt_task_progress",o.innerHTML=a.progress_text(e.start_date,e.end_date,e),r.rtl&&(o.style.position="absolute",o.style.right="0px");var c=document.createElement("div");c.className="gantt_task_progress_wrapper",c.appendChild(o),i.appendChild(c);const d=!t.isReadonly(e),h=t.ext.dragTimeline&&t.ext.dragTimeline._isDragInProgress();if(t.config.drag_progress&&(d||h)){var u=document.createElement("div"),f=l;r.rtl&&(f=n-l),u.style.left=f+"px",u.className="gantt_task_progress_drag",u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="9" viewBox="0 0 12 9" fill="none">\n<path d="M5.58397 1.52543C5.78189 1.22856 6.21811 1.22856 6.41602 1.52543L10.5475 7.72265C10.769 8.05493 10.5308 8.5 10.1315 8.5L1.86852 8.5C1.46917 8.5 1.23097 8.05493 1.45249 7.72265L5.58397 1.52543Z" fill="var(--dhx-gantt-progress-handle-background)" stroke="var(--dhx-gantt-progress-handle-border)"/>\n</svg>',o.appendChild(u),i.appendChild(u)}}(e,m,_,l,c);var v=function(e,i,n){var r=document.createElement("div");return t.getTaskType(e.type)!=t.config.types.milestone?r.innerHTML=n.task_text(e.start_date,e.end_date,e):t.getTaskType(e.type)==t.config.types.milestone&&i&&(r.style.height=r.style.width=i+"px"),r.className="gantt_task_content",r}(e,_,c);m.appendChild(v);var y=function(e,i,n,r){var a=r.$getConfig(),s=["gantt_task_line"];i&&s.push(i);var o=t.getState(),l=t.getTask(n);if(t.getTaskType(l.type)==a.types.milestone?s.push("gantt_milestone"):t.getTaskType(l.type)==a.types.project&&s.push("gantt_project"),s.push("gantt_bar_"+t.getTaskType(l.type)),t.isSummaryTask(l)&&s.push("gantt_dependent_task"),t.isSplitTask(l)&&(a.open_split_tasks&&!l.$open||!a.open_split_tasks)&&s.push("gantt_split_parent"),a.select_task&&t.isSelectedTask(n)&&s.push("gantt_selected"),n==o.drag_id&&(s.push("gantt_drag_"+o.drag_mode),o.touch_drag&&s.push("gantt_touch_"+o.drag_mode)),o.link_source_id==n&&(s.push("gantt_link_source"),o.link_from_start?s.push("gantt_link_from_start"):s.push("gantt_link_from_end")),o.link_target_id==n&&s.push("gantt_link_target"),a.highlight_critical_path&&t.isCriticalTask&&t.isCriticalTask(l)&&s.push("gantt_critical_task"),o.link_landing_area&&o.link_target_id&&o.link_source_id&&o.link_target_id!=o.link_source_id&&(o.link_target_id==n||o.link_source_id==n)){var c,d=o.link_source_id,h=o.link_from_start,u=o.link_to_start;c=t.isLinkAllowed(d,n,h,u)?u?"link_start_allow":"link_finish_allow":u?"link_start_deny":"link_finish_deny",s.push(c)}return s.join(" ")}(0,c.task_class(e.start_date,e.end_date,e),e.id,a);(e.color||e.progressColor||e.textColor)&&(y+=" gantt_task_inline_color"),o.width<20&&(y+=" gantt_thin_task"),m.className=y;var b=["left:"+o.left+"px","top:"+(f+o.top)+"px","height:"+h+"px","line-height:"+Math.max(h<30?h-2:h,0)+"px","width:"+_+"px"];m.style.cssText=b.join(";"),e.color&&m.style.setProperty("--dhx-gantt-task-background",e.color),e.textColor&&m.style.setProperty("--dhx-gantt-task-color",e.textColor),e.progressColor&&m.style.setProperty("--dhx-gantt-task-progress-color",e.progressColor);var k=function(t,e,r,a){var s="gantt_left "+n(!e.rtl,t),o=null;return a&&(o={type:"marginRight",value:a}),i(t,r.leftside_text,s,o)}(e,l,c,u);k&&m.appendChild(k),k=function(t,e,r,a){var s="gantt_right "+n(!!e.rtl,t),o=null;return a&&(o={type:"marginLeft",value:a}),i(t,r.rightside_text,s,o)}(e,l,c,u),k&&m.appendChild(k),t._waiAria.setTaskBarAttr(e,m);var x=t.getState();const w=!t.isReadonly(e),S=t.ext.dragTimeline&&t.ext.dragTimeline._isDragInProgress();return(w||S)&&(l.drag_resize&&!t.isSummaryTask(e)&&d!=l.types.milestone&&r(m,"gantt_task_drag",e,(function(t){var e=document.createElement("div");return e.className=t,e}),l),l.drag_links&&l.show_links&&r(m,"gantt_link_control",e,(function(t){var e=document.createElement("div");e.className=t,e.style.cssText=["height:"+h+"px","line-height:"+h+"px"].join(";");var i=document.createElement("div");i.className="gantt_link_point";var n=!1;return x.link_source_id&&l.touch&&(n=!0),i.style.display=n?"block":"",e.appendChild(i),e}),l,u)),m}function i(t,e,i,n){if(!e)return null;var r=e(t.start_date,t.end_date,t);if(!r)return null;var a=document.createElement("div");return a.className="gantt_side_content "+i,a.innerHTML=r,n&&(a.style[n.type]=Math.abs(n.value)+"px"),a}function n(e,i){var n=e?{$source:[t.config.links.start_to_start],$target:[t.config.links.start_to_start,t.config.links.finish_to_start]}:{$source:[t.config.links.finish_to_start,t.config.links.finish_to_finish],$target:[t.config.links.finish_to_finish]};for(var r in n)for(var a=i[r],s=0;s<a.length;s++)for(var o=t.getLink(a[s]),l=0;l<n[r].length;l++)if(o.type==n[r][l])return"gantt_link_crossing";return""}function r(e,i,n,r,a,s){var o,l=t.getState();+n.start_date>=+l.min_date&&((o=r([i,a.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),s&&(o.style.marginLeft=s+"px"),e.appendChild(o)),+n.end_date<=+l.max_date&&((o=r([i,a.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),s&&(o.style.marginRight=s+"px"),e.appendChild(o))}return function(i,n,r){var a=(r=n.$getConfig()).type_renderers[t.getTaskType(i.type)],s=e;return a?a.call(t,i,(function(e){return s.call(t,e,n,r)}),n):s.call(t,i,n,r)}}function Zi(t){return{render:Ji(t),update:null,isInViewPort:Ki,getVisibleRange:bi}}function Qi(){return console.error("You are trying to use a Pro feature that is not available in the GPL version."),{render:function(){},isInViewPort:function(){},getVisibleRange:function(){}}}function tn(t,e,i){return{top:e.getItemTop(t.id),height:e.getItemHeight(t.id),left:0,right:1/0}}function en(t,e){var i=0,n=t.left.length-1;if(e)for(var r=0;r<t.left.length;r++){var a=t.left[r];if(a<e.x&&(i=r),a>e.x_end){n=r;break}}return{start:i,end:n}}function nn(t,e,i,n){var r=e.width[t];if(r<=0)return!1;if(!n.config.smart_rendering||vi(n))return!0;var a=e.left[t]-r,s=e.left[t]+r;return a<=i.x_end&&s>=i.x}function rn(t,e){var i=e.config.timeline_placeholder;if(t=t||[],i&&0===t.filter((t=>"timeline_placeholder_task"===t.id)).length){var n=e.getState(),r=null,a=n.min_date,s=n.max_date;t.length&&(r=t[t.length-1].id);var o={start_date:a,end_date:s,row_height:i.height||0,id:"timeline_placeholder_task",unscheduled:!0,lastTaskId:r,calendar_id:i.calendar||"global",$source:[],$target:[]};t.push(o)}}function an(t,e,i,n,r){if(r.$ui.getView("grid")&&(r.config.keyboard_navigation&&r.getSelectedId()||r.ext.inlineEditors&&r.ext.inlineEditors.getState().id))return!!t.$expanded_branch;var a=i.getItemTop(t.id),s=i.getItemHeight(t.id);return!(a>e.y_end||a+s<e.y)}const sn=function(t,i){var n=t.$services.getService("dnd");if(i.$config.bind&&t.getDatastore(i.$config.bind)){var r=new n(i.$grid_data,{updates_per_second:60});t.defined(i.$getConfig().dnd_sensitivity)&&(r.config.sensitivity=i.$getConfig().dnd_sensitivity),r.attachEvent("onBeforeDragStart",t.bind((function(e,n){var l=a(n);if(!l||(t.hideQuickInfo&&t.hideQuickInfo(),w(n.target,".gantt_grid_editor_placeholder")))return!1;var c=l.getAttribute(i.$config.item_attribute);if(o(c))return!1;var d=s().getItem(c);return!t.isReadonly(d)&&(r.config.initial_open_state=d.$open,!!t.callEvent("onRowDragStart",[c,n.target||n.srcElement,n])&&void 0)}),t)),r.attachEvent("onAfterDragStart",t.bind((function(t,e){var n=a(e);r.config.marker.innerHTML=n.outerHTML;var o=r.config.marker.firstChild;o&&(o.style.position="static"),r.config.id=n.getAttribute(i.$config.item_attribute);var l=s(),c=l.getItem(r.config.id);r.config.index=l.getBranchIndex(r.config.id),r.config.parent=c.parent,c.$open=!1,c.$transparent=!0,this.refreshData()}),t)),r.lastTaskOfLevel=function(t){for(var e=null,i=s().getItems(),n=0,r=i.length;n<r;n++)i[n].$level==t&&(e=i[n]);return e?e.id:null},r._getGridPos=t.bind((function(t){var n=e(i.$grid_data),a=n.x+i.$grid.scrollLeft,s=t.pos.y-10,o=i.getItemHeight(r.config.id);s<n.y&&(s=n.y);var l=i.getTotalHeight();s>n.y+l-o&&(s=n.y+l-o);const c=n.y+n.height;return s>c-o&&(s=c-o),n.x=a,n.y=s,n}),t),r._getTargetY=t.bind((function(n){var r=e(i.$grid_data),a=i.$state.scrollTop||0,s=t.$grid_data.getBoundingClientRect().height+a,o=n.pageY-r.y+a;return o>s?o=s:o<a&&(o=a),o}),t),r._getTaskByY=t.bind((function(t,e){var n=s();t=t||0;var r=i.getItemIndexByTopPosition(t);return(r=e<r?r-1:r)>n.countVisible()-1?null:n.getIdByIndex(r)}),t),r.attachEvent("onDragMove",t.bind((function(n,a){var l=t.$grid_data.getBoundingClientRect(),c=l.height+l.y+(i.$state.scrollTop||0)+window.scrollY,d=r.config,h=r._getGridPos(a);t._waiAria.reorderMarkerAttr(d.marker);var u=i.$getConfig(),f=s();h.y<c?d.marker.style.top=h.y+"px":d.marker.style.top=c+"px",d.marker.style.left=h.x+10+"px";const p=e(t.$root);h.width>p.width&&(d.marker.style.width=p.width-10-2+"px",d.marker.style.overflow="hidden");var g=f.getItem(r.config.id),m=r._getTargetY(a),_=r._getTaskByY(m,f.getIndexById(g.id));function v(t,e){return!f.isChildOf(y.id,e.id)&&(t.$level==e.$level||u.order_branch_free)}if(f.exists(_)||(_=r.lastTaskOfLevel(u.order_branch_free?g.$level:0))==r.config.id&&(_=null),f.exists(_)){var y=f.getItem(_),b=i.getItemTop(y.id),k=i.getItemHeight(y.id);if(b+k/2<m){var x=f.getIndexById(y.id),w=f.getNext(y.id),S=f.getItem(w);if(o(w)){var T=f.getPrev(S.id);S=f.getItem(T)}if(S){if(S.id==g.id)return u.order_branch_free&&f.isChildOf(g.id,y.id)&&1==f.getChildren(y.id).length?void f.move(g.id,f.getBranchIndex(y.id)+1,f.getParent(y.id)):void 0;y=S}else if(w=f.getIdByIndex(x),S=f.getItem(w),o(w)&&(T=f.getPrev(S.id),S=f.getItem(T)),v(S,g)&&S.id!=g.id)return void f.move(g.id,-1,f.getParent(S.id))}else if(u.order_branch_free&&y.id!=g.id&&v(y,g)&&!o(y.id)){if(!f.hasChild(y.id))return y.$open=!0,void f.move(g.id,-1,y.id);if(f.getIndexById(y.id)||k/3<m)return}x=f.getIndexById(y.id),T=f.getIdByIndex(x-1);for(var E=f.getItem(T),C=1;(!E||E.id==y.id)&&x-C>=0;)T=f.getIdByIndex(x-C),E=f.getItem(T),C++;if(g.id==y.id||o(y.id))return;v(y,g)&&g.id!=y.id?f.move(g.id,0,0,y.id):y.$level!=g.$level-1||f.getChildren(y.id).length?E&&v(E,g)&&g.id!=E.id&&f.move(g.id,-1,f.getParent(E.id)):f.move(g.id,0,y.id)}return!0}),t)),r.attachEvent("onDragEnd",t.bind((function(){var e=s(),i=e.getItem(r.config.id);i.$transparent=!1,i.$open=r.config.initial_open_state,!1===this.callEvent("onBeforeRowDragEnd",[r.config.id,r.config.parent,r.config.index])?(e.move(r.config.id,r.config.index,r.config.parent),i.$drop_target=null):this.callEvent("onRowDragEnd",[r.config.id,i.$drop_target]),t.render(),this.refreshData()}),t))}function a(t){return _(t,i.$config.item_attribute)}function s(){return t.getDatastore(i.$config.bind)}function o(e){return Ct(e,t,s())}},on={createDropTargetObject:function(t){var e={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return t&&Z(e,t,!0),e},nextSiblingTarget:function(t,e,i){var n=this.createDropTargetObject();return n.targetId=e,n.nextSibling=!0,n.targetParent=i.getParent(n.targetId),n.targetIndex=i.getBranchIndex(n.targetId),(i.getParent(t)!=n.targetParent||n.targetIndex<i.getBranchIndex(t))&&(n.targetIndex+=1),n},prevSiblingTarget:function(t,e,i){var n=this.createDropTargetObject();return n.targetId=e,n.prevSibling=!0,n.targetParent=i.getParent(n.targetId),n.targetIndex=i.getBranchIndex(n.targetId),i.getParent(t)==n.targetParent&&n.targetIndex>i.getBranchIndex(t)&&(n.targetIndex-=1),n},firstChildTarget:function(t,e,i){var n=this.createDropTargetObject();return n.targetId=e,n.targetParent=n.targetId,n.targetIndex=0,n.child=!0,n},lastChildTarget:function(t,e,i){var n=i.getChildren(e),r=this.createDropTargetObject();return r.targetId=n[n.length-1],r.targetParent=e,r.targetIndex=n.length,r.nextSibling=!0,r}};function ln(t,e,i,n,r){for(var a=e;n.exists(a);){var s=n.calculateItemLevel(n.getItem(a));if((s===i||s===i-1)&&n.getBranchIndex(a)>-1)break;a=r?n.getPrev(a):n.getNext(a)}return n.exists(a)?n.calculateItemLevel(n.getItem(a))===i?r?on.nextSiblingTarget(t,a,n):on.prevSiblingTarget(t,a,n):on.firstChildTarget(t,a,n):null}function cn(t,e,i,n){return ln(t,e,i,n,!0)}function dn(t,e,i,n){return ln(t,e,i,n,!1)}function hn(t,e,i,n,r,a){var s;if(e!==r.$getRootId()){var o=r.getItem(e),l=r.calculateItemLevel(o);if(l===a){var c=r.getPrevSibling(e);i<.5&&!c?s=on.prevSiblingTarget(t,e,r):(i<.5&&(e=c),s=on.nextSiblingTarget(t,e,r))}else if(l>a)r.eachParent((function(t){r.calculateItemLevel(t)===a&&(e=t.id)}),o),s=cn(t,e,a,r);else{var d=cn(t,e,a,r),h=dn(t,e,a,r);s=i<.5?d:h}}else{var u=r.$getRootId(),f=r.getChildren(u);s=on.createDropTargetObject(),s=f.length&&n>=0?cn(t,function(t){for(var e=t.getNext();t.exists(e);){var i=t.getNext(e);if(!t.exists(i))return e;e=i}return null}(r),a,r):dn(t,u,a,r)}return s}function un(t,i){var n=e(i.$grid_data);return t.x+=n.x+i.$grid.scrollLeft,t.y+=n.y-i.$grid_data.scrollTop,t}function fn(t,i,n=0){const r=e(t.$root);return i>r.width&&(i=r.width-n-2),i}const pn=function(t){t.markerLine&&t.markerLine.parentNode&&t.markerLine.parentNode.removeChild(t.markerLine),t.markerLine=null},gn=function(t,i,n){var r=function(t,i){var n=e(i.$grid_data),r=b(t,i.$grid_data),a=n.x+i.$grid.scrollLeft,s=r.y-10,o=i.getItemHeight(t.targetId);s<n.y&&(s=n.y);var l=i.getTotalHeight();return s>n.y+l-o&&(s=n.y+l-o),n.x=a,n.y=s,n.width=fn(i.$gantt,n.width,9),n}(t,n);i.marker.style.left=r.x+9+"px",i.marker.style.width=r.width+"px",i.marker.style.overflow="hidden";var a=i.markerLine;a||((a=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",a.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",a.style.pointerEvents="none"),t.child?function(t,e,i){var n=t.targetParent,r=un({x:0,y:i.getItemTop(n)},i),a=i.$grid_data.getBoundingClientRect().bottom+window.scrollY;let s=fn(i.$gantt,i.$grid_data.offsetWidth);e.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",e.style.width=s+"px",e.style.top=r.y+"px",e.style.left=r.x+"px",e.style.height=i.getItemHeight(n)+"px",r.y>a&&(e.style.top=a+"px")}(t,a,n):function(t,e,i){var n=function(t,e){var i=e.$config.rowStore,n={x:0,y:0},r=e.$grid_data.querySelector(".gantt_tree_indent"),a=15,s=0;r&&(a=r.offsetWidth);if(t.targetId!==i.$getRootId()){var o=e.getItemTop(t.targetId),l=e.getItemHeight(t.targetId);if(s=i.exists(t.targetId)?i.calculateItemLevel(i.getItem(t.targetId)):0,t.prevSibling)n.y=o;else if(t.nextSibling){var c=0;i.eachItem((function(t){-1!==i.getIndexById(t.id)&&c++}),t.targetId),n.y=o+l+c*l}else n.y=o+l,s+=1}return n.x=40+s*a,n.width=fn(e.$gantt,Math.max(e.$grid_data.offsetWidth-n.x,0),n.x),un(n,e)}(t,i),r=i.$grid_data.getBoundingClientRect().bottom+window.scrollY;e.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",e.style.left=n.x+"px",e.style.height="4px";var a=n.y-2;e.style.top=a+"px",e.style.width=n.width+"px",a>r&&(e.style.top=r+"px")}(t,a,n),i.markerLine||(document.body.appendChild(a),i.markerLine=a)},mn=function(t,i){var n=t.$services.getService("dnd");if(i.$config.bind&&t.getDatastore(i.$config.bind)){var r=new n(i.$grid_data,{updates_per_second:60});t.defined(i.$getConfig().dnd_sensitivity)&&(r.config.sensitivity=i.$getConfig().dnd_sensitivity),r.attachEvent("onBeforeDragStart",t.bind((function(e,n){var o=a(n);if(!o||(t.hideQuickInfo&&t.hideQuickInfo(),w(n.target,".gantt_grid_editor_placeholder")))return!1;var l=o.getAttribute(i.$config.item_attribute),c=i.$config.rowStore.getItem(l);return!t.isReadonly(c)&&!s(l)&&(r.config.initial_open_state=c.$open,!!t.callEvent("onRowDragStart",[l,n.target||n.srcElement,n])&&void 0)}),t)),r.attachEvent("onAfterDragStart",t.bind((function(t,e){var n=a(e);r.config.marker.innerHTML=n.outerHTML;var s=r.config.marker.firstChild;s&&(r.config.marker.style.opacity=.4,s.style.position="static",s.style.pointerEvents="none"),r.config.id=n.getAttribute(i.$config.item_attribute);var o=i.$config.rowStore,l=o.getItem(r.config.id);r.config.level=o.calculateItemLevel(l),r.config.drop_target=on.createDropTargetObject({targetParent:o.getParent(l.id),targetIndex:o.getBranchIndex(l.id),targetId:l.id,nextSibling:!0}),l.$open=!1,l.$transparent=!0,this.refreshData()}),t)),r.attachEvent("onDragMove",t.bind((function(n,a){var o=function(n){var a,o=function(n){var a=b(n,i.$grid_data).y,o=i.$config.rowStore;document.doctype||(a+=window.scrollY),a=a||0;var l=i.$state.scrollTop||0,c=t.$grid_data.getBoundingClientRect().height+l+window.scrollY,d=l,h=i.getItemIndexByTopPosition(i.$state.scrollTop);if(o.exists(h)||(h=o.countVisible()-1),h<0)return o.$getRootId();var u=o.getIdByIndex(h),f=i.$state.scrollTop/i.getItemHeight(u),p=f-Math.floor(f);p>.1&&p<.9&&(c-=i.getItemHeight(u)*p,d+=i.getItemHeight(u)*(1-p));const g=e(i.$grid_data),m=g.y+g.height,_=r.config.marker.offsetHeight;a+_+window.scrollY>=c&&(r.config.marker.style.top=m-_+"px"),a>=c?a=c:a<=d&&(a=d,r.config.marker.style.top=g.y+"px");var v=i.getItemIndexByTopPosition(a);if(v>o.countVisible()-1||v<0)return o.$getRootId();var y=o.getIdByIndex(v);return s(y)?o.getPrevSibling(y):o.getIdByIndex(v)}(n),l=null,c=i.$config.rowStore,d=!i.$getConfig().order_branch_free,h=b(n,i.$grid_data).y;return document.doctype||(h+=window.scrollY),o!==c.$getRootId()&&(l=(h-i.getItemTop(o))/i.getItemHeight(o)),d?(a=hn(r.config.id,o,l,h,c,r.config.level))&&a.targetParent&&s(a.targetParent)&&(o=c.getPrevSibling(a.targetParent),a=hn(r.config.id,o,l,h,c,r.config.level)):a=function(t,e,i,n,r){var a;if(e!==r.$getRootId())a=i<.25?on.prevSiblingTarget(t,e,r):!(i>.6)||r.hasChild(e)&&r.getItem(e).$open?on.firstChildTarget(t,e,r):on.nextSiblingTarget(t,e,r);else{var s=r.$getRootId();a=r.hasChild(s)&&n>=0?on.lastChildTarget(t,s,r):on.firstChildTarget(t,s,r)}return a}(r.config.id,o,l,h,c),a}(a);return o&&!1!==t.callEvent("onBeforeRowDragMove",[r.config.id,o.targetParent,o.targetIndex])||(o=on.createDropTargetObject(r.config.drop_target)),gn(o,r.config,i),r.config.drop_target=o,t._waiAria.reorderMarkerAttr(r.config.marker),this.callEvent("onRowDragMove",[r.config.id,o.targetParent,o.targetIndex]),!0}),t)),r.attachEvent("onDragEnd",t.bind((function(){var e=i.$config.rowStore,n=e.getItem(r.config.id);pn(r.config),n.$transparent=!1,n.$open=r.config.initial_open_state;var a=r.config.drop_target;!1===this.callEvent("onBeforeRowDragEnd",[r.config.id,a.targetParent,a.targetIndex])?n.$drop_target=null:(e.move(r.config.id,a.targetIndex,a.targetParent),t.render(),this.callEvent("onRowDragEnd",[r.config.id,a.targetParent,a.targetIndex])),e.refresh(n.id)}),t))}function a(t){return _(t,i.$config.item_attribute)}function s(e){return Ct(e,t,t.getDatastore(i.$config.bind))}};var _n=function(t){return{onCreated:function(e){e.$config=Z(e.$config,{bind:"task"}),"grid"==e.$config.id&&(this.extendGantt(e),t.ext.inlineEditors=t.ext._inlineEditors.createEditors(e),t.ext.inlineEditors.init()),this._mouseDelegates=Fi(t)},onInitialized:function(e){var i=e.$getConfig();i.order_branch&&("marker"==i.order_branch?mn(e.$gantt,e):sn(e.$gantt,e)),this.initEvents(e,t),"grid"==e.$config.id&&this.extendDom(e)},onDestroyed:function(e){"grid"==e.$config.id&&t.ext.inlineEditors.detachStore(),this.clearEvents(e,t)},initEvents:function(t,e){this._mouseDelegates.delegate("click","gantt_row",e.bind((function(i,n,r){const a=t.$getConfig();if(null!==n){const t=this.getTask(n);if(a.scroll_on_click){const n=!e._is_icon_open_click(i),r=e.$ui.getView("timeline");n&&r&&this.showDate(t.start_date)}e.callEvent("onTaskRowClick",[n,r])}}),e),t.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",e.bind((function(i,n,r){var a=r.getAttribute("data-column-id");if(e.callEvent("onGridHeaderClick",[a,i])){var s=t.$getConfig();if("add"!=a){if(s.sort&&a){for(var o,l=a,c=0;c<s.columns.length;c++)if(s.columns[c].name==a){o=s.columns[c];break}if(o&&void 0!==o.sort&&!0!==o.sort&&!(l=o.sort))return;var d=this._sort&&this._sort.direction&&this._sort.name==a?this._sort.direction:"desc";d="desc"==d?"asc":"desc",this._sort={name:a,direction:d},this.sort(l,"desc"==d)}}else e.$services.getService("mouseEvents").callHandler("click","gantt_add",t.$grid,[i,s.root_id])}}),e),t.$grid),this._mouseDelegates.delegate("click","gantt_add",e.bind((function(i,n,r){if(!t.$getConfig().readonly)return this.createTask({},n||e.config.root_id),!1}),e),t.$grid)},clearEvents:function(t,e){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(e){t.$grid=e.$grid,t.$grid_scale=e.$grid_scale,t.$grid_data=e.$grid_data},extendGantt:function(e){t.getGridColumns=t.bind(e.getGridColumns,e),e.attachEvent("onColumnResizeStart",(function(){return t.callEvent("onColumnResizeStart",arguments)})),e.attachEvent("onColumnResize",(function(){return t.callEvent("onColumnResize",arguments)})),e.attachEvent("onColumnResizeEnd",(function(){return t.callEvent("onColumnResizeEnd",arguments)})),e.attachEvent("onColumnResizeComplete",(function(e,i){t.config.grid_width=i})),e.attachEvent("onBeforeRowResize",(function(){return t.callEvent("onBeforeRowResize",arguments)})),e.attachEvent("onRowResize",(function(){return t.callEvent("onRowResize",arguments)})),e.attachEvent("onBeforeRowResizeEnd",(function(){return t.callEvent("onBeforeRowResizeEnd",arguments)})),e.attachEvent("onAfterRowResize",(function(){return t.callEvent("onAfterRowResize",arguments)}))}}};const vn=function(){var t;return{extend:function(e){e.roundTaskDates=function(e){t.round_task_dates(e)}},init:function(e,i){return n=e,a=(r=i).$services,t={drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=r._createDomEventScope(),this.clear_drag_state();var t=r.config.drag_mode;this.set_actions(),a.getService("state").registerProvider("tasksDnd",et((function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}}),this));var e={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var i in this._events)for(var n in t)this._events[i][n]=e[i];this._handlers[t.move]=this._move,this._handlers[t.resize]=this._resize,this._handlers[t.progress]=this._resize_progress},set_actions:function(){var t=n.$task_data;this._domEvents.attach(t,"mousemove",r.bind((function(t){this.on_mouse_move(t)}),this)),this._domEvents.attach(t,"mousedown",r.bind((function(t){this.on_mouse_down(t)}),this)),this._domEvents.attach(document.body,"mouseup",r.bind((function(t){this.on_mouse_up(t)}),this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(t,e,i){var a=n.$getConfig(),s=this._drag_task_coords(t,i);i.left?(t.start_date=r.dateFromPos(s.start+e),t.start_date||(t.start_date=new Date(r.getState().min_date))):(t.end_date=r.dateFromPos(s.end+e),t.end_date||(t.end_date=new Date(r.getState().max_date)));var o=this._calculateMinDuration(a.min_duration,a.duration_unit);t.end_date-t.start_date<a.min_duration&&(i.left?t.start_date=r.calculateEndDate(t.end_date,-o,a.duration_unit,t):t.end_date=r.calculateEndDate(t.start_date,o,a.duration_unit,t)),r._init_task_timing(t)},_calculateMinDuration:function(t,e){return Math.ceil(t/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[e])},_resize_progress:function(t,e,i){var r=this._drag_task_coords(t,i),a=n.$getConfig().rtl?r.start-i.pos.x:i.pos.x-r.start,s=Math.max(0,a);t.progress=Math.min(1,s/Math.abs(r.end-r.start))},_find_max_shift:function(t,e){var i;for(var n in t){var a=t[n],s=r.getTask(a.id);if(!s.unscheduled){var o=this._drag_task_coords(s,a),l=r.posFromDate(new Date(r.getState().min_date)),c=r.posFromDate(new Date(r.getState().max_date));if(o.end+e>c){var d=c-o.end;(d<i||void 0===i)&&(i=d)}else if(o.start+e<l){var h=l-o.start;(h>i||void 0===i)&&(i=h)}}}return i},_move:function(t,e,i,n){var a=this._drag_task_coords(t,i),s=null,o=null;n?(s=new Date(+i.obj.start_date+n),o=new Date(+i.obj.end_date+n)):(s=r.dateFromPos(a.start+e),o=r.dateFromPos(a.end+e)),s?o?(t.start_date=s,t.end_date=o):(t.end_date=new Date(r.getState().max_date),t.start_date=r.dateFromPos(r.posFromDate(t.end_date)-(a.end-a.start))):(t.start_date=new Date(r.getState().min_date),t.end_date=r.dateFromPos(r.posFromDate(t.start_date)+(a.end-a.start)))},_drag_task_coords:function(t,e){return{start:e.obj_s_x=e.obj_s_x||r.posFromDate(t.start_date),end:e.obj_e_x=e.obj_e_x||r.posFromDate(t.end_date)}},_mouse_position_change:function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},_is_number:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},on_mouse_move:function(t){if(this.drag.start_drag){var e=b(t,r.$task_data),i=this.drag.start_drag.start_x,n=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(i)&&this._is_number(n)&&this._mouse_position_change({x:i,y:n},e)>20)&&this._start_dnd(t)}if(this.drag.mode){if(!wt(this,40))return;this._update_on_move(t)}},_update_item_on_move:function(t,e,i,n,a,s){var o=r.getTask(e),l=r.mixin({},o),c=r.mixin({},o);this._handlers[i].apply(this,[c,t,n,s]),r.mixin(o,c,!0),r.callEvent("onTaskDrag",[o.id,i,c,l,a]),r.mixin(o,c,!0),r.refreshTask(e)},_update_on_move:function(t){var e=this.drag,i=n.$getConfig();if(e.mode){var a=b(t,n.$task_data);if(e.pos&&e.pos.x==a.x)return;e.pos=a;var s=r.dateFromPos(a.x);if(!s||isNaN(s.getTime()))return;var o=a.x-e.start_x,l=r.getTask(e.id);if(this._handlers[e.mode]){if(e.mode===i.drag_mode.move){var c={};this._isMultiselect()&&r.getSelectedTasks().indexOf(e.id)>=0&&(c=this.dragMultiple);var d=!1;if(r.isSummaryTask(l)&&r.config.drag_project){var h={};h[e.id]=J(e),d=!0,c=Z(h,this.dragMultiple)}var u=this._find_max_shift(c,o);let i;if(void 0!==u&&(o=u),this._update_item_on_move(o,e.id,e.mode,e,t),void 0===u){const t=r.posFromDate(e.obj.start_date),n=r.posFromDate(e.obj.end_date);if(void 0===e.handle_offset){const i=n-t,r=e.start_x-t;e.handle_offset=r/i}let a=t+Math.abs(n-t)*e.handle_offset;i=s-r.dateFromPos(a)}for(var f in c){var p=c[f];d&&p.id!=e.id&&(r._bulk_dnd=!0),this._update_item_on_move(o,p.id,p.mode,p,t,i)}r._bulk_dnd=!1}else this._update_item_on_move(o,e.id,e.mode,e,t);r._update_parents(e.id)}}},on_mouse_down:function(t,e){if(2!=t.button||void 0===t.button){var i=n.$getConfig(),a=r.locate(t),s=null;if(r.isTaskExists(a)&&(s=r.getTask(a)),!r.isReadonly(s)&&!this.drag.mode){this.clear_drag_state();var o=l(e=e||t.target||t.srcElement),c=this._get_drag_mode(o,e);if(!o||!c)return e.parentNode?this.on_mouse_down(t,e.parentNode):void 0;if(c)if(c.mode&&c.mode!=i.drag_mode.ignore&&i["drag_"+c.mode]){if(a=r.locate(e),s=r.copy(r.getTask(a)||{}),r.isReadonly(s))return this.clear_drag_state(),!1;if(r.isSummaryTask(s)&&!1!==s.auto_scheduling&&!i.drag_project&&c.mode!=i.drag_mode.progress)return void this.clear_drag_state();c.id=a;var d=b(t,r.$task_data);c.start_x=d.x,c.start_y=d.y,c.obj=s,this.drag.start_drag=c,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(r.checkEvent("onMouseDown")&&r.callEvent("onMouseDown",[o.split(" ")[0]])&&e.parentNode)return this.on_mouse_down(t,e.parentNode)}}},_fix_dnd_scale_time:function(t,e){var i=n.$getConfig(),a=r.getScale().unit,s=r.getScale().step;function o(t){if(r.config.correct_work_time){var e=n.$getConfig();r.isWorkTime(t.start_date,void 0,t)||(t.start_date=r.calculateEndDate({start_date:t.start_date,duration:-1,unit:e.duration_unit,task:t}))}}i.round_dnd_dates||(a="minute",s=i.time_step),e.mode==i.drag_mode.resize?e.left?(t.start_date=r.roundDate({date:t.start_date,unit:a,step:s}),o(t)):(t.end_date=r.roundDate({date:t.end_date,unit:a,step:s}),function(t){if(r.config.correct_work_time){var e=n.$getConfig();r.isWorkTime(new Date(t.end_date-1),void 0,t)||(t.end_date=r.calculateEndDate({start_date:t.end_date,duration:1,unit:e.duration_unit,task:t}))}}(t)):e.mode==i.drag_mode.move&&(t.start_date=r.roundDate({date:t.start_date,unit:a,step:s}),o(t),t.end_date=r.calculateEndDate(t))},_fix_working_times:function(t,e){var i=n.$getConfig();(e=e||{mode:i.drag_mode.move}).mode==i.drag_mode.resize?e.left?t.start_date=r.getClosestWorkTime({date:t.start_date,dir:"future",task:t}):t.end_date=r.getClosestWorkTime({date:t.end_date,dir:"past",task:t}):e.mode==i.drag_mode.move&&r.correctTaskWorkTime(t)},_finalize_mouse_up:function(t,e,i,n){var a=r.getTask(t);if(e.work_time&&e.correct_work_time&&this._fix_working_times(a,i),this._fix_dnd_scale_time(a,i),this._fireEvent("before_finish",i.mode,[t,i.mode,r.copy(i.obj),n])){var s=t;r._init_task_timing(a),this.clear_drag_state(),r.updateTask(a.id),this._fireEvent("after_finish",i.mode,[s,i.mode,n])}else if(this.clear_drag_state(),t==i.id&&(i.obj._dhx_changed=!1,r.mixin(a,i.obj,!0)),r.refreshTask(a.id),a.$level>100){let t=!1;r.eachParent((function(e){if(!t&&e.type===r.config.types.project){const i={start_date:e.start_date,end_date:e.end_date};r.resetProjectDates(e),+i.start_date==+e.start_date&&+i.end_date==+e.end_date||(t=!0)}}),a.id),t&&r.refreshData()}else r.eachParent((function(t){if(t.type===r.config.types.project){const e={start_date:t.start_date,end_date:t.end_date};r.resetProjectDates(t),+e.start_date==+t.start_date&&+e.end_date==+t.end_date||r.refreshTask(t.id)}}),a.id)},on_mouse_up:function(t){var e=this.drag;if(e.mode&&e.id){var i=n.$getConfig(),a=r.getTask(e.id),s=this.dragMultiple,o=!1,l=0;e.mode===i.drag_mode.move&&(r.isSummaryTask(a)&&i.drag_project||this._isMultiselect())&&(o=!0,l=Object.keys(s).length);var c=function(){if(o)for(var n in s)s[n].id!=e.id&&this._finalize_mouse_up(s[n].id,i,s[n],t);this._finalize_mouse_up(e.id,i,e,t)};o&&l>10?r.batchUpdate(function(){c.call(this)}.bind(this)):c.call(this)}this.clear_drag_state()},_get_drag_mode:function(t,e){var i=n.$getConfig().drag_mode,r={mode:null,left:null};switch((t||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":r.mode=i.move;break;case"gantt_task_drag":r.mode=i.resize;var a=e.getAttribute("data-bind-property");r.left="start_date"==a;break;case"gantt_task_progress_drag":r.mode=i.progress;break;case"gantt_link_control":case"gantt_link_point":r.mode=i.ignore;break;default:r=null}return r},_start_dnd:function(t){var e=this.drag=this.drag.start_drag;delete e.start_drag;var i=n.$getConfig(),a=e.id;if(i["drag_"+e.mode]&&r.callEvent("onBeforeDrag",[a,e.mode,t])&&this._fireEvent("before_start",e.mode,[a,e.mode,t])){delete e.start_drag;var s=r.getTask(a);if(r.isReadonly(s))return void this.clear_drag_state();if(this._isMultiselect()){var o=r.getSelectedTasks();o.indexOf(e.id)>=0&&O(o,r.bind((function(t){var n=r.getTask(t);r.isSummaryTask(n)&&r.config.drag_project&&e.mode==i.drag_mode.move&&this._addSubtasksToDragMultiple(n.id),this.dragMultiple[t]=r.mixin({id:n.id,obj:r.copy(n)},this.drag)}),this))}r.isSummaryTask(s)&&r.config.drag_project&&e.mode==i.drag_mode.move&&this._addSubtasksToDragMultiple(s.id),r.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(t,e,i){r.assert(this._events[t],"Invalid stage:{"+t+"}");var n=this._events[t][e];return r.assert(n,"Unknown after drop mode:{"+e+"}"),r.assert(i,"Invalid event arguments"),!r.checkEvent(n)||r.callEvent(n,i)},round_task_dates:function(t){var e=this.drag,i=n.$getConfig();e||(e={mode:i.drag_mode.move}),this._fix_dnd_scale_time(t,e)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return r.config.drag_multiple&&!!(r.getSelectedTasks&&r.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(t){r.eachTask((function(t){this.dragMultiple[t.id]=r.mixin({id:t.id,obj:r.copy(t)},this.drag)}),t,this)}},e._tasks_dnd=t,t.init(i);var n,r,a},destructor:function(){t&&(t.destructor(),t=null)}}};var yn=function(t,e){var i,n,r,a,s;function o(){return{link_source_id:a,link_target_id:n,link_from_start:s,link_to_start:r,link_landing_area:i}}var l=e.$services,c=l.getService("state"),d=l.getService("dnd");c.registerProvider("linksDnD",o);var h="gantt_link_point",u="gantt_link_control",f=new d(t.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:e.$root,selector:"."+h,preventDefault:!0});function p(t){var i=o();i.link_source_id&&i.link_target_id&&e.isLinkAllowed(i.link_source_id,i.link_target_id,i.link_from_start,i.link_to_start);var n="<div class='"+e.templates.drag_link_class(i.link_source_id,i.link_from_start,i.link_target_id,i.link_to_start)+"'>"+e.templates.drag_link(i.link_source_id,i.link_from_start,i.link_target_id,i.link_to_start)+"</div>";t.innerHTML=n}function g(){a=s=n=null,r=!0}function _(i,n,r,a){var s=(f._direction&&f._direction.parentNode||(f._direction=document.createElement("div"),t.$task_links.appendChild(f._direction)),f._direction),l=o(),c=["gantt_link_direction"];e.templates.link_direction_class&&c.push(e.templates.link_direction_class(l.link_source_id,l.link_from_start,l.link_target_id,l.link_to_start));var d,h,u=Math.sqrt(Math.pow(r-i,2)+Math.pow(a-n,2));if(u=Math.max(0,u-3)){s.className=c.join(" ");var p=(a-n)/(r-i),g=Math.atan(p);2==v(i,r,n,a)?g+=Math.PI:3==v(i,r,n,a)&&(g-=Math.PI);var m=Math.sin(g),_=Math.cos(g),y=Math.round(n),b=Math.round(i),k=["-webkit-transform: rotate("+g+"rad)","-moz-transform: rotate("+g+"rad)","-ms-transform: rotate("+g+"rad)","-o-transform: rotate("+g+"rad)","transform: rotate("+g+"rad)","width:"+Math.round(u)+"px"];if(-1!=window.navigator.userAgent.indexOf("MSIE 8.0")){k.push('-ms-filter: "'+("progid:DXImageTransform.Microsoft.Matrix(M11 = "+(h=_)+",M12 = -"+(d=m)+",M21 = "+d+",M22 = "+h+",SizingMethod = 'auto expand')\""));var x=Math.abs(Math.round(i-r)),w=Math.abs(Math.round(a-n));switch(v(i,r,n,a)){case 1:y-=w;break;case 2:b-=x,y-=w;break;case 3:b-=x}}k.push("top:"+y+"px"),k.push("left:"+b+"px"),s.style.cssText=k.join(";")}}function v(t,e,i,n){return e>=t?n<=i?1:4:n<=i?2:3}f.attachEvent("onBeforeDragStart",e.bind((function(t,i){var n=i.target||i.srcElement;if(g(),e.getState("tasksDnd").drag_id)return!1;if(y(n,h)){y(n,"task_start_date")&&(s=!0);var r=e.locate(i);a=r;var o=e.getTask(r);return e.isReadonly(o)?(g(),!1):(this._dir_start={x:f.config.original_element_sizes.x+f.config.original_element_sizes.width/2,y:f.config.original_element_sizes.y+f.config.original_element_sizes.height/2},!0)}return!1}),this)),f.attachEvent("onAfterDragStart",e.bind((function(t,i){e.config.touch&&e.refreshData(),p(f.config.marker)}),this)),f.attachEvent("onDragMove",e.bind((function(a,s){var o,l,c=f.config,d=function(t,i){var n,r,a,s,o=f.getPosition(t),l=(a=0,s=0,(r=i)&&(a=r.offsetWidth||0,s=r.offsetHeight||0),{width:a,height:s}),c=(n=e.$root).offsetWidth,d=n.offsetHeight,h=e.config.tooltip_offset_x||10,u=e.config.tooltip_offset_y||10,p=e.config.scroll_size||18,g=e.$container.getBoundingClientRect().y+window.scrollY,m={y:o.y+u,x:o.x+h,bottom:o.y+l.height+u+p,right:o.x+l.width+h+p};return m.bottom>d+g&&(m.y=d+g-l.height-u),m.right>c&&(m.x=c-l.width-h),m}(s,c.marker);o=c.marker,l=d,o.style.left=l.x+"px",o.style.top=l.y+"px";var g=!!y(s,u),v=n,w=i,S=r,T=e.locate(s),E=!0;if(x(m(s),e.$root)||(g=!1,T=null),g&&(E=!y(s,"task_end_date"),g=!!T),n=T,i=g,r=E,g){const e=y(s,u).querySelector(`.${h}`);if(e){const i=k(e,t.$task_bg);this._dir_end={x:i.x+e.offsetWidth/2,y:i.y+e.offsetHeight/2}}}else this._dir_end=b(s,t.$task_data),e.env.isEdge&&(this._dir_end.y+=window.scrollY);var C=!(w==g&&v==T&&S==E);return C&&(v&&e.refreshTask(v,!1),T&&e.refreshTask(T,!1)),C&&p(c.marker),_(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0}),this)),f.attachEvent("onDragEnd",e.bind((function(){var t=o();if(t.link_source_id&&t.link_target_id&&t.link_source_id!=t.link_target_id){var i=e._get_link_type(t.link_from_start,t.link_to_start),n={source:t.link_source_id,target:t.link_target_id,type:i};n.type&&e.isLinkAllowed(n)&&e.callEvent("onLinkCreated",[n])&&e.addLink(n)}g(),e.config.touch?e.refreshData():(t.link_source_id&&e.refreshTask(t.link_source_id,!1),t.link_target_id&&e.refreshTask(t.link_target_id,!1)),f._direction&&(f._direction.parentNode&&f._direction.parentNode.removeChild(f._direction),f._direction=null)}),this)),e.attachEvent("onGanttRender",e.bind((function(){f._direction&&_(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)}),this))};var bn=function(t){var e=t.$services;return{onCreated:function(e){var i=e.$config;i.bind=Q(i.bind)?i.bind:"task",i.bindLinks=Q(i.bindLinks)?i.bindLinks:"link",e._linksDnD={init:yn},e._tasksDnD=vn(),e._tasksDnD.extend(e),this._mouseDelegates=Fi(t)},onInitialized:function(e){this._attachDomEvents(t),this._attachStateProvider(t,e),e._tasksDnD.init(e,t),e._linksDnD.init(e,t),"timeline"==e.$config.id&&this.extendDom(e)},onDestroyed:function(e){this._clearDomEvents(t),this._clearStateProvider(t),e._tasksDnD&&e._tasksDnD.destructor()},extendDom:function(e){t.$task=e.$task,t.$task_scale=e.$task_scale,t.$task_data=e.$task_data,t.$task_bg=e.$task_bg,t.$task_links=e.$task_links,t.$task_bars=e.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(t){function e(e,i){if(e&&this.callEvent("onLinkDblClick",[e,i])){var n=this.getLink(e);if(this.isReadonly(n))return;var r=this.locale.labels.link+" "+this.templates.link_description(this.getLink(e))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout((function(){t._delete_link_confirm({link:n,message:r,title:"",callback:function(){t.deleteLink(e)}})}),this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",t.bind((function(t,e){var i=this.locate(t,this.config.link_attribute);i&&this.callEvent("onLinkClick",[i,t])}),t),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",t.bind((function(e,i){var n=b(e,t.$task_data),r=t.dateFromPos(n.x),a=Math.floor(t.columnIndexByDate(r)),s=t.getScale().trace_x[a];t.callEvent("onScaleClick",[e,s])}),t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",t.bind((function(i,n,r){n=this.locate(i,t.config.link_attribute),e.call(this,n,i)}),t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",t.bind((function(t,i,n){i=this.locate(t);var r=this.getTask(i),a=null;return n.parentNode&&l(n.parentNode)&&(a=l(n.parentNode).indexOf("_left")>-1?r.$target[0]:r.$source[0]),a&&e.call(this,a,t),!1}),t),this.$task)},_attachStateProvider:function(t,i){var n=i;e.getService("state").registerProvider("tasksTimeline",(function(){return{scale_unit:n._tasks?n._tasks.unit:void 0,scale_step:n._tasks?n._tasks.step:void 0}}))},_clearStateProvider:function(){e.getService("state").unregisterProvider("tasksTimeline")}}},kn=function(t){return{getVerticalScrollbar:function(){return t.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return t.$ui.getView("scrollHor")},_legacyGridResizerClass:function(t){for(var e=t.getCellsByType("resizer"),i=0;i<e.length;i++){var n=e[i],r=!1,a=n.$parent.getPrevSibling(n.$id);if(a&&a.$config&&"grid"===a.$config.id)r=!0;else{var s=n.$parent.getNextSibling(n.$id);s&&s.$config&&"grid"===s.$config.id&&(r=!0)}r&&(n.$config.css=(n.$config.css?n.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(e){var i=!0;this._legacyGridResizerClass(e),e.attachEvent("onBeforeResize",(function(){var n=t.$ui.getView("timeline");n&&(n.$config.hidden=n.$parent.$config.hidden=!t.config.show_chart);var r=t.$ui.getView("grid");if(r){var a=r._getColsTotalWidth(),s=!t.config.show_grid||!t.config.grid_width||0===a;if(i&&!s&&!1!==a&&(t.config.grid_width=a),r.$config.hidden=r.$parent.$config.hidden=s,!r.$config.hidden){var o=r._getGridWidthLimits();if(o[0]&&t.config.grid_width<o[0]&&(t.config.grid_width=o[0]),o[1]&&t.config.grid_width>o[1]&&(t.config.grid_width=o[1]),n&&t.config.show_chart){if(r.$config.width=t.config.grid_width-1,!r.$config.scrollable&&r.$config.scrollY&&t.$root.offsetWidth){var l=r.$gantt.$layout.$container.offsetWidth,c=t.$ui.getView(r.$config.scrollY).$config.width,d=l-(r.$config.width+c)-4;d<0&&(r.$config.width+=d,t.config.grid_width+=d)}if(i)r.$parent.$config.width=t.config.grid_width,r.$parent.$config.group&&t.$layout._syncCellSizes(r.$parent.$config.group,{value:r.$parent.$config.width,isGravity:!1});else if(n&&!x(n.$task,e.$view)){if(!r.$config.original_grid_width){var h=t.skins[t.skin];h&&h.config&&h.config.grid_width?r.$config.original_grid_width=h.config.grid_width:r.$config.original_grid_width=0}t.config.grid_width=r.$config.original_grid_width,r.$parent.$config.width=t.config.grid_width}else r.$parent._setContentSize(r.$config.width,null),t.$layout._syncCellSizes(r.$parent.$config.group,{value:t.config.grid_width,isGravity:!1})}else n&&x(n.$task,e.$view)&&(r.$config.original_grid_width=t.config.grid_width),i||(r.$parent.$config.width=0)}i=!1}})),this._initScrollStateEvents(e)},_initScrollStateEvents:function(e){t._getVerticalScrollbar=this.getVerticalScrollbar,t._getHorizontalScrollbar=this.getHorizontalScrollbar;var i=this.getVerticalScrollbar(),n=this.getHorizontalScrollbar();i&&i.attachEvent("onScroll",(function(e,i,n){var r=t.getScrollState();t.callEvent("onGanttScroll",[r.x,e,r.x,i])})),n&&n.attachEvent("onScroll",(function(e,i,n){var r=t.getScrollState();t.callEvent("onGanttScroll",[e,r.y,i,r.y]);var a=t.$ui.getView("grid");a&&a.$grid_data&&!a.$config.scrollable&&(a.$grid_data.style.left=a.$grid.scrollLeft+"px",a.$grid_data.scrollLeft=a.$grid.scrollLeft)})),e.attachEvent("onResize",(function(){i&&!t.$scroll_ver&&(t.$scroll_ver=i.$scroll_ver),n&&!t.$scroll_hor&&(t.$scroll_hor=n.$scroll_hor)}))},_findGridResizer:function(t,e){for(var i,n=t.getCellsByType("resizer"),r=!0,a=0;a<n.length;a++){var s=n[a];s._getSiblings();var o=s._behind,l=s._front;if(o&&o.$content===e||o.isChild&&o.isChild(e)){i=s,r=!0;break}if(l&&l.$content===e||l.isChild&&l.isChild(e)){i=s,r=!1;break}}return{resizer:i,gridFirst:r}},onInitialized:function(e){var i=t.$ui.getView("grid"),n=this._findGridResizer(e,i);if(n.resizer){var r,a=n.gridFirst,s=n.resizer;if("x"!==s.$config.mode)return;s.attachEvent("onResizeStart",(function(e,i){var n=t.$ui.getView("grid"),s=n?n.$parent:null;if(s){var o=n._getGridWidthLimits();n.$config.scrollable||(s.$config.minWidth=o[0]),s.$config.maxWidth=o[1]}return r=a?e:i,t.callEvent("onGridResizeStart",[r])})),s.attachEvent("onResize",(function(e,i){var n=a?e:i;return t.callEvent("onGridResize",[r,n])})),s.attachEvent("onResizeEnd",(function(e,i,n,r){var s=a?e:i,o=a?n:r,l=t.$ui.getView("grid"),c=l?l.$parent:null;c&&(c.$config.minWidth=void 0);var d=t.callEvent("onGridResizeEnd",[s,o]);return d&&0!==o&&(t.config.grid_width=o),d}))}},onDestroyed:function(t){}}};const xn=function(t){function e(e,i){var n=i(t);n.onCreated&&n.onCreated(e),e.attachEvent("onReady",(function(){n.onInitialized&&n.onInitialized(e)})),e.attachEvent("onDestroy",(function(){n.onDestroyed&&n.onDestroyed(e)}))}var i=fi(t);i.registerView("cell",Ei),i.registerView("resizer",null),i.registerView("scrollbar",$i),i.registerView("layout",Mi,(function(t){"main"===(t.$config?t.$config.id:null)&&e(t,kn)})),i.registerView("viewcell",Ai),i.registerView("multiview",Pi),i.registerView("timeline",Ii,(function(t){"timeline"!==(t.$config?t.$config.id:null)&&"task"!=t.$config.bind||e(t,bn)})),i.registerView("grid",Ni,(function(t){"grid"!==(t.$config?t.$config.id:null)&&"task"!=t.$config.bind||e(t,_n)})),i.registerView("resourceGrid",Ni),i.registerView("resourceTimeline",Ii),i.registerView("resourceHistogram",Ii);var n,r,a=(r=function(t){var e=function(t){var e={},i={};function n(e){var i=null;return"string"==typeof e.view?i=t.$ui.getView(e.view):e.view&&(i=e.view),i}function r(r,a,s){if(i[r])return i[r];a.renderer||t.assert(!1,"Invalid renderer call");var o=null,l=null,c=null,d=null,h=null;"function"==typeof a.renderer?(o=a.renderer,c=yi):(o=a.renderer.render,l=a.renderer.update,d=a.renderer.onrender,a.renderer.isInViewPort?h=a.renderer.isInViewPort:c=a.renderer.getRectangle,c||null===c||(c=yi));var u=a.filter;return s&&s.setAttribute(t.config.layer_attribute,!0),i[r]={render_item:function(e,i,r,l,f){if(i=i||s,!u||u(e)){var p=l||n(a),g=f||(p?p.$getConfig():null),m=r;!m&&g&&g.smart_rendering&&(m=p.getViewPort());var _=null;!vi(t)&&(c||h)&&m?(h?h(e,m,p,g,t):_i(m,c(e,p,g,t)))&&(_=o.call(t,e,p,g,m)):_=o.call(t,e,p,g,m),this.append(e,_,i);var v=11==i.nodeType;d&&!v&&_&&d.call(t,e,_,p)}else this.remove_item(e.id)},clear:function(t){this.rendered=e[r]={},a.append||this.clear_container(t)},clear_container:function(t){(t=t||s)&&(t.innerHTML="")},get_visible_range:function(e){var i,r,s=n(a),o=s?s.$getConfig():null;return o&&o.smart_rendering&&(i=s.getViewPort()),s&&i&&("function"==typeof a.renderer?r=bi(t,s,0,e,i):a.renderer&&a.renderer.getVisibleRange&&(r=a.renderer.getVisibleRange(t,s,o,e,i))),r||(r={start:0,end:e.count()}),r},prepare_data:function(e){if(a.renderer&&a.renderer.prepareData)return a.renderer.prepareData(e,t,a)},render_items:function(e,i){i=i||s;var r=document.createDocumentFragment();this.clear(i);var o=null,l=n(a),c=l?l.$getConfig():null;c&&c.smart_rendering&&(o=l.getViewPort());for(var h=0,u=e.length;h<u;h++)this.render_item(e[h],r,o,l,c);i.appendChild(r,i);var f={};e.forEach((function(t){f[t.id]=t}));var p={};if(d){var g={};for(var h in this.rendered)p[h]||(g[h]=this.rendered[h],d.call(t,f[h],this.rendered[h],l))}},update_items:function(e,i){var r=n(a),o=r?r.$getConfig():null;if(r&&r.$getConfig().smart_rendering&&!vi(t)&&this.rendered&&(c||h)){i=i||s;var u=document.createDocumentFragment(),f=null;r&&(f=r.getViewPort());var p={};e.forEach((function(t){p[t.id]=t}));var g={},m={};for(var _ in this.rendered)m[_]=!0,g[_]=!0;for(var v={},y=(_=0,e.length);_<y;_++){var b=e[_],k=this.rendered[b.id];m[b.id]=!1,k&&k.parentNode?(h?h(b,f,r,o,t):_i(f,c(b,r,o,t)))?(l&&l.call(t,b,k,r,o,f),this.restore(b,u)):m[b.id]=!0:(v[e[_].id]=!0,this.render_item(e[_],u,f,r,o))}for(var _ in m)m[_]&&this.hide(_);if(u.childNodes.length&&i.appendChild(u,i),d){var x={};for(var _ in this.rendered)g[_]&&!v[_]||(x[_]=this.rendered[_],d.call(t,p[_],this.rendered[_],r))}}},append:function(t,e,i){this.rendered&&(e?(this.rendered[t.id]&&this.rendered[t.id].parentNode?this.replace_item(t.id,e):i.appendChild(e),this.rendered[t.id]=e):this.rendered[t.id]&&this.remove_item(t.id))},replace_item:function(t,e){var i=this.rendered[t];i&&i.parentNode&&i.parentNode.replaceChild(e,i),this.rendered[t]=e},remove_item:function(t){this.hide(t),delete this.rendered[t]},hide:function(t){var e=this.rendered[t];e&&e.parentNode&&e.parentNode.removeChild(e),delete this.rendered[t]},restore:function(t,e){var i=this.rendered[t.id];i?i.parentNode||this.append(t,i,e||s):this.render_item(t,e||s)},change_id:function(t,e){this.rendered[e]=this.rendered[t],delete this.rendered[t]},rendered:e[r],node:s,destructor:function(){this.clear(),delete i[r],delete e[r]}},i[r]}return{getRenderer:r,clearRenderers:function(){for(var t in i)r(t).destructor()}}}(t);return{createGroup:function(i,n,r,a){var s={tempCollection:[],renderers:{},container:i,filters:[],getLayers:function(){this._add();var t=[];for(var e in this.renderers)t.push(this.renderers[e]);return t},getLayer:function(t){return this.renderers[t]},_add:function(i){i&&(i.id=i.id||tt(),this.tempCollection.push(i));const r=this.container(),s=this.tempCollection;for(let o=0;o<s.length;o++){if(i=s[o],!(this.container()||i&&i.container&&i.container.isConnected))continue;let l=i.container,c=i.id,d=i.topmost;if(!l.parentNode)if(d)r.appendChild(l);else{let t=n?n():r.firstChild;t&&t.parentNode==r?r.insertBefore(l,t):r.appendChild(l)}this.renderers[c]=e.getRenderer(c,i,l),a&&a(i,t),this.tempCollection.splice(o,1),o--}},addLayer:function(e){if(e){"function"==typeof e&&(e={renderer:e}),void 0===e.filter?e.filter=ki(r||[]):e.filter instanceof Array&&(e.filter.push(r),e.filter=ki(e.filter)),e.container||(e.container=document.createElement("div"));var i=this;e.requestUpdate=function(){t.config.smart_rendering&&!vi(t)&&i.renderers[e.id]&&i.onUpdateRequest(i.renderers[e.id])}}return this._add(e),e?e.id:void 0},onUpdateRequest:function(t){},eachLayer:function(t){for(var e in this.renderers)t(this.renderers[e])},removeLayer:function(t){this.renderers[t]&&(this.renderers[t].destructor(),delete this.renderers[t])},clear:function(){for(var t in this.renderers)this.renderers[t].destructor();this.renderers={}}};return t.attachEvent("onDestroy",(function(){s.clear(),s=null})),s}}}(n=t),{getDataRender:function(t){return n.$services.getService("layer:"+t)||null},createDataRender:function(t){var e=t.name,i=t.defaultContainer,a=t.defaultContainerSibling,s=r.createGroup(i,a,(function(t,e){if(!s.filters)return!0;for(var i=0;i<s.filters.length;i++)if(!1===s.filters[i](t,e))return!1}),Ti);return n.$services.setService("layer:"+e,(function(){return s})),n.attachEvent("onGanttReady",(function(){s.addLayer()})),s},init:function(){var t=this.createDataRender({name:"task",defaultContainer:function(){return n.$task_data?n.$task_data:n.$ui.getView("timeline")?n.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return n.$task_links?n.$task_links:n.$ui.getView("timeline")?n.$ui.getView("timeline").$task_links:void 0},filter:function(t){}},n),e=this.createDataRender({name:"link",defaultContainer:function(){return n.$task_data?n.$task_data:n.$ui.getView("timeline")?n.$ui.getView("timeline").$task_data:void 0}},n);return{addTaskLayer:function(e){const i=bi;return"function"==typeof e?e={renderer:{render:e,getVisibleRange:i}}:e.renderer&&!e.renderer.getVisibleRange&&(e.renderer.getVisibleRange=i),e.view="timeline",t.addLayer(e)},_getTaskLayers:function(){return t.getLayers()},removeTaskLayer:function(e){t.removeLayer(e)},_clearTaskLayers:function(){t.clear()},addLinkLayer:function(t){const i=wi();return"function"==typeof t?t={renderer:{render:t,getVisibleRange:i}}:t.renderer&&!t.renderer.getVisibleRange&&(t.renderer.getVisibleRange=i),t.view="timeline",t&&t.renderer&&(t.renderer.getRectangle||t.renderer.isInViewPort||(t.renderer.isInViewPort=Si)),e.addLayer(t)},_getLinkLayers:function(){return e.getLayers()},removeLinkLayer:function(t){e.removeLayer(t)},_clearLinkLayers:function(){e.clear()}}}}),s=Xi(t);return t.ext.inlineEditors=s,t.ext._inlineEditors=s,s.init(t),{factory:i,mouseEvents:mi.init(t),layersApi:a.init(),render:{gridLine:function(){return function(t){return{render:function(e,i,n,r){for(var a=i.getGridColumns(),s=i.$getTemplates(),o=i.$config.rowStore,l=[],c=0;c<a.length;c++){var d,h,u,f=c==a.length-1,p=a[c];"add"==p.name?(h="<div "+(b=t._waiAria.gridAddButtonAttrString(p))+" class='gantt_add'></div>",u=""):(B(h=p.template?p.template(e):e[p.name])&&(h=s.date_grid(h,e,p.name)),null==h&&(h=""),u=h,h="<div class='gantt_tree_content'>"+h+"</div>");var g="gantt_cell"+(f?" gantt_last_cell":""),m=[];if(p.tree){g+=" gantt_cell_tree";for(var _=0;_<e.$level;_++)m.push(s.grid_indent(e));!o.hasChild(e.id)||t.isSplitTask(e)&&!t.config.open_split_tasks?(m.push(s.grid_blank(e)),m.push(s.grid_file(e))):(m.push(s.grid_open(e)),m.push(s.grid_folder(e)))}var v="width:"+(p.width-(f?1:0))+"px;";if(this.defined(p.align)){var y={right:"flex-end",left:"flex-start",center:"center"}[p.align];v+="text-align:"+p.align+";justify-content:"+y+";"}var b=t._waiAria.gridCellAttrString(p,u,e);m.push(h),d="<div class='"+g+"' data-column-index='"+c+"' data-column-name='"+p.name+"' style='"+v+"' "+b+">"+m.join("")+"</div>",l.push(d)}switch(g="",o.$config.name){case"task":g=t.getGlobalTaskIndex(e.id)%2==0?"":" odd";break;case"resource":g=o.visibleOrder.indexOf(e.id)%2==0?"":" odd"}if(g+=e.$transparent?" gantt_transparent":"",g+=e.$dataprocessor_class?" "+e.$dataprocessor_class:"",s.grid_row_class){var k=s.grid_row_class.call(t,e.start_date,e.end_date,e);k&&(g+=" "+k)}o.isSelected(e.id)&&(g+=" gantt_selected");var x=document.createElement("div");x.className="gantt_row"+g+" gantt_row_"+t.getTaskType(e.type);var w=i.getItemHeight(e.id);return x.style.height=w+"px",x.style.lineHeight=w+"px",n.smart_rendering&&(x.style.position="absolute",x.style.left="0px",x.style.top=i.getItemTop(e.id)+"px"),i.$config.item_attribute&&(x.setAttribute(i.$config.item_attribute,e.id),x.setAttribute(i.$config.bind+"_id",e.id)),t._waiAria.taskRowAttr(e,x),x.innerHTML=l.join(""),x},update:null,getRectangle:yi,isInViewPort:an,getVisibleRange:bi,onrender:function(e,i,n){for(var r=n.getGridColumns(),a=0;a<r.length;a++){var s=r[a];if(s.onrender){var o=i.querySelector(`[data-column-name="${s.name}"]`);if(o){var l=s.onrender(e,o);if(l&&"string"==typeof l)o.innerHTML=l;else if(l&&"object"==typeof l&&t.config.external_render){var c=t.config.external_render;c.isElement(l)&&c.renderElement(l,o)}}}}}}}(t)},taskBg:function(){return function(t){var e={},i={};function n(t,i){return!(!e[t.id][i]||!e[t.id][i].parentNode)}function r(t,i){e[t]&&e[t][i]&&e[t][i].parentNode&&e[t][i].parentNode.removeChild(e[t][i])}function a(t){var e,i=t.$getTemplates();return void 0!==i.task_cell_class?(e=i.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):e=i.timeline_cell_class,e}function s(t){return t.$getTemplates().timeline_cell_content}function o(n,r,a,s,o,l,c,d){var h=n.width[r],u="";if(nn(r,n,s,t)){var f=l(a,n.trace_x[r]),p="";if(c&&(p=c(a,n.trace_x[r])),d.static_background){var g=!(!f&&!p);if(!d.static_background_cells||!g)return null}if(e[a.id][r])return i[a.id][r]=r,e[a.id][r];var m=document.createElement("div");return m.style.width=h+"px",u="gantt_task_cell"+(r==o-1?" gantt_last_cell":""),f&&(u+=" "+f),m.className=u,p&&(m.innerHTML=p),m.style.position="absolute",m.style.left=n.left[r]+"px",e[a.id][r]=m,i[a.id][r]=r,m}return null}return{render:function(n,r,l,c){var d=r.$getTemplates(),h=r.getScale(),u=h.count;if(l.static_background&&!l.static_background_cells)return null;var f,p=document.createElement("div"),g=a(r),m=s(r);if(f=c&&l.smart_rendering&&!vi(t)?en(h,c.x):{start:0,end:u-1},l.show_task_cells){e[n.id]={},i[n.id]={};for(var _=f.start;_<=f.end;_++){var v=o(h,_,n,c,u,g,m,l);v&&p.appendChild(v)}}const y=r.$config.rowStore,b=y.getIndexById(n.id)%2!=0;var k=d.task_row_class(n.start_date,n.end_date,n),x="gantt_task_row"+(b?" odd":"")+(k?" "+k:"");if(y.isSelected(n.id)&&(x+=" gantt_selected"),p.className=x,l.smart_rendering?(p.style.position="absolute",p.style.top=r.getItemTop(n.id)+"px",p.style.width="100%"):p.style.position="relative",p.style.height=r.getItemHeight(n.id)+"px","timeline_placeholder_task"==n.id){var w=0;n.lastTaskId&&(w=r.getItemTop(n.lastTaskId)+r.getItemHeight(n.lastTaskId));var S=(n.row_height||r.$task_data.offsetHeight)-w;S<0&&(S=0),l.smart_rendering&&(p.style.top=w+"px"),p.style.height=S+"px"}return r.$config.item_attribute&&(p.setAttribute(r.$config.item_attribute,n.id),p.setAttribute(r.$config.bind+"_id",n.id)),p},update:function(t,l,c,d,h){var u=c.getScale(),f=u.count,p=a(c),g=s(c);if(d.show_task_cells){e[t.id]||(e[t.id]={}),i[t.id]||(i[t.id]={});var m=en(u,h);for(var _ in i[t.id]){var v=i[t.id][_];(Number(v)<m.start||Number(v)>m.end)&&r(t.id,v)}i[t.id]={};for(var y=m.start;y<=m.end;y++){var b=o(u,y,t,h,f,p,g,d);!b&&n(t,y)?r(t.id,y):b&&!b.parentNode&&l.appendChild(b)}}},getRectangle:tn,getVisibleRange:bi,prepareData:rn}}(t)},taskBar:function(){return Zi(t)},timedProjectBar:function(){return Zi(t)},taskRollupBar:function(){return function(t){const e=Ji(t),i={};function n(t,e,i,n,r){let a=!0;return n.smart_rendering&&(a=Ki(t,e,i)),a}function r(i,n,r,a){const s=t.copy(t.getTask(n.id));if(s.$rendered_at=i.id,!1===t.callEvent("onBeforeRollupTaskDisplay",[s.id,s,i.id]))return;const o=e(s,r);if(!o)return;const l=r.getBarHeight(i.id,n.type==t.config.types.milestone),c=Math.floor((r.getItemHeight(i.id)-l)/2);return o.style.top=a.top+c+"px",o.classList.add("gantt_rollup_child"),o.setAttribute("data-rollup-parent-id",i.id),o}function a(t,e){return t+"_"+e}return{render:function(e,s,o,l){if(!1!==e.rollup&&e.$rollup&&e.$rollup.length){const c=document.createElement("div"),d=t.getTaskPosition(e);return l&&(l.y=0,l.y_end=t.$task_bg.scrollHeight),e.$rollup.forEach((function(h){if(!t.isTaskExists(h))return;const u=t.getTask(h);if(!n(u,l,s,o))return;const f=r(e,u,s,d);f?(i[a(u.id,e.id)]=f,c.appendChild(f)):i[a(u.id,e.id)]=!1})),c}return!1},update:function(e,s,o,l,c){const d=document.createElement("div"),h=t.getTaskPosition(e);c.y=0,c.y_end=t.$task_bg.scrollHeight,e.$rollup.forEach((function(u){const f=t.getTask(u),p=a(f.id,e.id);let g=n(f,c,o,l);if(g!==!!i[p])if(g){const t=r(e,f,o,h);i[p]=t||!1}else i[p]=!1;i[p]&&d.appendChild(i[p]),s.innerHTML="",s.appendChild(d)}))},isInViewPort:Ki,getVisibleRange:bi}}(t)},taskSplitBar:function(){return Qi()},taskConstraints:function(){return Qi()},taskDeadline:function(){return Qi()},taskBaselines:function(){return Qi()},link:function(){return function(t){var e={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(e){this.current_pos=t.copy(e)},get_lines:function(t){this.clear(),this.point(t[0]);for(var e=1;e<t.length;e++)this.line_to(t[e]);return this.get_path()},line_to:function(e){var i=t.copy(e),n=this.current_pos,r=this._get_line(n,i);this.path.push(r),this.current_pos=i},get_path:function(){return this.path},get_wrapper_sizes:function(t,e,i){var n,r=e.$getConfig().link_wrapper_width,a=t.y-r/2;switch(t.direction){case this.dirs.left:n={top:a,height:r,lineHeight:r,left:t.x-t.size-r/2,width:t.size+r};break;case this.dirs.right:n={top:a,lineHeight:r,height:r,left:t.x-r/2,width:t.size+r};break;case this.dirs.up:n={top:a-t.size,lineHeight:t.size+r,height:t.size+r,left:t.x-r/2,width:r};break;case this.dirs.down:n={top:a,lineHeight:t.size+r,height:t.size+r,left:t.x-r/2,width:r}}return n},get_line_sizes:function(t,e){var i,n=e.$getConfig(),r=n.link_line_width,a=n.link_wrapper_width,s=t.size+r;switch(t.direction){case this.dirs.left:case this.dirs.right:i={height:r,width:s,marginTop:(a-r)/2,marginLeft:(a-r)/2};break;case this.dirs.up:case this.dirs.down:i={height:s,width:r,marginTop:(a-r)/2,marginLeft:(a-r)/2}}return i},render_line:function(t,e,i,n){var r=this.get_wrapper_sizes(t,i,n),a=document.createElement("div");a.style.cssText=["top:"+r.top+"px","left:"+r.left+"px","height:"+r.height+"px","width:"+r.width+"px"].join(";"),a.className="gantt_line_wrapper";var s=this.get_line_sizes(t,i),o=document.createElement("div");return o.style.cssText=["height:"+s.height+"px","width:"+s.width+"px","margin-top:"+s.marginTop+"px","margin-left:"+s.marginLeft+"px"].join(";"),o.className="gantt_link_line_"+t.direction,a.appendChild(o),a},render_corner:function(t,e){const i=t.radius,n=e.$getConfig(),r=n.link_line_width||2,a=document.createElement("div");let s,o;return a.classList.add("gantt_link_corner"),a.classList.add(`gantt_link_corner_${t.direction.from}_${t.direction.to}`),a.style.width=`${i}px`,a.style.height=`${i}px`,"right"===t.direction.from&&"down"===t.direction.to?(s="Right",o="Top",a.style.left=t.x-n.link_line_width/2+"px",a.style.top=`${t.y}px`):"down"===t.direction.from&&"right"===t.direction.to?(s="Left",o="Bottom",a.style.left=t.x-n.link_line_width/2+"px",a.style.top=`${t.y}px`):"right"===t.direction.from&&"up"===t.direction.to?(s="Right",o="Bottom",a.style.left=t.x-n.link_line_width/2+"px",a.style.top=t.y-i+"px"):"up"===t.direction.from&&"right"===t.direction.to?(s="Left",o="Top",a.style.left=t.x-n.link_line_width/2+"px",a.style.top=t.y-i+"px"):"left"===t.direction.from&&"down"===t.direction.to?(s="Left",o="Top",a.style.left=t.x-i-n.link_line_width/2+"px",a.style.top=`${t.y}px`):"down"===t.direction.from&&"left"===t.direction.to?(s="Right",o="Bottom",a.style.left=t.x-i-n.link_line_width/2+"px",a.style.top=`${t.y}px`):"left"===t.direction.from&&"up"===t.direction.to?(s="Left",o="Bottom",a.style.left=t.x-i-n.link_line_width/2+"px",a.style.top=t.y-i+"px"):"up"===t.direction.from&&"left"===t.direction.to&&(s="Right",o="Top",a.style.left=t.x-i-n.link_line_width/2+"px",a.style.top=t.y-i+"px"),a.style[`border${o}Width`]=`${r}px`,a.style[`border${s}Width`]=`${r}px`,a.style[`border${s}Style`]="solid",a.style[`border${o}Style`]="solid",a.style[`border${o}${s}Radius`]=`${i}px`,a},render_arrow(t,e){var i=document.createElement("div"),n=t.y,r=t.x,a=e.link_arrow_size;i.style.setProperty("--dhx-gantt-icon-size",`${a}px`);var s="gantt_link_arrow gantt_link_arrow_"+t.direction;return i.style.top=n+"px",i.style.left=r+"px",i.className=s,i},_get_line:function(t,e){var i=this.get_direction(t,e),n={x:t.x,y:t.y,direction:this.get_direction(t,e)};return i==this.dirs.left||i==this.dirs.right?n.size=Math.abs(t.x-e.x):n.size=Math.abs(t.y-e.y),n},get_direction:function(t,e){return e.x<t.x?this.dirs.left:e.x>t.x?this.dirs.right:e.y>t.y?this.dirs.down:this.dirs.up}},i={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(e){return e?(this.path.push(t.copy(e)),e):this.current()},point_to:function(i,n,r){r=r?{x:r.x,y:r.y}:t.copy(this.point());var a=e.dirs;switch(i){case a.left:r.x-=n;break;case a.right:r.x+=n;break;case a.up:r.y-=n;break;case a.down:r.y+=n}return this.point(r)},get_points:function(i,n,r,a){var s=this.get_endpoint(i,n,r,a),o=t.config,l=s.e_y-s.y,c=s.e_x-s.x,d=e.dirs,h=n.getItemHeight(i.source);this.clear(),this.point({x:s.x,y:s.y});var u=2*o.link_arrow_size,f=this.get_line_type(i,n.$getConfig()),p=s.e_x>s.x;if(f.from_start&&f.to_start)this.point_to(d.left,u),p?(this.point_to(d.down,l),this.point_to(d.right,c)):(this.point_to(d.right,c),this.point_to(d.down,l)),this.point_to(d.right,u);else if(!f.from_start&&f.to_start)if(0!==l&&(p=s.e_x>s.x+2*u),this.point_to(d.right,u),p)c-=u,this.point_to(d.down,l),this.point_to(d.right,c);else{c-=2*u;var g=l>0?1:-1;this.point_to(d.down,g*(h/2)),this.point_to(d.right,c),this.point_to(d.down,g*(Math.abs(l)-h/2)),this.point_to(d.right,u)}else f.from_start||f.to_start?f.from_start&&!f.to_start&&(0!==l&&(p=s.e_x>s.x-2*u),this.point_to(d.left,u),p?(c+=2*u,g=l>0?1:-1,this.point_to(d.down,g*(h/2)),this.point_to(d.right,c),this.point_to(d.down,g*(Math.abs(l)-h/2)),this.point_to(d.left,u)):(c+=u,this.point_to(d.down,l),this.point_to(d.right,c))):(this.point_to(d.right,u),p?(this.point_to(d.right,c),this.point_to(d.down,l)):(this.point_to(d.down,l),this.point_to(d.right,c)),this.point_to(d.left,u));return this.path},get_line_type:function(e,i){var n=i.links,r=!1,a=!1;return e.type==n.start_to_start?r=a=!0:e.type==n.finish_to_finish?r=a=!1:e.type==n.finish_to_start?(r=!1,a=!0):e.type==n.start_to_finish?(r=!0,a=!1):t.assert(!1,"Invalid link type"),i.rtl&&(r=!r,a=!a),{from_start:r,to_start:a}},get_endpoint:function(t,e,i,r){var a=e.$getConfig(),s=this.get_line_type(t,a),o=s.from_start,l=s.to_start,c=n(i,e,a),d=n(r,e,a);return{x:o?c.left:c.left+c.width,e_x:l?d.left:d.left+d.width,y:c.top+c.rowHeight/2-1,e_y:d.top+d.rowHeight/2-1}}};function n(e,i,n){var r=i.getItemPosition(e);let a=function(t,e,i,n){let r=e.$task_data.scrollHeight,a=!1,s=!1;return t.eachParent((function(t){if(le(t)){s=!0;const i=e.getItemPosition(t).rowHeight;i<r&&(r=i,a=!0)}}),i.id),{maxHeight:r,shrinkHeight:a,splitChild:s}}(t,i,e),s=a.maxHeight,o=a.splitChild;const l=t.config.baselines&&("separateRow"==t.config.baselines.render_mode||"individualRow"==t.config.baselines.render_mode)&&e.baselines&&e.baselines.length;let c;a.shrinkHeight&&(r.rowHeight=s);let d=t.getTaskType(e.type)==n.types.milestone;if(d){let t=i.getBarHeight(e.id,!0);c=Math.sqrt(2*t*t),a.shrinkHeight&&s<t&&(t=s,c=s),r.left-=c/2,r.width=c}if(o)if(s>=r.height){const i=function(t,e){let i=!1;return t.eachTask((function(e){i||(i=oe(t,e))}),e),i}(t,e.parent);l||i?d?(r.rowHeight=r.height+4,r.left+=(r.width-r.rowHeight+4)/2,r.width=r.rowHeight-3):r.rowHeight=r.height+6:d&&(r.left+=(c-r.height)/2)}else r.rowHeight=s+2,d&&(r.left+=(r.width-r.rowHeight+4)/2,r.width=r.rowHeight-3);else l&&(r.rowHeight=r.height+4);return r}return{render:function(n,r,a){var s=t.getTask(n.source);if(s.hide_bar)return;var o=t.getTask(n.target);if(o.hide_bar)return;var l=i.get_endpoint(n,r,s,o),c=l.e_y-l.y;if(!(l.e_x-l.x||c))return null;var d=i.get_points(n,r,s,o);const h=function(t,e){const i=e.link_radius||4,n=e.link_arrow_size||6,r=[];for(let n=0;n<t.length;n++){const a=t[n],s=t[n+1];if(!s||e.link_radius<=1)r.push({type:"line",data:a});else if(a.direction!==s.direction){if(a.size<i||s.size<i){r.push({type:"line",data:a});continue}a.size-=i,r.push({type:"line",data:a});let t=a.x,n=a.y-e.link_line_width/2;switch(a.direction){case"right":t+=a.size;break;case"left":t-=a.size;break;case"down":n+=a.size;break;case"up":n-=a.size}const o={x:t,y:n,direction:{from:a.direction,to:s.direction},radius:i};switch(r.push({type:"corner",data:o}),s.direction){case"right":s.x+=i,s.size-=i;break;case"left":s.x-=i,s.size-=i;break;case"down":s.y+=i,s.size-=i;break;case"up":s.y-=i,s.size-=i}}else r.push({type:"line",data:a})}const a=t[t.length-1];if("right"===a.direction||"left"===a.direction){a.size-=3*n/4;let t="right"===a.direction?a.x+a.size:a.x-a.size-n/2,i=a.y-e.link_line_width/2-n/2+1;"left"===a.direction?(i-=1,t-=2):t-=1;const s={x:t,y:i,size:n,direction:a.direction};r.push({type:"line",data:a}),r.push({type:"arrow",data:s})}else r.push({type:"line",data:a});return r}(e.get_lines(d,r).filter((t=>t.size>0)),a),u=function(t,i,n,r){const a=document.createElement("div");return t.forEach((t=>{let s;"line"===t.type?s=e.render_line(t.data,null,i,n.source):"corner"===t.type?s=e.render_corner(t.data,i):"arrow"===t.type&&(s=e.render_arrow(t.data,r)),a.appendChild(s)})),a}(h,r,n,a);var f="gantt_task_link";n.color&&(f+=" gantt_link_inline_color");var p=t.templates.link_class?t.templates.link_class(n):"";return p&&(f+=" "+p),a.highlight_critical_path&&t.isCriticalLink&&t.isCriticalLink(n)&&(f+=" gantt_critical_link"),u.className=f,r.$config.link_attribute&&(u.setAttribute(r.$config.link_attribute,n.id),u.setAttribute("link_id",n.id)),n.color&&u.style.setProperty("--dhx-gantt-link-background",n.color),t._waiAria.linkAttr(n,u),u},update:null,isInViewPort:Si,getVisibleRange:wi()}}(t)},resourceRow:function(){return function(t){var e=function(t){let e={};return t.$data.tasksStore.attachEvent("onStoreUpdated",(function(){e={}})),function(i,n,r,a){const s=i.id+"_"+n+"_"+r.unit+"_"+r.step;let o;return o=e[s]?e[s]:e[s]=function(e,i,n,r){let a,s=!1,o={};t.config.process_resource_assignments&&i===t.config.resource_property?(a="task"==e.$role?t.getResourceAssignments(e.$resource_id,e.$task_id):t.getResourceAssignments(e.id),s=!0):a="task"==e.$role?[]:t.getTaskBy(i,e.id),o=function(e,i,n){const r=i.unit,a=i.step,s={},o={};for(let l=0;l<e.length;l++){const c=e[l];let d=c;if(n&&(d=t.getTask(c.task_id)),d.unscheduled)continue;let h=c.start_date||d.start_date,u=c.end_date||d.end_date;n&&(c.start_date&&(h=new Date(Math.max(c.start_date.valueOf(),d.start_date.valueOf()))),c.end_date&&(u=new Date(Math.min(c.end_date.valueOf(),d.end_date.valueOf()))),c.mode&&"fixedDates"==c.mode&&(h=c.start_date,u=c.end_date));let f=G(i.trace_x,h.valueOf()),p=new Date(i.trace_x[f]||t.date[r+"_start"](new Date(h))),g=new Date(Math.min(h.valueOf(),p.valueOf())),m=t.config.work_time?t.getTaskCalendar(d):t;for(o[m.id]={};g<u;){const e=o[m.id],i=g.valueOf();g=t.date.add(g,a,r),!1!==e[i]&&(s[i]||(s[i]={tasks:[],assignments:[]}),s[i].tasks.push(d),n&&s[i].assignments.push(c))}}return s}(a,n,s);const l=n.unit,c=n.step,d=[];let h,u,f,p,g;const m=r.$getConfig();for(let e=0;e<n.trace_x.length;e++)h=new Date(n.trace_x[e]),u=t.date.add(h,c,l),g=o[h.valueOf()]||{},f=g.tasks||[],p=g.assignments||[],f.length||m.resource_render_empty_cells?d.push({start_date:h,end_date:u,tasks:f,assignments:p}):d.push(null);return d}(i,n,r,a),o}}(t),i={};function n(t,e,i,n,r){var a=i.resource_cell_class(e.start_date,e.end_date,t,e.tasks,e.assignments),s=i.resource_cell_value(e.start_date,e.end_date,t,e.tasks,e.assignments),o=r.getItemHeight(t.id)-1;if(a||s){var l=r.getItemPosition(t,e.start_date,e.end_date),c=document.createElement("div");return c.setAttribute(r.$config.item_attribute,t.id),c.className=["gantt_resource_marker",a].join(" "),c.style.cssText=["left:"+l.left+"px","width:"+l.width+"px","height:"+o+"px","line-height:"+o+"px","top:"+l.top+"px"].join(";"),s&&(c.innerHTML=s),c}return null}function r(t,e){i[t]&&i[t][e]&&i[t][e].parentNode&&i[t][e].parentNode.removeChild(i[t][e])}return{render:function(r,a,s,o){var l=a.$getTemplates(),c=a.getScale(),d=e(r,s.resource_property,a.getScale(),a),h=!!o,u=[];i[r.id]={};for(var f=en(c,o),p=f.start;p<=f.end;p++){var g=d[p];if(g&&(!h||nn(p,c,o,t))){var m=n(r,g,l,0,a);m&&(u.push(m),i[r.id][p]=m)}}var _=null;if(u.length){_=document.createElement("div");for(var v=0;v<u.length;v++)_.appendChild(u[v])}return _},update:function(a,s,o,l,c){var d=o.$getTemplates(),h=o.getScale(),u=e(a,l.resource_property,o.getScale(),o),f=en(h,c),p={};if(i&&i[a.id])for(var g in i[a.id])p[g]=g;for(var m=f.start;m<=f.end;m++){var _=u[m];if(p[m]=!1,_)if(nn(m,h,c,t))if(i[a.id]&&i[a.id][m])i[a.id]&&i[a.id][m]&&!i[a.id][m].parentNode&&s.appendChild(i[a.id][m]);else{var v=n(a,_,d,0,o);v&&(s.appendChild(v),i[a.id][m]=v)}else r(a.id,m)}for(var g in p)!1!==p[g]&&r(a.id,g)},getRectangle:tn,getVisibleRange:bi}}(t)},resourceHistogram:function(){return Qi()},gridTaskRowResizer:function(){return function(t){return{render:function(e,i,n){var r=i.$getConfig(),a=document.createElement("div");return a.className="gantt_task_grid_row_resize_wrap",a.style.top=i.getItemTop(e.id)+i.getItemHeight(e.id)+"px",a.innerHTML="<div class='gantt_task_grid_row_resize' role='cell'></div>",a.setAttribute(r.task_grid_row_resizer_attribute,e.id),t._waiAria.rowResizerAttr(a),a},update:null,getRectangle:yi,getVisibleRange:bi}}(t)}},layersService:{getDataRender:function(e){return a.getDataRender(e,t)},createDataRender:function(e){return a.createDataRender(e,t)}}}};function wn(t,e){const i=getComputedStyle(e.$root).getPropertyValue("--dhx-gantt-theme");let n,r=!!i;if(r)n=i;else{var a=e.skin;if(n=a,!a||t)for(var s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var l=s[o].href.match("dhtmlxgantt_([a-z_]+).css");if(l&&(e.skins[l[1]]||!a)){n=l[1];break}}}e._theme_info={theme:n,cssVarTheme:r},e.skin=n||"terrace";var c=e.skins[e.skin]||e.skins.terrace;(function(t,e,i){for(var n in e)(void 0===t[n]||i)&&(t[n]=e[n])})(e.config,c.config,t),r||(e.config.link_radius=1);var d=e.getGridColumns();for(d[1]&&!e.defined(d[1].width)&&(d[1].width=c._second_column_width),d[2]&&!e.defined(d[2].width)&&(d[2].width=c._third_column_width),o=0;o<d.length;o++){var h=d[o];"add"==h.name&&(h.width||(h.width=44),e.defined(h.min_width)&&e.defined(h.max_width)||(h.min_width=h.min_width||h.width,h.max_width=h.max_width||h.width),h.min_width&&(h.min_width=+h.min_width),h.max_width&&(h.max_width=+h.max_width),h.width&&(h.width=+h.width,h.width=h.min_width&&h.min_width>h.width?h.min_width:h.width,h.width=h.max_width&&h.max_width<h.width?h.max_width:h.width))}c.config.task_height&&(e.config.task_height=c.config.task_height||"full"),c.config.bar_height&&(e.config.bar_height=c.config.bar_height||"full"),c._lightbox_template&&(e._lightbox_template=c._lightbox_template),c._redefine_lightbox_buttons&&(e.config.buttons_right=c._redefine_lightbox_buttons.buttons_right,e.config.buttons_left=c._redefine_lightbox_buttons.buttons_left),e.resetLightbox()}function Sn(t){var i=null,n=!1,r=null,a={started:!1},s={};function o(e){return e&&x(e,t.$root)&&e.offsetHeight}function l(){var e=!!document.querySelector(".gantt_drag_marker"),i=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),r=!!document.querySelector(".gantt_link_direction"),a=t.getState(),s=a.autoscroll;return n=e&&!i&&!r,!(!a.drag_mode&&!e||i)||s}function c(e){if(r&&(clearTimeout(r),r=null),e){var n=t.config.autoscroll_speed;n&&n<10&&(n=10),r=setTimeout((function(){i=setInterval(u,n||50)}),t.config.autoscroll_delay||10)}}function d(t){t?(c(!0),a.started||(a.x=s.x,a.y=s.y,a.started=!0)):(i&&(clearInterval(i),i=null),c(!1),a.started=!1)}function h(e){var n=l();if(!i&&!r||n||d(!1),!t.config.autoscroll||!n)return!1;s={x:e.clientX,y:e.clientY},"touchmove"==e.type&&(s.x=e.targetTouches[0].clientX,s.y=e.targetTouches[0].clientY),!i&&n&&d(!0)}function u(){if(!l())return d(!1),!1;var i,r,c,h,u,p=o(t.$task)?t.$task:o(t.$grid)?t.$grid:t.$root;if(p){var g=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach((function(t){g=g||!!document.querySelector(t)})),g&&(p=t.$grid);var m=e(p),_=s.x-m.x,v=s.y-m.y+window.scrollY,y=n?0:f(_,m.width,a.x-m.x),b=f(v,m.height,a.y-m.y+window.scrollY),k=t.getScrollState(),x=k.y,w=k.inner_height,S=k.height,T=k.x,E=k.inner_width,C=k.width;(b&&!w||b<0&&!x||b>0&&x+w>=S+2)&&(b=0),(y&&!E||y<0&&!T||y>0&&T+E>=C)&&(y=0);var M=t.config.autoscroll_step;M&&M<2&&(M=2),b*=M||30,((y*=M||30)||b)&&(i=y,r=b,c=t.getScrollState(),h=null,u=null,i&&(h=c.x+i,h=Math.min(c.width,h),h=Math.max(0,h)),r&&(u=c.y+r,u=Math.min(c.height,u),u=Math.max(0,u)),t.scrollTo(h,u))}}function f(t,e,i){return t-50<0&&t<i?-1:t>e-50&&t>i?1:0}t.attachEvent("onGanttReady",(function(){if(!$t(t)){var e=C(t.$root)||document.body;t.eventRemove(e,"mousemove",h),t.event(e,"mousemove",h),t.eventRemove(e,"touchmove",h),t.event(e,"touchmove",h),t.eventRemove(e,"pointermove",h),t.event(e,"pointermove",h)}})),t.attachEvent("onDestroy",(function(){d(!1)}))}var Tn,En;window.jQuery&&(Tn=window.jQuery,En=[],Tn.fn.dhx_gantt=function(t){if("string"!=typeof(t=t||{})){var e=[];return this.each((function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)e.push("object"==typeof this.gantt?this.gantt:window.gantt);else{var i=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var n in t)"data"!=n&&(i.config[n]=t[n]);i.init(this),t.data&&i.parse(t.data),e.push(i)}})),1===e.length?e[0]:e}if(En[t])return En[t].apply(this,[]);Tn.error("Method "+t+" does not exist on jQuery.dhx_gantt")}),window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(t,e,i){var n=document.createElement("DIV");i=i||window.gantt,n.id="gantt_"+i.uid(),n.style.width="100%",n.style.height="100%",n.cmp="grid",document.body.appendChild(n),this.attachObject(n.id),this.dataType="gantt",this.dataObj=i;var r=this.vs[this.av];return r.grid=i,i.init(n.id,t,e),n.firstChild.style.border="none",r.gridId=n.id,r.gridObj=n,this.vs[this._viewRestore()].grid}),void 0!==window.dhtmlXCellObject&&(window.dhtmlXCellObject.prototype.attachGantt=function(t,e,i){i=i||window.gantt;var n=document.createElement("DIV");return n.id="gantt_"+i.uid(),n.style.width="100%",n.style.height="100%",n.cmp="grid",document.body.appendChild(n),this.attachObject(n.id),this.dataType="gantt",this.dataObj=i,i.init(n.id,t,e),n.firstChild.style.border="none",n=null,this.callEvent("_onContentAttach",[]),this.dataObj});const Cn=["ctrlKey","altKey","shiftKey","metaKey"],Mn=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]];class Pn{constructor(t){this.zoomIn=()=>{const t=this.getCurrentLevel()-1;t<0||this.setLevel(t)},this.zoomOut=()=>{const t=this.getCurrentLevel()+1;t>this._levels.length-1||this.setLevel(t)},this.getCurrentLevel=()=>this._activeLevelIndex,this.getLevels=()=>this._levels,this.setLevel=t=>{const e=this._getZoomIndexByName(t);-1===e&&this.$gantt.assert(-1!==e,"Invalid zoom level for gantt.ext.zoom.setLevel. "+t+" is not an expected value."),this._setLevel(e,0)},this._getZoomIndexByName=t=>{let e=-1;if("string"==typeof t){if(!isNaN(Number(t))&&this._levels[Number(t)])e=Number(t);else for(let i=0;i<this._levels.length;i++)if(this._levels[i].name===t){e=i;break}}else e=t;return e},this._getVisibleDate=()=>{if(!this.$gantt.$task)return null;const t=this.$gantt.getScrollState().x,e=this.$gantt.$task.offsetWidth;this._visibleDate=this.$gantt.dateFromPos(t+e/2)},this._setLevel=(t,e)=>{this._activeLevelIndex=t;const i=this.$gantt,n=i.copy(this._levels[this._activeLevelIndex]),r=i.copy(n);if(delete r.name,i.mixin(i.config,r,!0),["resourceTimeline","resourceHistogram"].forEach((function(t){const e=i.$ui.getView(t);if(e){const t=e.$getConfig();t.fixed_scales||i.mixin(t,r,!0)}})),i.$root&&i.$task){if(e){const t=this.$gantt.dateFromPos(e+this.$gantt.getScrollState().x);this.$gantt.render();const i=this.$gantt.posFromDate(t);this.$gantt.scrollTo(i-e)}else{const t=this.$gantt.$task.offsetWidth;this._visibleDate||this._getVisibleDate();const e=this._visibleDate;this.$gantt.render();const i=this.$gantt.posFromDate(e);this.$gantt.scrollTo(i-t/2)}this.callEvent("onAfterZoom",[this._activeLevelIndex,n])}},this._attachWheelEvent=t=>{const e=mt.isFF?"wheel":"mousewheel";let i;i="function"==typeof t.element?t.element():t.element,i&&this._domEvents.attach(i,e,this.$gantt.bind((function(t){return!(this._useKey&&(Cn.indexOf(this._useKey)<0||!t[this._useKey]))&&("function"==typeof this._handler?(this._handler.apply(this,[t]),!0):void 0)}),this),{passive:!1})},this._defaultHandler=t=>{const e=this.$gantt.$task.getBoundingClientRect().x,i=t.clientX-e;let n=!1;(this.$gantt.env.isFF?-40*t.deltaY:t.wheelDelta)>0&&(n=!0),t.preventDefault(),t.stopPropagation(),this._setScaleSettings(n,i)},this._setScaleDates=()=>{this._initialStartDate&&this._initialEndDate&&(this.$gantt.config.start_date=this._initialStartDate,this.$gantt.config.end_date=this._initialEndDate)},this.$gantt=t,this._domEvents=this.$gantt._createDomEventScope()}init(t){this.$gantt.env.isNode||(this._initialStartDate=t.startDate,this._initialEndDate=t.endDate,this._activeLevelIndex=t.activeLevelIndex?t.activeLevelIndex:0,this._levels=this._mapScales(t.levels||Mn),this._handler=t.handler||this._defaultHandler,this._minColumnWidth=t.minColumnWidth||60,this._maxColumnWidth=t.maxColumnWidth||240,this._widthStep=t.widthStep||3/8*t.minColumnWidth,this._useKey=t.useKey,this._initialized||(D(this),this.$gantt.attachEvent("onGanttScroll",(()=>{this._getVisibleDate()}))),this._domEvents.detachAll(),"wheel"===t.trigger&&(this.$gantt.$root?this._attachWheelEvent(t):this.$gantt.attachEvent("onGanttLayoutReady",(()=>{this.$gantt.attachEvent("onGanttRender",(()=>{this._attachWheelEvent(t)}),{once:!0})}))),this._initialized=!0,this.setLevel(this._activeLevelIndex))}_mapScales(t){return t.map((t=>Array.isArray(t)?{scales:t}:t))}_setScaleSettings(t,e){t?this._stepUp(e):this._stepDown(e)}_stepUp(t){if(this._activeLevelIndex>=this._levels.length-1)return;let e=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){let t=this.$gantt.config.min_column_width+this._widthStep;t>this._maxColumnWidth&&(t=this._minColumnWidth,e++),this.$gantt.config.min_column_width=t}else e++;this._setLevel(e,t)}_stepDown(t){if(this._activeLevelIndex<1)return;let e=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){let t=this.$gantt.config.min_column_width-this._widthStep;t<this._minColumnWidth&&(t=this._maxColumnWidth,e--),this.$gantt.config.min_column_width=t}else e--;this._setLevel(e,t)}}function An(){console.log("Method is not implemented.")}function $n(){}function Dn(t){return $n}$n.prototype.render=An,$n.prototype.set_value=An,$n.prototype.get_value=An,$n.prototype.focus=An;var In={getHtmlSelect:function(t,e,i){var n="",r=this;return O(t=t||[],(function(t){var e=[{key:"value",value:t.key}];i==t.key&&(e[e.length]={key:"selected",value:"selected"}),t.attributes&&(e=e.concat(t.attributes)),n+=r.getHtmlOption({innerHTML:t.label},e)})),Ln("select",{innerHTML:n},e)},getHtmlOption:function(t,e){return Ln("option",t,e)},getHtmlButton:function(t,e){return Ln("button",t,e)},getHtmlDiv:function(t,e){return Ln("div",t,e)},getHtmlLabel:function(t,e){return Ln("label",t,e)},getHtmlInput:function(t){return"<input"+On(t||[])+">"}};function Ln(t,e,i){return e=e||[],"<"+t+On(i||[])+">"+(e.innerHTML||"")+"</"+t+">"}function On(t){var e="";return O(t,(function(t){e+=" "+t.key+"='"+t.value+"'"})),e}function Rn(t){const e=Dn();function i(){return e.apply(this,arguments)||this}return Ci(i,e),i.prototype.render=function(t){const e=t.height?`height:${t.height}px;`:"";let i=`<div class='gantt_cal_ltext gantt_section_${t.name}' ${e?`style='${e}'`:""}>`;return i+=In.getHtmlSelect(t.options,[{key:"style",value:"width:100%;"},{key:"title",value:t.name}]),i+="</div>",i},i.prototype.set_value=function(t,e,i,n){var r=t.firstChild;!r._dhx_onchange&&n.onchange&&(r.onchange=n.onchange,r._dhx_onchange=!0),void 0===e&&(e=(r.options[0]||{}).value),r.value=e||""},i.prototype.get_value=function(t){return t.firstChild.value},i.prototype.focus=function(e){var i=e.firstChild;t._focus(i,!0)},i}function Fn(t){var e=function(){const t=Dn();function e(){return t.apply(this,arguments)||this}return Ci(e,t),e.prototype.render=function(t){let e=t.height?`${t.height}px`:"";return`<div class='gantt_cal_ltext gantt_cal_template gantt_section_${t.name}' ${e?`style='height:${e};'`:""}></div>`},e.prototype.set_value=function(t,e){t.innerHTML=e||""},e.prototype.get_value=function(t){return t.innerHTML||""},e.prototype.focus=function(){},e}(),i=function(t){const e=Dn();function i(){return e.apply(this,arguments)||this}return Ci(i,e),i.prototype.render=function(t){const e=(t.height||"130")+"px",i=t.placeholder?`placeholder='${t.placeholder}'`:"";return`<div class='gantt_cal_ltext gantt_section_${t.name}' style='height:${e};' ${i}><textarea></textarea></div>`},i.prototype.set_value=function(e,i){t.form_blocks.textarea._get_input(e).value=i||""},i.prototype.get_value=function(e){return t.form_blocks.textarea._get_input(e).value},i.prototype.focus=function(e){var i=t.form_blocks.textarea._get_input(e);t._focus(i,!0)},i.prototype._get_input=function(t){return t.querySelector("textarea")},i}(t),n=function(t){const e=Dn();function i(){return e.apply(this,arguments)||this}return Ci(i,e),i.prototype.render=function(e){var i=t.form_blocks.getTimePicker.call(this,e);let n="gantt_section_time";"time"!==e.name&&(n+=" gantt_section_"+e.name);var r="<div style='padding-top:0px;font-size:inherit;text-align:center;' class='"+n+"'>";return r+=i,e.single_date?(i=t.form_blocks.getTimePicker.call(this,e,!0),r+="<span></span>"):r+="<span class='gantt_section_time_spacer'> &nbsp;&ndash;&nbsp; </span>",(r+=i)+"</div>"},i.prototype.set_value=function(e,i,n,r){var a=r,s=e.getElementsByTagName("select"),o=r._time_format_order;if(a.auto_end_date)for(var l=function(){h=new Date(s[o[2]].value,s[o[1]].value,s[o[0]].value,0,0),u=t.calculateEndDate({start_date:h,duration:1,task:n}),t.form_blocks._fill_lightbox_select(s,o.size,u,o,a)},c=0;c<4;c++)s[c].onchange=l;var d=t._resolve_default_mapping(r);"string"==typeof d&&(d={start_date:d});var h=n[d.start_date]||new Date,u=n[d.end_date]||t.calculateEndDate({start_date:h,duration:1,task:n});t.form_blocks._fill_lightbox_select(s,0,h,o,a),t.form_blocks._fill_lightbox_select(s,o.size,u,o,a)},i.prototype.get_value=function(e,i,n){var r,a=e.getElementsByTagName("select"),s=n._time_format_order;return r=t.form_blocks.getTimePickerValue(a,n),"string"==typeof t._resolve_default_mapping(n)?r:{start_date:r,end_date:function(e,i,r){var a=t.form_blocks.getTimePickerValue(e,n,i.size);return a<=r&&(!1!==n.autofix_end||n.single_date)?t.date.add(r,t._get_timepicker_step(),"minute"):a}(a,s,r)}},i.prototype.focus=function(e){t._focus(e.getElementsByTagName("select")[0])},i}(t),r=Rn(t),a=function(t){var e=Dn();function i(){return e.apply(this,arguments)||this}return Ci(i,e),i.prototype.render=function(t){const e=t.height?`height:${t.height}px;`:"";let i=`<div class='gantt_cal_ltext gantt_cal_lcheckbox gantt_section_${t.name}' ${e?`style='${e}'`:""}>`;if(t.options&&t.options.length)for(var n=0;n<t.options.length;n++)i+="<label><input type='checkbox' value='"+t.options[n].key+"' name='"+t.name+"'>"+t.options[n].label+"</label>";else t.single_value=!0,i+="<label><input type='checkbox' name='"+t.name+"'></label>";return i+="</div>",i},i.prototype.set_value=function(t,e,i,n){var r=Array.prototype.slice.call(t.querySelectorAll("input[type=checkbox]"));!t._dhx_onchange&&n.onchange&&(t.onchange=n.onchange,t._dhx_onchange=!0),n.single_value?r[0].checked=!!e:O(r,(function(t){t.checked=!!e&&e.indexOf(t.value)>=0}))},i.prototype.get_value=function(t,e,i){return i.single_value?t.querySelector("input[type=checkbox]").checked:function(t,e){if(t.map)return t.map(e);for(var i=t.slice(),n=[],r=0;r<i.length;r++)n.push(e(i[r]));return n}(Array.prototype.slice.call(t.querySelectorAll("input[type=checkbox]:checked")),(function(t){return t.value}))},i.prototype.focus=function(e){t._focus(e.querySelector("input[type=checkbox]"))},i}(t),s=function(t){const e=Dn();function i(){return e.apply(this,arguments)||this}return Ci(i,e),i.prototype.render=function(t){const e=t.height?`${t.height}px`:"";let i=`<div class='gantt_cal_ltext gantt_cal_lradio gantt_section_${t.name}' ${e?`style='height:${e};'`:""}>`;if(t.options&&t.options.length)for(var n=0;n<t.options.length;n++)i+="<label><input type='radio' value='"+t.options[n].key+"' name='"+t.name+"'>"+t.options[n].label+"</label>";return i+="</div>",i},i.prototype.set_value=function(t,e,i,n){var r;n.options&&n.options.length&&(r=t.querySelector("input[type=radio][value='"+e+"']")||t.querySelector("input[type=radio][value='"+n.default_value+"']"))&&(!t._dhx_onchange&&n.onchange&&(t.onchange=n.onchange,t._dhx_onchange=!0),r.checked=!0)},i.prototype.get_value=function(t,e){var i=t.querySelector("input[type=radio]:checked");return i?i.value:""},i.prototype.focus=function(e){t._focus(e.querySelector("input[type=radio]"))},i}(t),o=function(t){var e=Dn();function i(){return e.apply(this,arguments)||this}function n(t){return t.formatter||new ie}function r(e,i){var n=e.getElementsByTagName("select"),r=i._time_format_order,a=0,s=0;if(t.defined(r[3])){var o=n[r[3]],l=parseInt(o.value,10);isNaN(l)&&o.hasAttribute("data-value")&&(l=parseInt(o.getAttribute("data-value"),10)),a=Math.floor(l/60),s=l%60}return new Date(n[r[2]].value,n[r[1]].value,n[r[0]].value,a,s)}function a(t,e){var i=t.getElementsByTagName("input")[1];return(i=n(e).parse(i.value))&&!window.isNaN(i)||(i=1),i<0&&(i*=-1),i}return Ci(i,e),i.prototype.render=function(e){var i="<div class='gantt_time_selects'>"+t.form_blocks.getTimePicker.call(this,e)+"</div>",n=" "+t.locale.labels[t.config.duration_unit+"s"]+" ",r=e.single_date?" style='display:none'":"",a=e.readonly?" disabled='disabled'":"",s=t._waiAria.lightboxDurationInputAttrString(e),o="gantt_duration_value";e.formatter&&(n="",o+=" gantt_duration_value_formatted");var l="<div class='gantt_duration' "+r+"><div class='gantt_duration_inputs'><input type='button' class='gantt_duration_dec' value=''"+a+"><input type='text' value='5days' class='"+o+"'"+a+" "+s+"><input type='button' class='gantt_duration_inc' value='+'"+a+"></div><div class='gantt_duration_end_date'>"+n+"<span></span></div></div></div>";let c="gantt_section_time gantt_section_duration";return"time"!==e.name&&(c+=" gantt_section_"+e.name),"<div style='padding-top:0px;font-size:inherit;' class='"+c+"'>"+i+" "+l+"</div>"},i.prototype.set_value=function(e,i,s,o){var l,c,d,h,u=e.getElementsByTagName("select"),f=e.getElementsByTagName("input"),p=f[1],g=[f[0],f[2]],m=e.getElementsByTagName("span")[0],_=o._time_format_order;function v(){var i=r.call(t,e,o),n=a.call(t,e,o),l=t.calculateEndDate({start_date:i,duration:n,task:s}),c=t.templates.task_end_date||t.templates.task_date;m.innerHTML=c(l)}function y(t){var e=p.value;e=n(o).parse(e),window.isNaN(e)&&(e=0),(e+=t)<1&&(e=1),p.value=n(o).format(e),v()}g[0].onclick=t.bind((function(){y(-1*t.config.duration_step)}),this),g[1].onclick=t.bind((function(){y(1*t.config.duration_step)}),this),u[0].onchange=v,u[1].onchange=v,u[2].onchange=v,u[3]&&(u[3].onchange=v),p.onkeydown=t.bind((function(e){var i;return(i=(e=e||window.event).charCode||e.keyCode||e.which)==t.constants.KEY_CODES.DOWN?(y(-1*t.config.duration_step),!1):i==t.constants.KEY_CODES.UP?(y(1*t.config.duration_step),!1):void window.setTimeout(v,1)}),this),p.onchange=t.bind(v,this),"string"==typeof(l=t._resolve_default_mapping(o))&&(l={start_date:l}),c=s[l.start_date]||new Date,d=s[l.end_date]||t.calculateEndDate({start_date:c,duration:1,task:s}),h=Math.round(s[l.duration])||t.calculateDuration({start_date:c,end_date:d,task:s}),h=n(o).format(h),t.form_blocks._fill_lightbox_select(u,0,c,_,o),p.value=h,v()},i.prototype.get_value=function(e,i,n){var s=r(e,n),o=a(e,n),l=t.calculateEndDate({start_date:s,duration:o,task:i});return"string"==typeof t._resolve_default_mapping(n)?s:{start_date:s,end_date:l,duration:o}},i.prototype.focus=function(e){t._focus(e.getElementsByTagName("select")[0])},i}(t),c=function(t){var e=Rn(t);function i(){return e.apply(this,arguments)||this}function n(e,i){var n=[],r=[];i&&(n=t.getTaskByTime(),e.allow_root&&n.unshift({id:t.config.root_id,text:e.root_label||""}),n=function(e,i,n){var r=i.filter||function(){return!0};e=e.slice(0);for(var a=0;a<e.length;a++){var s=e[a];(s.id==n||t.isChildOf(s.id,n)||!1===r(s.id,s))&&(e.splice(a,1),a--)}return e}(n,e,i),e.sort&&n.sort(e.sort));for(var a=e.template||t.templates.task_text,s=0;s<n.length;s++){var o=a.apply(t,[n[s].start_date,n[s].end_date,n[s]]);void 0===o&&(o=""),r.push({key:n[s].id,label:o})}return e.options=r,e.map_to=e.map_to||"parent",t.form_blocks.select.render.apply(this,arguments)}return Ci(i,e),i.prototype.render=function(t){return n(t,!1)},i.prototype.set_value=function(e,i,r,a){0===i&&(i="0"),!r.id&&t.getState().lightbox&&(r.id=t.getLightboxValues().id);var s=document.createElement("div");s.innerHTML=n(a,r.id);var o=s.removeChild(s.firstChild);return e.onselect=null,e.parentNode.replaceChild(o,e),t.form_blocks.select.set_value.apply(t,[o,i,r,a])},i}(t),d=Rn(t),h=function(t){var e=Dn();function i(){return e.apply(this,arguments)||this}function n(e){return!e||e===t.config.constraint_types.ASAP||e===t.config.constraint_types.ALAP}function r(t,e){for(var i=n(e),r=0;r<t.length;r++)t[r].disabled=i}return Ci(i,e),i.prototype.render=function(e){const i=e.height?`height:${e.height}px;`:"";let n=`<div class='gantt_cal_ltext gantt_section_${e.name}' ${i?`style='${i}'`:""}>`;var r=[];for(var a in t.config.constraint_types)r.push({key:t.config.constraint_types[a],label:t.locale.labels[t.config.constraint_types[a]]});return e.options=e.options||r,n+="<span data-constraint-type-select>"+In.getHtmlSelect(e.options,[{key:"data-type",value:"constraint-type"}])+"</span>",n+="<label data-constraint-time-select>"+(t.locale.labels.constraint_date||"Constraint date")+": "+t.form_blocks.getTimePicker.call(this,e)+"</label>",n+="</div>",n},i.prototype.set_value=function(e,i,n,a){var s=e.querySelector("[data-constraint-type-select] select"),o=e.querySelectorAll("[data-constraint-time-select] select"),l=a._time_format_order,c=t._resolve_default_mapping(a);s._eventsInitialized||(s.addEventListener("change",(function(t){r(o,t.target.value)})),s._eventsInitialized=!0);var d=n[c.constraint_date]||new Date;t.form_blocks._fill_lightbox_select(o,0,d,l,a);var h=n[c.constraint_type]||t.getConstraintType(n);s.value=h,r(o,h)},i.prototype.get_value=function(e,i,r){var a=e.querySelector("[data-constraint-type-select] select"),s=e.querySelectorAll("[data-constraint-time-select] select"),o=a.value,l=null;return n(o)||(l=t.form_blocks.getTimePickerValue(s,r)),{constraint_type:o,constraint_date:l}},i.prototype.focus=function(e){t._focus(e.querySelector("select"))},i}(t),u=function(t){const e=Rn(t);function i(){return e.apply(this,arguments)||this}return Ci(i,e),i.prototype.render=function(i){var n=t.config.types,r=t.locale.labels,a=[],s=i.filter||function(t,e){return!n.placeholder||e!==n.placeholder};for(var o in n)0==!s(o,n[o])&&a.push({key:n[o],label:r["type_"+o]});i.options=a;var l=i.onchange;return i.onchange=function(){t._lightbox_current_type=this.value,t.changeLightboxType(this.value),"function"==typeof l&&l.apply(this,arguments)},e.prototype.render.apply(this,arguments)},i}(t),f=function(t){var e=Dn();function i(){return e.apply(this,arguments)||this}function n(t){return t.formatter||new ie}function r(e,i,r,o){const l="<div class='gantt_time_selects'>"+t.form_blocks.getTimePicker.call(t,o)+"</div>";let c=" "+t.locale.labels[t.config.duration_unit+"s"]+" ";const d=o.single_date?" style='display:none'":"",h=o.readonly?" disabled='disabled'":"",u=t._waiAria.lightboxDurationInputAttrString(o),f=t.locale.labels.baselines_remove_button;let p="gantt_duration_value";o.formatter&&(c="",p+=" gantt_duration_value_formatted");const g="<div class='gantt_duration' "+d+"><div class='gantt_duration_inputs'><input type='button' class='gantt_duration_dec' value=''"+h+"><input type='text' value='5days' class='"+p+"'"+h+" "+u+"><input type='button' class='gantt_duration_inc' value='+'"+h+"></div><div class='gantt_duration_end_date'>"+c+"<span></span></div></div></div>",m=`<div><div class='baseline_delete_button gantt_custom_button'>${f}</div></div>`,_=document.createElement("div");_.className="gantt_section_time gantt_section_duration",_.setAttribute("data-baseline-id",i.id),_.innerHTML=l+g+m+"<br>",e.appendChild(_);var v,y,b,k=_.getElementsByTagName("select"),x=_.getElementsByTagName("input"),w=x[1],S=[x[0],x[2]],T=_.getElementsByTagName("span")[0],E=o._time_format_order;function C(){var e=a.call(t,_,o),i=s.call(t,_,o),n=t.calculateEndDate({start_date:e,duration:i,task:r}),l=t.templates.task_end_date||t.templates.task_date;T.innerHTML=l(n)}function M(t){var e=w.value;e=n(o).parse(e),window.isNaN(e)&&(e=0),(e+=t)<1&&(e=1),w.value=n(o).format(e),C()}_.querySelector(".baseline_delete_button").onclick=function(e){const i=_.parentNode;_.innerHTML="",_.remove(),""===i.innerHTML&&(i.innerHTML=t.locale.labels.baselines_section_placeholder)},S[0].onclick=t.bind((function(){M(-1*t.config.duration_step)}),t),S[1].onclick=t.bind((function(){M(1*t.config.duration_step)}),t),k[0].onchange=C,k[1].onchange=C,k[2].onchange=C,k[3]&&(k[3].onchange=C),w.onkeydown=t.bind((function(e){var i;return(i=(e=e||window.event).charCode||e.keyCode||e.which)==t.constants.KEY_CODES.DOWN?(M(-1*t.config.duration_step),!1):i==t.constants.KEY_CODES.UP?(M(1*t.config.duration_step),!1):void window.setTimeout(C,1)}),t),w.onchange=t.bind(C,t),t._resolve_default_mapping(o),v=i.start_date||new Date,y=i.end_date||t.calculateEndDate({start_date:v,duration:1,task:r}),b=t.calculateDuration({start_date:v,end_date:y,task:r}),b=n(o).format(b),t.form_blocks._fill_lightbox_select(k,0,v,E,o),w.value=b,C()}function a(e,i){var n=e.getElementsByTagName("select"),r=i._time_format_order,a=0,s=0;if(t.defined(r[3])){var o=n[r[3]],l=parseInt(o.value,10);isNaN(l)&&o.hasAttribute("data-value")&&(l=parseInt(o.getAttribute("data-value"),10)),a=Math.floor(l/60),s=l%60}return new Date(n[r[2]].value,n[r[1]].value,n[r[0]].value,a,s)}function s(t,e){var i=t.getElementsByTagName("input")[1];return(i=n(e).parse(i.value))&&!window.isNaN(i)||(i=1),i<0&&(i*=-1),i}return Ci(i,e),i.prototype.render=function(t){return`<div style='height: ${t.height||100}px; padding-top:0px; font-size:inherit;' class='gantt_section_baselines'></div>`},i.prototype.set_value=function(e,i,n,a){n.baselines?(e.innerHTML="",n.baselines.forEach((t=>{r(e,t,n,a)}))):e.innerHTML=t.locale.labels.baselines_section_placeholder},i.prototype.get_value=function(e,i,n){const r=[];return e.querySelectorAll("[data-baseline-id]").forEach((e=>{const o=e.dataset.baselineId;let l,c=t.getDatastore("baselines").getItem(o);l=c?t.copy(c):{id:t.uid(),task_id:i.id,text:"Baseline 1"},l.start_date=a(e,n),l.duration=s(e,n),l.end_date=t.calculateEndDate({start_date:l.start_date,duration:l.duration,task:i}),r.push(l)})),r},i.prototype.button_click=function(e,i,n,a){if(!1!==t.callEvent("onSectionButton",[t._lightbox_id,n])&&(i.closest(".gantt_custom_button.gantt_remove_baselines")&&(a.innerHTML=t.locale.labels.baselines_section_placeholder),i.closest(".gantt_custom_button.gantt_add_baselines"))){a.innerHTML==t.locale.labels.baselines_section_placeholder&&(a.innerHTML="");const i=t.getTask(t._lightbox_id);r(a,{id:t.uid(),task_id:i.id,start_date:i.start_date,end_date:i.end_date},i,t._get_typed_lightbox_config()[e])}},i.prototype.focus=function(e){t._focus(e.getElementsByTagName("select")[0])},i}(t);t._lightbox_methods={},t._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",t._lightbox_template="<div class='gantt_cal_ltitle'><div class=\"dhx_cal_ltitle_descr\"><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='dhx_title'></span>\n</div>\n<div class=\"gantt_cal_ltitle_controls\">\n\t<a class=\"gantt_cal_ltitle_close_btn dhx_gantt_icon dhx_gantt_icon_close\"></a>\n\n</div></div><div class='gantt_cal_larea'></div>",t._lightbox_root=t.$root,t.$services.getService("state").registerProvider("lightbox",(function(){return{lightbox:t._lightbox_id}})),t.showLightbox=function(e){var i=this.getTask(e);if(this.callEvent("onBeforeLightbox",[e])){var n=this.getLightbox(this.getTaskType(i.type));this.showCover(n),this._fill_lightbox(e,n),this._setLbPosition(n),this._waiAria.lightboxVisibleAttr(n),this.callEvent("onLightbox",[e])}else t.isTaskExists(e)&&t.getTask(e).$new&&this.$data.tasksStore._updateOrder()},t._get_timepicker_step=function(){if(this.config.round_dnd_dates){var e;if(function(t){var e=t.$ui.getView("timeline");return!(!e||!e.isVisible())}(this)){var i=t.getScale();e=L(i.unit)*i.step/60}return(!e||e>=1440)&&(e=this.config.time_step),e}return this.config.time_step},t.getLabel=function(t,e){for(var i=this._get_typed_lightbox_config(),n=0;n<i.length;n++)if(i[n].map_to==t)for(var r=i[n].options,a=0;a<r.length;a++)if(r[a].key==e)return r[a].label;return""},t.updateCollection=function(e,i){i=i.slice(0);var n=t.serverList(e);if(!n)return!1;n.splice(0,n.length),n.push.apply(n,i||[]),t.resetLightbox()},t.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},t.getLightbox=function(e){var i,n,r,a,s,o="";if(!0===t.config.csp||t.env.isSalesforce?t._lightbox_root=t.$root:t._lightbox_root=document.body,void 0===e&&(e=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(e)){this._lightbox_type=this.getTaskType(e),i=document.createElement("div"),o="gantt_cal_light",n=this._is_lightbox_timepicker(),t.config.wide_form&&(o+=" gantt_cal_light_wide"),n&&(o+=" gantt_cal_light_full"),i.className=o,i.style.visibility="hidden",r=this._lightbox_template,r+="<div class='gantt_cal_lcontrols'>",r+=_(this.config.buttons_left),r+="<div class='gantt_cal_lcontrols_push_right'></div>",r+=_(this.config.buttons_right),r+="</div>",i.innerHTML=r,t._waiAria.lightboxAttr(i),t.config.drag_lightbox&&(i.firstChild.onmousedown=t._ready_to_dnd,i.firstChild.ontouchstart=function(e){t._ready_to_dnd(e.touches[0])},i.firstChild.onselectstart=function(){return!1},i.firstChild.style.cursor="pointer",t._init_dnd_events()),this._lightbox&&this.resetLightbox(),p(),this._cover.insertBefore(i,this._cover.firstChild),this._lightbox=i,a=this._get_typed_lightbox_config(e),r=this._render_sections(a);var l=(s=i.querySelector("div.gantt_cal_larea")).style.overflow;s.style.overflow="hidden",s.innerHTML=r,function(e){var i,n,r,a,s,o;for(o=0;o<e.length;o++)i=e[o],r=t._lightbox_root.querySelector("#"+i.id),i.id&&r&&(n=r.querySelector("label"),(a=r.nextSibling)&&(s=a.querySelector("input, select, textarea"))&&(s.id=s.id||"input_"+t.uid(),i.inputId=s.id,n.setAttribute("for",i.inputId)))}(a),s.style.overflow=l,this._init_lightbox_events(this),i.style.display="none",i.style.visibility="visible"}return this._lightbox},t._render_sections=function(t){for(var e="",i=0;i<t.length;i++){var n=this.form_blocks[t[i].type];if(n){t[i].id="area_"+this.uid();var r=t[i].hidden?" style='display:none'":"",a="";t[i].button&&(a="<div class='gantt_custom_button' data-index='"+i+"'><div class='gantt_custom_button_"+t[i].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+t[i].button]+"</div></div>"),"baselines"==t[i].type&&(a="<div class='gantt_custom_button gantt_remove_baselines' data-index='"+i+"'><div class='gantt_custom_button_delete_baselines'></div><div class='gantt_custom_button_label'>"+this.locale.labels.baselines_remove_all_button+"</div></div><div class='gantt_custom_button gantt_add_baselines' data-index='"+i+"'><div class='gantt_custom_button_add_baseline'></div><div class='gantt_custom_button_label'>"+this.locale.labels.baselines_add_button+"</div></div>"),this.config.wide_form&&(e+="<div class='gantt_wrap_section' "+r+">"),e+="<div id='"+t[i].id+"' class='gantt_cal_lsection'><label>"+a+(t[i].label||this.locale.labels["section_"+t[i].name]||t[i].name)+"</label></div>"+n.render.call(this,t[i]),e+="</div>"}}return e},t._center_lightbox=function(e){t._setLbPosition(e)},t._setLbPosition=function(e){if(!e)return;const i=t._lightbox_root||t.$root;e.style.top=Math.max(i.offsetHeight/2-e.offsetHeight/2,0)+"px",e.style.left=Math.max(i.offsetWidth/2-e.offsetWidth/2,0)+"px"},t.showCover=function(t){t&&(t.style.display="block",this._setLbPosition(t)),p(),this._cover.style.display=""};const p=function(){t._cover||(t._cover=document.createElement("div"),t._cover.className="gantt_cal_cover",t._cover.style.display="none",t.event(t._cover,"mousemove",t._move_while_dnd),t.event(t._cover,"mouseup",t._finish_dnd),(t._lightbox_root||t.$root).appendChild(t._cover))};function g(t){for(var e in this.config.types)if(this.config.types[e]==t)return e;return"task"}function _(e,i){var n,r,a="";for(r=0;r<e.length;r++)n=t.config._migrate_buttons[e[r]]?t.config._migrate_buttons[e[r]]:e[r],a+="<div "+t._waiAria.lightboxButtonAttrString(n)+" class='gantt_btn_set gantt_left_btn_set "+n+"_set'><div dhx_button='1' data-dhx-button='1' class='"+n+"'></div><div>"+t.locale.labels[n]+"</div></div>";return a}function v(e){var i,n;return e.time_format?e.time_format:(n=["%d","%m","%Y"],L((i=t.getScale())?i.unit:t.config.duration_unit)<L("day")&&n.push("%H:%i"),n)}function y(e,i,n){var r,a,s,o,l,c,d="";switch(n.timeFormat[i]){case"%Y":for(e._time_format_order[2]=i,e._time_format_order.size++,e.year_range&&(isNaN(e.year_range)?e.year_range.push&&(s=e.year_range[0],o=e.year_range[1]):r=e.year_range),r=r||10,a=a||Math.floor(r/2),s=s||n.date.getFullYear()-a,o=o||t.getState().max_date.getFullYear()+a,l=s;l<=o;l++)d+="<option value='"+l+"'>"+l+"</option>";break;case"%m":for(e._time_format_order[1]=i,e._time_format_order.size++,l=0;l<12;l++)d+="<option value='"+l+"'>"+t.locale.date.month_full[l]+"</option>";break;case"%d":for(e._time_format_order[0]=i,e._time_format_order.size++,l=1;l<32;l++)d+="<option value='"+l+"'>"+l+"</option>";break;case"%H:%i":for(e._time_format_order[3]=i,e._time_format_order.size++,l=n.first,c=n.date.getDate(),e._time_values=[];l<n.last;)d+="<option value='"+l+"'>"+t.templates.time_picker(n.date)+"</option>",e._time_values.push(l),n.date.setTime(n.date.valueOf()+60*t._get_timepicker_step()*1e3),l=24*(n.date.getDate()!=c?1:0)*60+60*n.date.getHours()+n.date.getMinutes()}return d}t._init_lightbox_events=function(){t.lightbox_events={},t.lightbox_events.gantt_save_btn=function(){t._save_lightbox()},t.lightbox_events.gantt_delete_btn=function(){t._lightbox_current_type=null,t.callEvent("onLightboxDelete",[t._lightbox_id])&&(t.isTaskExists(t._lightbox_id)?t.$click.buttons.delete(t._lightbox_id):t.hideLightbox())},t.lightbox_events.gantt_cancel_btn=function(){t._cancel_lightbox()},t.lightbox_events.default=function(e,i){if(i.getAttribute("data-dhx-button"))t.callEvent("onLightboxButton",[i.className,i,e]);else{var n,r,a=l(i);if(-1!=a.indexOf("gantt_custom_button"))if(-1!=a.indexOf("gantt_custom_button_"))for(n=i.parentNode.getAttribute("data-index"),r=i;r&&-1==l(r).indexOf("gantt_cal_lsection");)r=r.parentNode;else n=i.getAttribute("data-index"),r=i.closest(".gantt_cal_lsection"),i=i.firstChild;var s=t._get_typed_lightbox_config();n&&(n*=1,t.form_blocks[s[1*n].type].button_click(n,i,r,r.nextSibling))}},this.event(t.getLightbox(),"click",(function(e){e.target.closest(".gantt_cal_ltitle_close_btn")&&t._cancel_lightbox();var i=m(e),n=l(i);return n||(n=l(i=i.previousSibling)),i&&n&&0===n.indexOf("gantt_btn_set")&&(n=l(i=i.firstChild)),!(!i||!n)&&(t.defined(t.lightbox_events[i.className])?t.lightbox_events[i.className]:t.lightbox_events.default)(e,i)})),t.getLightbox().onkeydown=function(e){var i=e||window.event,n=e.target||e.srcElement,r=l(n).indexOf("gantt_btn_set")>-1;switch((e||i).keyCode){case t.constants.KEY_CODES.SPACE:if((e||i).shiftKey)return;r&&n.click&&n.click();break;case t.keys.edit_save:if((e||i).shiftKey)return;r&&n.click?n.click():t._save_lightbox();break;case t.keys.edit_cancel:t._cancel_lightbox()}}},t._cancel_lightbox=function(){var e=this.getLightboxValues();t._lightbox_current_type=null,this.callEvent("onLightboxCancel",[this._lightbox_id,e.$new]),t.isTaskExists(e.id)&&e.$new&&(this.silent((function(){t.$data.tasksStore.removeItem(e.id),t._update_flags(e.id,null)})),this.refreshData()),this.hideLightbox()},t._save_lightbox=function(){var e=this.getLightboxValues();t._lightbox_current_type=null,this.callEvent("onLightboxSave",[this._lightbox_id,e,!!e.$new])&&(t.$data.tasksStore._skipTaskRecalculation="lightbox",e.$new?(delete e.$new,this.addTask(e,e.parent,this.getTaskIndex(e.id))):this.isTaskExists(e.id)&&(this.mixin(this.getTask(e.id),e,!0),this.refreshTask(e.id),this.updateTask(e.id)),t.$data.tasksStore._skipTaskRecalculation=!1,this.refreshData(),this.hideLightbox())},t._resolve_default_mapping=function(t){var e=t.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[t.type]?"auto"==t.map_to?e={start_date:"start_date",end_date:"end_date",duration:"duration"}:"string"==typeof t.map_to&&(e={start_date:t.map_to}):"constraint"===t.type&&(t.map_to&&"string"!=typeof t.map_to||(e={constraint_type:"constraint_type",constraint_date:"constraint_date"})),e},t.getLightboxValues=function(){let e={};t.isTaskExists(this._lightbox_id)&&(e=this.mixin({},this.getTask(this._lightbox_id)));const i=[...this._get_typed_lightbox_config()].sort(((t,e)=>"time"===t.name?1:"time"===e.name?-1:0));for(let n=0;n<i.length;n++){let r=t._lightbox_root.querySelector("#"+i[n].id);r=r&&r.nextSibling;let a=this.form_blocks[i[n].type];if(!a)continue;let s=a.get_value.call(this,r,e,i[n]),o=t._resolve_default_mapping(i[n]);if("string"==typeof o&&"auto"!=o)e[o]=s;else if("object"==typeof o)for(let t in o)o[t]&&(e[o[t]]=s[t])}return t._lightbox_current_type&&(e.type=t._lightbox_current_type),e},t.hideLightbox=function(){var t=this.getLightbox();t&&(t.style.display="none"),this._waiAria.lightboxHiddenAttr(t),this._lightbox_id=null,this.hideCover(t),this.resetLightbox(),this.callEvent("onAfterLightbox",[])},t.hideCover=function(t){t&&(t.style.display="none"),this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},t.resetLightbox=function(){t._lightbox&&!t._custom_lightbox&&t._lightbox.remove(),t._lightbox=null},t._set_lightbox_values=function(e,i){var n=e,r=i.getElementsByTagName("span"),a=[];t.templates.lightbox_header?(a.push(""),a.push(t.templates.lightbox_header(n.start_date,n.end_date,n)),r[1].innerHTML="",r[2].innerHTML=t.templates.lightbox_header(n.start_date,n.end_date,n)):(a.push(this.templates.task_time(n.start_date,n.end_date,n)),a.push(String(this.templates.task_text(n.start_date,n.end_date,n)||"").substr(0,70)),r[1].innerHTML=this.templates.task_time(n.start_date,n.end_date,n),r[2].innerHTML=String(this.templates.task_text(n.start_date,n.end_date,n)||"").substr(0,70)),r[1].innerHTML=a[0],r[2].innerHTML=a[1],t._waiAria.lightboxHeader(i,a.join(" "));for(var s=this._get_typed_lightbox_config(this.getLightboxType()),o=0;o<s.length;o++){var l=s[o];if(this.form_blocks[l.type]){var c=t._lightbox_root.querySelector("#"+l.id).nextSibling,d=this.form_blocks[l.type],h=t._resolve_default_mapping(s[o]),u=this.defined(n[h])?n[h]:l.default_value;d.set_value.call(t,c,u,n,l),l.focus&&d.focus.call(t,c)}}t.isTaskExists(e.id)&&(t._lightbox_id=e.id)},t._fill_lightbox=function(t,e){var i=this.getTask(t);this._set_lightbox_values(i,e)},t.getLightboxSection=function(e){for(var i=this._get_typed_lightbox_config(),n=0;n<i.length&&i[n].name!=e;n++);var r=i[n];if(!r)return null;this._lightbox||this.getLightbox();var a=t._lightbox_root.querySelector("#"+r.id),s=a.nextSibling,o={section:r,header:a,node:s,getValue:function(e){return t.form_blocks[r.type].get_value.call(t,s,e||{},r)},setValue:function(e,i){return t.form_blocks[r.type].set_value.call(t,s,e,i||{},r)}},l=this._lightbox_methods["get_"+r.type+"_control"];return l?l(o):o},t._lightbox_methods.get_template_control=function(t){return t.control=t.node,t},t._lightbox_methods.get_select_control=function(t){return t.control=t.node.getElementsByTagName("select")[0],t},t._lightbox_methods.get_textarea_control=function(t){return t.control=t.node.getElementsByTagName("textarea")[0],t},t._lightbox_methods.get_time_control=function(t){return t.control=t.node.getElementsByTagName("select"),t},t._init_dnd_events=function(){var e=t._lightbox_root;this.event(e,"mousemove",t._move_while_dnd),this.event(e,"mouseup",t._finish_dnd),this.event(e,"touchmove",(function(e){t._move_while_dnd(e.touches[0])})),this.event(e,"touchend",(function(e){t._finish_dnd(e.touches[0])}))},t._move_while_dnd=function(e){if(t._dnd_start_lb){document.gantt_unselectable||(t._lightbox_root.className+=" gantt_unselectable",document.gantt_unselectable=!0);var i=t.getLightbox(),n=[e.pageX,e.pageY];i.style.top=t._lb_start[1]+n[1]-t._dnd_start_lb[1]+"px",i.style.left=t._lb_start[0]+n[0]-t._dnd_start_lb[0]+"px"}},t._ready_to_dnd=function(e){var i=t.getLightbox();t._lb_start=[i.offsetLeft,i.offsetTop],t._dnd_start_lb=[e.pageX,e.pageY]},t._finish_dnd=function(){t._lb_start&&(t._lb_start=t._dnd_start_lb=!1,t._lightbox_root.className=t._lightbox_root.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},t._focus=function(e,i){if(e&&e.focus&&!t.config.touch)try{i&&e.select&&e.select(),e.focus()}catch{}},t.form_blocks={getTimePicker:function(e,i){var n,r,a,s="",o=this.config,l={first:0,last:1440,date:this.date.date_part(new Date(t._min_date.valueOf())),timeFormat:v(e)};for(e._time_format_order={size:0},t.config.limit_time_select&&(l.first=60*o.first_hour,l.last=60*o.last_hour+1,l.date.setHours(o.first_hour)),n=0;n<l.timeFormat.length;n++)n>0&&(s+=" "),(r=y(e,n,l))&&(a=t._waiAria.lightboxSelectAttrString(l.timeFormat[n]),s+="<select "+(e.readonly?"disabled='disabled'":"")+(i?" style='display:none' ":"")+a+">"+r+"</select>");return s},getTimePickerValue:function(e,i,n){var r,a=i._time_format_order,s=0,o=0,l=n||0;return t.defined(a[3])&&(r=parseInt(e[a[3]+l].value,10),s=Math.floor(r/60),o=r%60),new Date(e[a[2]+l].value,e[a[1]+l].value,e[a[0]+l].value,s,o)},_fill_lightbox_select:function(e,i,n,r){if(e[i+r[0]].value=n.getDate(),e[i+r[1]].value=n.getMonth(),e[i+r[2]].value=n.getFullYear(),t.defined(r[3])){var a=60*n.getHours()+n.getMinutes();a=Math.round(a/t._get_timepicker_step())*t._get_timepicker_step();var s=e[i+r[3]];s.value=a,s.setAttribute("data-value",a)}},template:new e,textarea:new i,select:new r,time:new n,duration:new o,parent:new c,radio:new s,checkbox:new a,resources:new d,constraint:new h,baselines:new f,typeselect:new u},t._is_lightbox_timepicker=function(){for(var t=this._get_typed_lightbox_config(),e=0;e<t.length;e++)if("time"==t[e].name&&"time"==t[e].type)return!0;return!1},t._delete_task_confirm=function({task:e,message:i,title:n,callback:r,ok:a}){t._simple_confirm(i,n,r,a)},t._delete_link_confirm=function({link:e,message:i,title:n,callback:r,ok:a}){t._simple_confirm(i,n,r,a)},t._simple_confirm=function(e,i,n,r){if(!e)return n();var a={text:e};i&&(a.title=i),r&&(a.ok=r),n&&(a.callback=function(t){t&&n()}),t.confirm(a)},t._get_typed_lightbox_config=function(e){void 0===e&&(e=this.getLightboxType());var i=g.call(this,e);return t.config.lightbox[i+"_sections"]?t.config.lightbox[i+"_sections"]:t.config.lightbox.sections},t._silent_redraw_lightbox=function(t){var e=this.getLightboxType();if(this.getState().lightbox){var i=this.getState().lightbox,n=this.getLightboxValues(),r=this.copy(this.getTask(i));this.resetLightbox();var a=this.mixin(r,n,!0),s=this.getLightbox(t||void 0);this._set_lightbox_values(a,s),this.showCover(s)}else this.resetLightbox(),this.getLightbox(t||void 0);this.callEvent("onLightboxChange",[e,this.getLightboxType()])}}function Nn(t){if(!mt.isNode){t.utils={arrayFind:R,dom:M};var e=at();t.event=e.attach,t.eventRemove=e.detach,t._eventRemoveAll=e.detachAll,t._createDomEventScope=e.extend,Z(t,hi(t));var i=xn(t);t.$ui=i.factory,t.$ui.layers=i.render,t.$mouseEvents=i.mouseEvents,t.$services.setService("mouseEvents",(function(){return t.$mouseEvents})),t.mixin(t,i.layersApi),delete(n=t).addTaskLayer,delete n.addLinkLayer,t.$services.setService("layers",(function(){return i.layersService})),t.mixin(t,function(){function t(t){return t.$ui.getView("timeline")}function e(t){return t.$ui.getView("grid")}function i(i){var n=t(i);if(n&&!n.$config.hidden)return n;var r=e(i);return r&&!r.$config.hidden?r:null}function n(t){var n,r=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach((function(t){r=r||!!document.querySelector(t)})),(n=r?e(t):i(t))?a(t,n,"scrollY"):null}function r(t){var e=i(t);return e&&"grid"!=e.id?a(t,e,"scrollX"):null}function a(t,e,i){var n=e.$config[i];return t.$ui.getView(n)}var s="DEFAULT_VALUE";function o(t,e,i,n){var r=t(this);return r&&r.isVisible()?r[e].apply(r,i):n?n():s}return{getColumnIndex:function(t){var i=o.call(this,e,"getColumnIndex",[t]);return i===s?0:i},dateFromPos:function(e){var i=o.call(this,t,"dateFromPos",Array.prototype.slice.call(arguments));return i===s?this.getState().min_date:i},posFromDate:function(e){var i=o.call(this,t,"posFromDate",[e]);return i===s?0:i},getRowTop:function(i){var n=this,r=o.call(n,t,"getRowTop",[i],(function(){return o.call(n,e,"getRowTop",[i])}));return r===s?0:r},getTaskTop:function(i){var n=this,r=o.call(n,t,"getItemTop",[i],(function(){return o.call(n,e,"getItemTop",[i])}));return r===s?0:r},getTaskPosition:function(e,i,n){var r=o.call(this,t,"getItemPosition",[e,i,n]);return r===s?{left:0,top:this.getTaskTop(e.id),height:this.getTaskBarHeight(e.id),width:0}:r},getTaskBarHeight:function(i,n){var r=this,a=o.call(r,t,"getBarHeight",[i,n],(function(){return o.call(r,e,"getItemHeight",[i])}));return a===s?0:a},getTaskHeight:function(i){var n=this,r=o.call(n,t,"getItemHeight",[i],(function(){return o.call(n,e,"getItemHeight",[i])}));return r===s?0:r},columnIndexByDate:function(e){var i=o.call(this,t,"columnIndexByDate",[e]);return i===s?0:i},roundTaskDates:function(){o.call(this,t,"roundTaskDates",[])},getScale:function(){var e=o.call(this,t,"getScale",[]);return e===s?null:e},getTaskNode:function(e){var i=t(this);if(i&&i.isVisible()){var n=i._taskRenderer.rendered[e];if(!n){var r=i.$config.item_attribute;n=i.$task_bars.querySelector("["+r+"='"+e+"']")}return n||null}return null},getLinkNode:function(e){var i=t(this);return i.isVisible()?i._linkRenderer.rendered[e]:null},scrollTo:function(t,e){var i=n(this),a=r(this),s={position:0},o={position:0};i&&(o=i.getScrollState()),a&&(s=a.getScrollState());var l=a&&1*t==t,c=i&&1*e==e;if(l&&c)for(var d=i._getLinkedViews(),h=a._getLinkedViews(),u=[],f=0;f<d.length;f++)for(var p=0;p<h.length;p++)d[f].$config.id&&h[p].$config.id&&d[f].$config.id===h[p].$config.id&&u.push(d[f].$config.id);l&&(u&&u.forEach(function(t){this.$ui.getView(t).$config.$skipSmartRenderOnScroll=!0}.bind(this)),a.scroll(t),u&&u.forEach(function(t){this.$ui.getView(t).$config.$skipSmartRenderOnScroll=!1}.bind(this))),c&&i.scroll(e);var g={position:0},m={position:0};i&&(g=i.getScrollState()),a&&(m=a.getScrollState()),this.callEvent("onGanttScroll",[s.position,o.position,m.position,g.position])},showDate:function(t){var e=this.posFromDate(t),i=Math.max(e-this.config.task_scroll_offset,0);this.scrollTo(i)},showTask:function(i){var n=this.getTaskPosition(this.getTask(i)),r=n.left;this.config.rtl&&(r=n.left+n.width);var s,o=Math.max(r-this.config.task_scroll_offset,0),l=this._scroll_state().y;s=l?n.top-(l-this.getTaskBarHeight(i))/2:n.top,this.scrollTo(o,s);var c=e(this),d=t(this);c&&d&&c.$config.scrollY!=d.$config.scrollY&&a(this,c,"scrollY").scrollTo(null,s)},_scroll_state:function(){var t={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},e=n(this),i=r(this);if(i){var a=i.getScrollState();a.visible&&(t.x=a.size,t.x_inner=a.scrollSize),t.x_pos=a.position||0}if(e){var s=e.getScrollState();s.visible&&(t.y=s.size,t.y_inner=s.scrollSize),t.y_pos=s.position||0}return t},getScrollState:function(){var t=this._scroll_state();return{x:t.x_pos,y:t.y_pos,inner_width:t.x,inner_height:t.y,width:t.x_inner,height:t.y_inner}},getLayoutView:function(t){return this.$ui.getView(t)},scrollLayoutCell:function(t,e,i){const n=this.$ui.getView(t);if(!n)return!1;if(null!==e){const t=this.$ui.getView(n.$config.scrollX);t&&t.scrollTo(e,null)}if(null!==i){const t=this.$ui.getView(n.$config.scrollY);t&&t.scrollTo(null,i)}}}}()),function(t){t.resetSkin||(t.resetSkin=function(){this.skin="",wn(!0,this)},t.skins={},t.attachEvent("onGanttLayoutReady",(function(){wn(!1,this),i()}))),t._addThemeClass=function(){document.documentElement.setAttribute("data-gantt-theme",t.skin)},t.setSkin=function(e){const n=this.skin!==e;this.skin=e,t._addThemeClass(),i(),t.$root&&(wn(!n,t),this.render())};let e=null;function i(){const i=t.$root;e&&clearInterval(e),i&&(e=setInterval((()=>{const e=getComputedStyle(i).getPropertyValue("--dhx-gantt-theme");e&&e!==t.skin&&t.setSkin(e)}),100))}t.attachEvent("onDestroy",(function(){clearInterval(e)}))}(t),function(t){t.skins.skyblue={config:{grid_width:370,row_height:27,bar_height_padding:4,scale_height:27,link_line_width:1,link_arrow_size:8,link_radius:2,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}(t),function(t){t.skins.dark={config:{grid_width:390,row_height:36,scale_height:36,link_line_width:2,link_arrow_size:12,bar_height_padding:9,lightbox_additional_height:75},_second_column_width:100,_third_column_width:70}}(t),function(t){t.skins.meadow={config:{grid_width:380,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:10,bar_height_padding:4,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}(t),function(t){t.skins.terrace={config:{grid_width:390,row_height:36,scale_height:36,link_line_width:2,link_arrow_size:12,bar_height_padding:9,lightbox_additional_height:75},_second_column_width:100,_third_column_width:70}}(t),function(t){t.skins.broadway={config:{grid_width:390,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:9,bar_height_padding:4,lightbox_additional_height:86},_second_column_width:100,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}(t),function(t){t.skins.material={config:{grid_width:411,row_height:34,scale_height:36,link_line_width:2,link_arrow_size:12,bar_height_padding:9,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_cancel_btn","dhx_save_btn"]}},t.attachEvent("onAfterTaskDrag",(function(e){var i=t.getTaskNode(e);i&&(i.className+=" gantt_drag_animation",setTimeout((function(){var t=i.className.indexOf(" gantt_drag_animation");t>-1&&(i.className=i.className.slice(0,t))}),200))}))}(t),function(t){t.skins.contrast_black={config:{grid_width:390,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:12,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}(t),function(t){t.skins.contrast_white={config:{grid_width:390,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:12,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}(t),function(t){t.ext||(t.ext={});for(var e=[Sn,null,null],i=0;i<e.length;i++)e[i]&&e[i](t);t.ext.zoom=new Pn(t)}(t),function(t){function e(){if("force"!=t.config.touch&&(t.config.touch=t.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),t.config.touch){var e=!0;try{document.createEvent("TouchEvent")}catch{e=!1}e?t._touch_events(["touchmove","touchstart","touchend"],(function(t){return t.touches&&t.touches.length>1?null:t.touches[0]?{target:t.target,pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:t}),(function(t){return t.defaultPrevented})):window.navigator.pointerEnabled?t._touch_events(["pointermove","pointerdown","pointerup"],(function(t){return"mouse"==t.pointerType?null:t}),(function(t){return!t||"mouse"==t.pointerType})):window.navigator.msPointerEnabled&&t._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],(function(t){return t.pointerType==t.MSPOINTER_TYPE_MOUSE?null:t}),(function(t){return!t||t.pointerType==t.MSPOINTER_TYPE_MOUSE}))}}function i(e){var i=e.$config.scrollX?t.$ui.getView(e.$config.scrollX):null,n=e.$config.scrollY?t.$ui.getView(e.$config.scrollY):null,r={x:null,y:null};return i&&i.getScrollState().visible&&(r.x=i.$view.scrollLeft),n&&n.getScrollState().visible&&(r.y=n.$view.scrollTop),r}function n(){var e;return t.$ui.getView("timeline")&&(e=t.$ui.getView("timeline")._tasks_dnd),e}t.config.touch_drag=75,t.config.touch=!0,t.config.touch_feedback=!0,t.config.touch_feedback_duration=1,t._prevent_touch_scroll=!1,t._touch_feedback=function(){t.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(t.config.touch_feedback_duration)},t.attachEvent("onGanttReady",(function(){t.$container&&e()})),t.attachEvent("onGanttLayoutReady",(function(){t.$container&&t.attachEvent("onGanttRender",e,{once:!0})}));var r=[];t._touch_events=function(e,a,s){var o,l=0,c=!1,d=!1,h=null,u=null,f=null,p=[],g=null;let m={};for(var _=0;_<r.length;_++)t.eventRemove(r[_][0],r[_][1],r[_][2]);(r=[]).push([t.$container,e[0],function(e){var r,f,p,m,_,y=n();if(!s(e)&&c){u&&clearTimeout(u);var b=a(e);if(y&&(y.drag.id||y.drag.start_drag))return y.on_mouse_move(b),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1;if(!t._prevent_touch_scroll){if(b&&h){var k=h.pageX-b.pageX,x=h.pageY-b.pageY;if(!d&&(Math.abs(k)>5||Math.abs(x)>5)&&(d=!0,l=0,o=g?i(g):t.getScrollState()),d){var w,S=o.x+k,T=o.y+x;if(g?(f=S,p=T,m=(r=g).$config.scrollX?t.$ui.getView(r.$config.scrollX):null,_=r.$config.scrollY?t.$ui.getView(r.$config.scrollY):null,m&&m.scrollTo(f,null),_&&_.scrollTo(null,p),w=i(g)):(t.scrollTo(S,T),w=t.getScrollState()),o.x!=w.x&&x>2*k||o.y!=w.y&&k>2*x)return v(e)}}return v(e)}return!0}}]);try{document.addEventListener("touchmove",(function(e){t._touch_drag&&v(e)}),{passive:!1})}catch{console.warn("Cannot prevent touch event for the page drag")}for(r.push([this.$container,"contextmenu",function(t){if(c)return v(t)}]),r.push([this.$container,e[1],function(e){if(m=e.touches.length,document&&document.body&&document.body.classList.add("gantt_touch_active"),!s(e))if(e.touches&&e.touches.length>1)c=!1;else{h=a(e),g=function(e){for(var i=t.$layout.getCellsByType("viewCell"),n=0;n<i.length;n++){var r=i[n].$view.getBoundingClientRect();if(e.clientX>=r.left&&e.clientX<=r.right&&e.clientY<=r.bottom&&e.clientY>=r.top)return i[n]}}(h),t._locate_css(h,"gantt_hor_scroll")||t._locate_css(h,"gantt_ver_scroll")||(c=!0);var i=n();u=setTimeout((function(){var e=t.locate(h);i&&e&&!t._locate_css(h,"gantt_link_control")&&!t._locate_css(h,"gantt_grid_data")&&(i.on_mouse_down(h),i.drag&&i.drag.start_drag&&(function(e){const i=t._getTaskLayers();let n=t.getTask(e);if(n){let r=t.isTaskVisible(e);if(r){f=e;for(let r=0;r<i.length;r++)if(n=i[r].rendered[e],n&&n.getAttribute(t.config.task_attribute)&&n.getAttribute(t.config.task_attribute)==e){const t=n.cloneNode(!0);p.push(n),i[r].rendered[e]=t,n.style.display="none",t.className+=" gantt_drag_move ",n.parentNode.appendChild(t)}}else if(n.$split_subtask){let a=n.$rendered_parent;if(r=t.isTaskVisible(a),!r)return;f=e;for(let e=0;e<i.length;e++){const r=i[e].rendered[a];let s;if(r&&r.childNodes&&(s=r.querySelector(`[${t.config.task_attribute}="${n.id}"]`)),s){const e=s.cloneNode(!0);s.parentNode.appendChild(e),t.$task_bars.appendChild(s),s.style.display="none",p.push(s),s=null}}}}}(e),i._start_dnd(h),t._touch_drag=!0,t.refreshTask(e),t._touch_feedback())),u=null}),t.config.touch_drag)}}]),r.push([this.$container,e[2],function(e){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!s(e)){u&&clearTimeout(u),t._touch_drag=!1,c=!1;var i=a(e),r=n();if(r&&r.on_mouse_up(i),f&&t.isTaskExists(f)&&(t.refreshTask(f),p.length&&(p.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)})),t._touch_feedback())),c=d=!1,p=[],f=null,h&&l){var o=new Date;o-l<500&&m<=1?(t.$services.getService("mouseEvents").onDoubleClick(h),v(e)):l=o}else l=new Date}}]),_=0;_<r.length;_++)t.event(r[_][0],r[_][1],r[_][2]);function v(t){return t&&t.preventDefault&&t.cancelable&&t.preventDefault(),t.cancelBubble=!0,!1}}}(t),Fn(t),function(t){t._extend_to_optional=function(e){var i=e,n={render:i.render,focus:i.focus,set_value:function(e,r,a,s){var o=t._resolve_default_mapping(s);if(!a[o.start_date]||"start_date"==o.start_date&&this._isAllowedUnscheduledTask(a)){n.disable(e,s);var l={};for(var c in o)l[o[c]]=a[c];return i.set_value.call(t,e,r,l,s)}return n.enable(e,s),i.set_value.call(t,e,r,a,s)},get_value:function(e,n,r){return r.disabled?{start_date:null}:i.get_value.call(t,e,n,r)},update_block:function(e,i){if(t.callEvent("onSectionToggle",[t._lightbox_id,i]),e.style.display=i.disabled?"none":"",i.button){var n=e.previousSibling.querySelector(".gantt_custom_button_label"),r=t.locale.labels,a=i.disabled?r[i.name+"_enable_button"]:r[i.name+"_disable_button"];n.innerHTML=a}},disable:function(t,e){e.disabled=!0,n.update_block(t,e)},enable:function(t,e){e.disabled=!1,n.update_block(t,e)},button_click:function(e,i,r,a){if(!1!==t.callEvent("onSectionButton",[t._lightbox_id,r])){var s=t._get_typed_lightbox_config()[e];s.disabled?n.enable(a,s):n.disable(a,s)}}};return n},t.form_blocks.duration_optional=t._extend_to_optional(t.form_blocks.duration),t.form_blocks.time_optional=t._extend_to_optional(t.form_blocks.time)}(t),function(t){var e=new RegExp("<(?:.|\n)*?>","gm"),i=new RegExp(" +","gm");function n(t){return(t+"").replace(e," ").replace(i," ")}var r=new RegExp("'","gm");function a(t){return(t+"").replace(r,"&#39;")}for(var s in t._waiAria={getAttributeString:function(t){var e=[" "];for(var i in t){var r=a(n(t[i]));e.push(i+"='"+r+"'")}return e.push(" "),e.join(" ")},getTimelineCellAttr:function(e){return t._waiAria.getAttributeString({"aria-label":e})},_taskCommonAttr:function(e,i){e.start_date&&e.end_date&&(i.setAttribute("aria-label",n(t.templates.tooltip_text(e.start_date,e.end_date,e))),e.$dataprocessor_class&&i.setAttribute("aria-busy",!0))},setTaskBarAttr:function(e,i){this._taskCommonAttr(e,i),i.setAttribute("role","img"),!t.isReadonly(e)&&t.config.drag_move&&(e.id!=t.getState("tasksDnd").drag_id?i.setAttribute("aria-grabbed",!1):i.setAttribute("aria-grabbed",!0))},taskRowAttr:function(e,i){this._taskCommonAttr(e,i),!t.isReadonly(e)&&t.config.order_branch&&i.setAttribute("aria-grabbed",!1),i.setAttribute("role","row"),i.setAttribute("aria-selected",t.isSelectedTask(e.id)?"true":"false"),i.setAttribute("aria-level",e.$level+1||1),t.hasChild(e.id)&&i.setAttribute("aria-expanded",e.$open?"true":"false")},linkAttr:function(e,i){var r=t.config.links,a=e.type==r.finish_to_start||e.type==r.start_to_start,s=e.type==r.start_to_start||e.type==r.start_to_finish,o=t.locale.labels.link+" "+t.templates.drag_link(e.source,s,e.target,a);i.setAttribute("role","img"),i.setAttribute("aria-label",n(o))},gridSeparatorAttr:function(t){t.setAttribute("role","columnheader")},rowResizerAttr:function(t){t.setAttribute("role","row")},lightboxHiddenAttr:function(t){t.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(t){t.setAttribute("aria-hidden","false")},lightboxAttr:function(t){t.setAttribute("role","dialog"),t.setAttribute("aria-hidden","true"),t.firstChild.setAttribute("role","heading"),t.firstChild.setAttribute("aria-level","1")},lightboxButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":t.locale.labels[e],tabindex:"0"})},lightboxHeader:function(t,e){t.setAttribute("aria-label",e)},lightboxSelectAttrString:function(e){var i="";switch(e){case"%Y":i=t.locale.labels.years;break;case"%m":i=t.locale.labels.months;break;case"%d":i=t.locale.labels.days;break;case"%H:%i":i=t.locale.labels.hours+t.locale.labels.minutes}return t._waiAria.getAttributeString({"aria-label":i})},lightboxDurationInputAttrString:function(e){return this.getAttributeString({"aria-label":t.locale.labels.column_duration,"aria-valuemin":"0",role:"spinbutton"})},inlineEditorAttr:function(t){t.setAttribute("role","row")},gridAttrString:function(){return[" role='treegrid'",t.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(e,i){var n="";if("add"==e.name)n=this.getAttributeString({role:"columnheader","aria-label":t.locale.labels.new_task});else{var r={role:"columnheader","aria-label":t.config.external_render&&t.config.external_render.isElement(i)?"":i};t._sort&&t._sort.name==e.name&&("asc"==t._sort.direction?r["aria-sort"]="ascending":r["aria-sort"]="descending"),n=this.getAttributeString(r)}return n},gridDataAttrString:function(){return"role='rowgroup'"},reorderMarkerAttr:function(t){t.setAttribute("role","grid"),t.firstChild.removeAttribute("aria-level"),t.firstChild.setAttribute("aria-grabbed","true")},gridCellAttrString:function(e,i,n){var r={role:"gridcell","aria-label":i};return e.editor&&!t.isReadonly(n)||(r["aria-readonly"]=!0),this.getAttributeString(r)},gridAddButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":t.locale.labels.new_task})},messageButtonAttrString:function(t){return"tabindex='0' role='button' aria-label='"+t+"'"},messageInfoAttr:function(t){t.setAttribute("role","alert")},messageModalAttr:function(t,e){t.setAttribute("role","dialog"),e&&t.setAttribute("aria-labelledby",e)},quickInfoAttr:function(t){t.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' aria-level='1' "},quickInfoHeader:function(t,e){t.setAttribute("aria-label",e)},quickInfoButtonAttrString:function(e){return t._waiAria.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},tooltipAttr:function(t){t.setAttribute("role","tooltip")},tooltipVisibleAttr:function(t){t.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(t){t.setAttribute("aria-hidden","true")}},t._waiAria)t._waiAria[s]=function(e){return function(){return t.config.wai_aria_attributes?e.apply(this,arguments):""}}(t._waiAria[s])}(t),t.locate=function(t){var e=m(t);if(w(e,".gantt_task_row"))return null;var i=arguments[1]||this.config.task_attribute,n=_(e,i);return n?n.getAttribute(i):null},t._locate_css=function(t,e,i){return y(t,e,i)},t._locateHTML=function(t,e){return _(t,e||this.config.task_attribute)}}var n;t.attachEvent("onParse",(function(){$t(t)||t.attachEvent("onGanttRender",(function(){if(t.config.initial_scroll){var e=t.getTaskByIndex(0),i=e?e.id:t.config.root_id;t.isTaskExists(i)&&t.$task&&t.utils.dom.isChildOf(t.$task,t.$container)&&t.showTask(i)}}),{once:!0})})),t.attachEvent("onBeforeGanttReady",(function(){this.config.scroll_size||(this.config.scroll_size=o()||15),$t(t)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())})),t.attachEvent("onGanttReady",(function(){!$t(t)&&t.config.rtl&&t.$layout.getCellsByType("viewCell").forEach((function(e){var i=e.$config.scrollX;if(i){var n=t.$ui.getView(i);n&&n.scrollTo(n.$config.scrollSize,0)}}))})),t.attachEvent("onGanttReady",(function(){if(!$t(t)){var e=t.plugins(),i={auto_scheduling:t.autoSchedule,click_drag:t.ext.clickDrag,critical_path:t.isCriticalTask,drag_timeline:t.ext.dragTimeline,export_api:t.exportToPDF,fullscreen:t.ext.fullscreen,grouping:t.groupBy,keyboard_navigation:t.ext.keyboardNavigation,marker:t.addMarker,multiselect:t.eachSelectedTask,overlay:t.ext.overlay,quick_info:t.templates.quick_info_content,tooltip:t.ext.tooltips,undo:t.undo};for(let t in i)i[t]&&!e[t]&&console.warn(`You connected the '${t}' extension via an obsolete file. \nTo fix it, you need to remove the obsolete file and connect the extension via the plugins method: https://docs.dhtmlx.com/gantt/api__gantt_plugins.html`)}}))}const Bn=P.gantt=function(t){var e,i=di(t);return i.env.isNode||(Nn(i),(e=i).load=function(t,i,n){this._load_url=t,this.assert(arguments.length,"Invalid load arguments");var r="json",a=null;return arguments.length>=3?(r=i,a=n):"string"==typeof arguments[1]?r=arguments[1]:"function"==typeof arguments[1]&&(a=arguments[1]),this._load_type=r,this.callEvent("onLoadStart",[t,r]),this.ajax.get(t,e.bind((function(e){this.on_load(e,r),this.callEvent("onLoadEnd",[t,r]),"function"==typeof a&&a.call(this)}),this))}),i}(ut);t.default=Bn,t.gantt=Bn,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));